(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{226:function(e,t,n){},317:function(e,t,n){},319:function(e,t,n){},342:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){},353:function(e,t,n){},378:function(e,t){},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},399:function(e,t,n){},400:function(e,t,n){},401:function(e,t,n){},402:function(e,t,n){},411:function(e,t,n){},412:function(e,t,n){},413:function(e,t,n){},414:function(e,t,n){},415:function(e,t,n){},562:function(e,t,n){},563:function(e,t,n){},564:function(e,t,n){},565:function(e,t,n){},566:function(e,t,n){},567:function(e,t,n){},568:function(e,t,n){},569:function(e,t,n){},570:function(e,t,n){},578:function(e,t,n){},579:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(13),o=n.n(a),c=(n(317),n(7)),s=n(8),r=n.n(s),l=n(9),d=n(5),u=(n(319),n(20)),b=n(15),j="https://baby-dont-cry.herokuapp.com",m="LOGIN_USER",h="REGISTER_USER",v="PERSONAL_USER",f="PERSONAL_USER_BY_ID",p="LOGOUT_USER",O="SUGGESTED_ACCOUNTS",x="GET_POST",g="GET_POST_BY_ID",y="GET_DETAILS_POST",N="GET_DETAILS_POST_COMMENT",_="GET_DETAILS_POST_INDEX",k="ALL_USER",w="GET_MY_PERSONAL",C="GET_PERSONAL_BY_ID_OF_ME",S="LOAD_MORE",P="GET_BILL",T="GET_POST_APARTMENT",E="CREATE_PAYMENT",I="PAYMENT_HISTORY",R=n(85),A=n.n(R);function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return A()({method:e,url:"".concat(j).concat(t),data:n})}var U=n(11),B=n.n(U),F=(new u.a).get("user"),M=function(e,t){return{type:m,data:e,history:t}},q=function(e){return function(){var t=Object(l.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D("PUT","/user/signIn?id=".concat(e),null);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},L=function(e,t){return{type:h,data:e,history:t}},H=function(e,t){return function(){var n=Object(l.a)(r.a.mark((function n(i){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D("GET","/user?id=".concat(e||F),null);case 3:a=n.sent,t&&t(!1),i(G(null===a||void 0===a?void 0:a.data)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},G=function(e){return{type:C,data:e}},z=function(e,t,n){return function(){var i=Object(l.a)(r.a.mark((function i(a){var o,c;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,D("GET","/user?username=".concat(t),null);case 3:200===(null===(o=i.sent)||void 0===o?void 0:o.status)&&(a(V(null===o||void 0===o?void 0:o.data)),a(ee(e,null===o||void 0===o||null===(c=o.data)||void 0===c?void 0:c.id,n)),F&&a(H(F))),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),console.log(i.t0);case 10:case"end":return i.stop()}}),i,null,[[0,7]])})));return function(e){return i.apply(this,arguments)}}()},V=function(e){return{type:w,data:e}},Y=function(e,t){return{type:v,data:e,setShowLoading:t}},X=function(e,t,n,i,a,o){return function(){var c=Object(l.a)(r.a.mark((function c(s){var l;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,D("PUT","/user",e);case 3:l=c.sent,a(!0),"success"===(null===l||void 0===l?void 0:l.data)?(i&&i({text:"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng"}),s(z(t,(null===e||void 0===e?void 0:e.username)?null===e||void 0===e?void 0:e.username:n)),F&&s(H(F))):i({text:"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i"}),setTimeout((function(){a(!1)}),5e3),o&&o(!1),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),console.log(c.t0);case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()},W=function(e,t,n){return function(i){return D("POST","/user/follow?myId=".concat(F,"&followingId=").concat(e)).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&(i(Q(F)),i(z(t,n)))})).catch((function(e){return console.log(e)}))}},Q=function(e){return console.log(e),function(t){return D("GET","/user/suggestedAccounts?id=".concat(e),null).then((function(e){t(Z(e))}))}},Z=function(e){return{type:O,data:e}},J=function(e,t,n,i){return function(){var a=Object(l.a)(r.a.mark((function a(o){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o(Q(t)),t&&o(H(t)),a.next=5,D("GET","/post?id=".concat(t),null);case 5:c=a.sent,i&&i(!0),e&&e(!1),200===c.status?(o(K(null===c||void 0===c?void 0:c.data)),n&&n({text:"\u0110\xe3 t\u1ea3i b\xe0i vi\u1ebft !!!"})):n&&n({text:"C\u1eadp nh\u1eadt b\xe0i vi\u1ebft th\u1ea5t b\u1ea1i !!!"}),setTimeout((function(){i&&i(!1)}),6e3),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()},K=function(e){return{type:x,data:e}},$=function(e){return{type:S,data:e}},ee=function(e,t,n,i,a){return function(){var o=Object(l.a)(r.a.mark((function o(c){var s;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,D("GET","/post/byId?accountId=".concat(t),null);case 3:s=o.sent,e&&e(!1),n&&n(!1),i&&i(!1),a&&a(!0),setTimeout((function(){a&&a(!1)}),6e3),200===(null===s||void 0===s?void 0:s.status)&&c(te(null===s||void 0===s?void 0:s.data)),o.next=15;break;case 12:o.prev=12,o.t0=o.catch(0),console.log(o.t0);case 15:case"end":return o.stop()}}),o,null,[[0,12]])})));return function(e){return o.apply(this,arguments)}}()},te=function(e){return{type:g,data:e}},ne=function(e,t,n,i){return function(){var e=Object(l.a)(r.a.mark((function e(a){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("GET","/post/byId?postId=".concat(t),null);case 3:o=e.sent,B.a.isEmpty(null===o||void 0===o?void 0:o.data)&&i&&i(!0),n&&n(!1),a(ie(null===o||void 0===o?void 0:o.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},ie=function(e){return{type:_,data:e}},ae=function(e,t){return{type:y,data:e,typePost:t}},oe=function(e,t,n,i,a,o){return function(){var c=Object(l.a)(r.a.mark((function c(s){var l;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,D("POST","/post/comment",{id_post:e,id_owner:t,id_account:n,contentHtml:i,mentionList:a});case 3:(null===(l=c.sent)||void 0===l?void 0:l.status)>=200&&(null===l||void 0===l?void 0:l.status)<300&&s(se(e,o,"commentPost")),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),console.log(c.t0);case 10:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(e){return c.apply(this,arguments)}}()},ce=function(e,t,n,i,a){return function(){var o=Object(l.a)(r.a.mark((function o(c){var s;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,D("POST","/post/like",{id_post:e,id_owner:t,id_account:n});case 3:(null===(s=o.sent)||void 0===s?void 0:s.status)>=200&&(null===s||void 0===s?void 0:s.status)<300&&c(se(e,a,"likePost",i)),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),console.log(o.t0);case 10:case"end":return o.stop()}}),o,null,[[0,7]])})));return function(e){return o.apply(this,arguments)}}()},se=function(e,t,n,i){return function(){var a=Object(l.a)(r.a.mark((function a(o){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,D("GET","/post/byId?postId=".concat(e),null);case 3:c=a.sent,t&&t(!1),"likePost"===n&&(o(ae(null===c||void 0===c?void 0:c.data,i)),o(ie(null===c||void 0===c?void 0:c.data))),"commentPost"===n&&o((s=null===c||void 0===c?void 0:c.data,{type:N,data:s})),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}var s}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},re=function(e){return{type:k,data:e}},le=(n(342),n(2));var de=function(e){return Object(le.jsx)("div",{className:"backGroundGlobalLoading",children:Object(le.jsxs)("div",{className:"_preloader",id:"_preloader_loading",children:[Object(le.jsx)("div",{className:"_item _item-1"}),Object(le.jsx)("div",{className:"_item _item-2"}),Object(le.jsx)("div",{className:"_item _item-3"}),Object(le.jsx)("div",{className:"_item _item-4"})]})})};n(344);var ue=Object(b.b)((function(e){return{messageRegister:e.User.register}}),(function(e,t){return{registerUserRequest:function(t,n,i,a,o,c){e(function(e,t,n,i,a,o){return function(c){return D("POST","/user/signUp",{email:n,password:i,username:t,name:e,description:""}).then((function(e){o(!1),c(L(e,a))})).catch((function(e){console.log(e)}))}}(t,n,i,a,o,c))}}}))((function(e){var t=e.registerUserRequest,n=e.openUiRegister,a=e.history,o=e.messageRegister,c=Object(i.useState)(""),s=Object(d.a)(c,2),r=s[0],l=s[1],u=Object(i.useState)(""),b=Object(d.a)(u,2),j=b[0],m=b[1],h=Object(i.useState)(""),v=Object(d.a)(h,2),f=v[0],p=v[1],O=Object(i.useState)(""),x=Object(d.a)(O,2),g=x[0],y=x[1],N=Object(i.useState)(""),_=Object(d.a)(N,2),k=_[0],w=_[1],C=Object(i.useState)(""),S=Object(d.a)(C,2),P=S[0],T=S[1],E=Object(i.useState)(""),I=Object(d.a)(E,2),R=I[0],A=I[1],D=Object(i.useState)(""),U=Object(d.a)(D,2),B=U[0],F=U[1],M=Object(i.useState)(""),q=Object(d.a)(M,2),L=q[0],H=q[1],G=Object(i.useState)(""),z=Object(d.a)(G,2),V=z[0],Y=z[1],X=Object(i.useState)(""),W=Object(d.a)(X,2),Q=W[0],Z=W[1],J=Object(i.useState)(""),K=Object(d.a)(J,2),$=K[0],ee=K[1],te=Object(i.useState)(""),ne=Object(d.a)(te,2),ie=ne[0],ae=ne[1],oe=Object(i.useState)(!1),ce=Object(d.a)(oe,2),se=ce[0],re=ce[1];Object(i.useEffect)((function(){ee(o.messageEmailAlready),Z(o.messageUsernameAlready),ae(o.messageEmailUsernameAlready)}));var ue=function(e){var t=e.target.name,n=e.target.value;"name"===t&&(l(n),T(""!==P?"":P)),"username"===t&&(Z(""),m(n),A(""!==R?"":R)),"email"===t&&(ee(""),p(n),""!==n?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())?F(""):F("Email ph\u1ea3i nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng ( exp: abc@gmail.com )"):F("")),"password"===t&&(y(n),""!==n?n.length>=8?H(""):H("Password ph\u1ea3i l\u1edbn h\u01a1n ho\u1eb7c b\u1eb1ng 8 k\xfd t\u1ef1 ( exp: 12345678 )"):H("")),"againPassword"===t&&(w(n),Y(""!==n?n===g?"":"M\u1eadt kh\u1ea9u nh\u1eadp l\u1ea1i kh\xf4ng tr\xf9ng kh\u1edbp!":""))};return Object(le.jsxs)("div",{children:[se&&Object(le.jsx)(de,{}),Object(le.jsx)("div",{className:"backgroundRegister",style:n?{transform:"translateY(0%)"}:{transform:"translateY(135%)",transitionDelay:"0.3s"},children:Object(le.jsxs)("div",{className:"backgroundRegister_form",id:P||R||B||L||V?"largeFormRegister":"smallFormRegister",style:n?{transform:"translateY(0%)",transition:"0.3s"}:{transform:"translateY(135%)",transition:"0.3s"},children:[Object(le.jsxs)("div",{className:"backgroundRegister_form-top",children:[Object(le.jsxs)("div",{className:"form_top-left",children:[Object(le.jsx)("h2",{id:"form_top-h2",children:"\u0110\u0103ng k\xfd"}),Object(le.jsx)("p",{id:"form_top-p",children:"Nhanh ch\xf3ng v\xe0 d\u1ec5 d\xe0ng."})]}),Object(le.jsx)("div",{className:"form_top-right",children:Object(le.jsx)("i",{className:"fas fa-times",id:"form_top-iconClose",onClick:function(){e.closeForm(!1)}})})]}),Object(le.jsxs)("div",{className:"backgroundRegister_form-body",children:[Object(le.jsx)("input",{type:"text",name:"name",id:"form_body-input",placeholder:"H\u1ecd v\xe0 t\xean",onChange:ue,style:P?{border:"1px solid red"}:null}),Object(le.jsx)("p",{id:"error",children:P||null}),Object(le.jsx)("input",{type:"text",name:"email",id:"form_body-input",placeholder:"Email",onChange:ue,style:B||$||ie?{border:"1px solid red"}:null}),Object(le.jsx)("p",{id:"error",children:$||null}),Object(le.jsx)("p",{id:"error",children:ie||null}),Object(le.jsx)("p",{id:"error",children:B||null}),Object(le.jsx)("input",{type:"text",name:"username",id:"form_body-input",placeholder:"Username",onChange:ue,style:R||Q||ie?{border:"1px solid red"}:null}),Object(le.jsx)("p",{id:"error",children:Q||null}),Object(le.jsx)("p",{id:"error",children:ie||null}),Object(le.jsx)("p",{id:"error",children:R||null}),Object(le.jsx)("input",{type:"password",name:"password",id:"form_body-input",placeholder:"M\u1eadt kh\u1ea9u",onChange:ue,style:L?{border:"1px solid red"}:null}),Object(le.jsx)("p",{id:"error",children:L||null}),Object(le.jsx)("input",{type:"password",name:"againPassword",id:"form_body-input",placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",onChange:ue,style:V?{border:"1px solid red"}:null}),Object(le.jsx)("p",{id:"error",children:V||null}),Object(le.jsx)("p",{id:"form_body-p",children:"B\u1eb1ng c\xe1ch nh\u1ea5p v\xe0o \u0111\u0103ng k\xfd, b\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi \u0111i\u1ec1u kho\u1ea3n, ch\xednh s\xe1ch d\u1eef li\u1ec7u v\xe0 Ch\xednh s\xe1ch cookie c\u1ee7a ch\xfang t\xf4i. B\u1ea1n c\xf3 th\u1ec3 nh\u1eadn \u0111\u01b0\u1ee3c th\xf4ng b\xe1o c\u1ee7a ch\xfang t\xf4i qua SMS v\xe0 h\u1ee7y nh\u1eadn b\u1ea5t k\u1ef3 l\xfac n\xe0o."})]}),Object(le.jsx)("div",{className:"backgroundRegister_form-bottom",children:Object(le.jsx)("button",{id:"form_bottom-buttonRegister",onClick:function(){return""===r&&T("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"),""===j&&A("Username kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),""===f&&F("Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"),""===g&&H("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"),""===k&&Y("Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),void(""!==r&&""!==j&&""!==f&&""!==g&&""!==k&&(re(!0),t(r,j,f,g,a,re)))},children:"\u0110\u0103ng k\xfd"})})]})})]})})),be=n.p+"static/media/logo.8d1a8237.png";var je=Object(b.b)((function(e){return{messageLogin:e.User.login}}),(function(e){return{loginUserRequest:function(t,n,i,a){e(function(e,t,n,i){return function(a){return D("POST","/user/signIn",{email:e,password:t}).then((function(e){i(!1),a(M(e,n))})).catch((function(e){console.log(e)}))}}(t,n,i,a))}}}))((function(e){var t=e.loginUserRequest,n=e.history,a=e.messageLogin,o=new u.a,c=Object(i.useState)(!1),s=Object(d.a)(c,2),r=s[0],l=s[1],b=Object(i.useState)(!1),j=Object(d.a)(b,2),m=j[0],h=j[1],v=Object(i.useState)(""),f=Object(d.a)(v,2),p=f[0],O=f[1],x=Object(i.useState)(""),g=Object(d.a)(x,2),y=g[0],N=g[1],_=Object(i.useState)(""),k=Object(d.a)(_,2),w=k[0],C=k[1],S=Object(i.useState)(""),P=Object(d.a)(S,2),T=P[0],E=P[1],I=Object(i.useState)(""),R=Object(d.a)(I,2),A=R[0],D=R[1],U=Object(i.useState)(!1),B=Object(d.a)(U,2),F=B[0],M=B[1];Object(i.useEffect)((function(){o.get("user")?(l(!0),n.push("/")):(D(a.messageIncorrect),l(!1))}),[o,n,a.messageIncorrect]);var q=function(e){var t=e.target.name,n=e.target.value;"email"===t?(D(""),O(n),""!==n?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())?C(""):C("Email ph\u1ea3i nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng!"):C("Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!")):(D(""),N(n),""!==n?n.length<8?E("M\u1eadt kh\u1ea9u ph\u1ea3i l\u1edbn h\u01a1n ho\u1eb7c b\u1eb1ng 8 k\xed t\u1ef1"):E(""):E("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"))};return Object(le.jsxs)("div",{style:r?{display:"none"}:{display:"block"},children:[F&&Object(le.jsx)(de,{}),Object(le.jsx)("div",{className:"container",children:Object(le.jsxs)("div",{className:"container_content",children:[Object(le.jsxs)("div",{className:"containerContent_left",children:[Object(le.jsx)("div",{className:"containerContent_left-logo",children:Object(le.jsx)("img",{src:be,alt:"",id:"containerContent_left-logo"})}),Object(le.jsx)("div",{className:"containerContent_left-title",children:Object(le.jsx)("h3",{id:"containerContent_left-title",children:"DTOnstagram gi\xfap b\u1ea1n k\u1ebft n\u1ed1i v\xe0 chia s\u1ebb v\u1edbi m\u1ecdi ng\u01b0\u1eddi trong cu\u1ed9c s\u1ed1ng c\u1ee7a b\u1ea1n."})})]}),Object(le.jsxs)("div",{className:"containerContent_right",children:[Object(le.jsx)("div",{className:"containerContent_right-top",children:Object(le.jsxs)("div",{className:"right_top-form",children:[Object(le.jsx)("p",{id:"error",style:{textAlign:"center"},children:A||null}),Object(le.jsx)("input",{type:"email",name:"email",id:"top_form-input",placeholder:"Email",onChange:q,style:w||A?{border:"1px solid red"}:null}),Object(le.jsx)("p",{id:"error",children:w||null}),Object(le.jsx)("input",{type:"password",name:"password",id:"top_form-input",placeholder:"M\u1eadt kh\u1ea9u",onChange:q,style:T||A?{border:"1px solid red"}:null}),Object(le.jsx)("p",{id:"error",children:T||null}),Object(le.jsx)("button",{id:"top_form-buttonLogin",onClick:function(){return""===p&&C("Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"),""===y&&E("Password kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"),void(""!==p&&""!==y&&""===w&&""===T&&(M(!0),t(p,y,n,M)))},children:"\u0110\u0103ng nh\u1eadp"}),Object(le.jsx)("div",{className:"forgotPassword",children:Object(le.jsx)("a",{href:"#",id:"top_form-forgotPassword",children:"Qu\xean m\u1eadt kh\u1ea9u?"})}),Object(le.jsx)("div",{className:"registerUser",children:Object(le.jsx)("button",{id:"top_form-buttonRegister",onClick:function(){h(!0)},children:"T\u1ea1o t\xe0i kho\u1ea3n m\u1edbi"})})]})}),Object(le.jsx)("div",{className:"containerContent_right-bottom"})]})]})}),Object(le.jsx)(ue,{openUiRegister:m,closeForm:function(){h(!1)},history:n})]})}));var me=function(e){var t=e.history;return Object(le.jsx)("div",{className:"container",children:Object(le.jsx)(je,{history:t})})},he=(n(345),n(31));var ve=function(e){var t=Object(he.f)();return Object(le.jsx)("div",{children:Object(le.jsx)("div",{className:"backgroundNotFound",children:Object(le.jsxs)("div",{className:"backgroundNotFound_form",children:[Object(le.jsx)("div",{className:"backgroundNotFound_form-top",children:Object(le.jsx)("h1",{children:"R\u1ea5t ti\u1ebfc, trang n\xe0y hi\u1ec7n kh\xf4ng kh\u1ea3 d\u1ee5ng"})}),Object(le.jsxs)("div",{className:"backgroundNotFound_form-body",children:[" ",Object(le.jsx)("p",{children:"Li\xean k\u1ebft b\u1ea1n theo d\xf5i c\xf3 th\u1ec3 b\u1ecb h\u1ecfng ho\u1eb7c trang n\xe0y c\xf3 th\u1ec3 \u0111\xe3 b\u1ecb g\u1ee1."})]}),Object(le.jsx)("div",{className:"backgroundNotFound_form-bottom",onClick:function(){return t.push("/"),void(!B.a.isEmpty(e)&&e.onCloseFormNotFound(!1))},children:"Quay l\u1ea1i DTOnstagram"})]})})})};var fe=function(e){return Object(le.jsx)("div",{children:Object(le.jsx)(ve,{})})},pe=(n(349),n(21)),Oe=n(18),xe=(n(350),n(22)),ge=[];var ye=Object(b.b)((function(e){return{personal:e.MyPersonal}}),(function(e){return{postNewsRequest:function(t,n,i,a,o,c,s){e(function(e,t,n,i,a,o,c){return function(s){return D("POST","/post",{id_account:e,imageSrc:t,content:n}).then((function(t){a(!1),"success"===t.data&&(o&&o(!0),c&&c({text:"Th\xeam b\xe0i vi\u1ebft th\xe0nh c\xf4ng"}),setTimeout((function(){o&&o(!1)}),6e3),s(ee(i,e)))}))}}(t,n,i,a,o,c,s))},updatePostRequest:function(t,n,i,a,o,c,s,d,u){e(function(e,t,n,i,a,o,c,s,d){return function(){var u=Object(l.a)(r.a.mark((function l(u){var b;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,D("PUT","/post",{id_post:e,imageSrc:t,content:n});case 3:b=r.sent,a&&a(!1),o&&o(!1),"success"===b.data&&(s&&s(!0),d&&d({text:"C\u1eadp nh\u1eadt b\xe0i vi\u1ebft th\xe0nh c\xf4ng"}),setTimeout((function(){s&&s(!1)}),6e3),u(J(i,c)),u(ee(i,c)),u(ne(0,e))),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),l,null,[[0,9]])})));return function(e){return u.apply(this,arguments)}}()}(t,n,i,a,o,c,s,d,u))}}}))((function(e){var t=e.personal,n=e.openFromAddNews,a=e.setOpenFormAddNews,o=e.dataDetailPost,c=e.setOpenUiUpdatePost,s=e.setOpenToast,b=e.setValueToast,j=new u.a,m=j.get("user"),h=Object(i.useState)([]),v=Object(d.a)(h,2),f=v[0],p=v[1],O=Object(i.useState)(""),x=Object(d.a)(O,2),g=x[0],y=x[1],N=Object(i.useState)(!0),_=Object(d.a)(N,2),k=_[0],w=_[1],C=Object(i.useState)([]),S=Object(d.a)(C,2),P=S[0],T=S[1],E=Object(i.useState)(!1),I=Object(d.a)(E,2),R=I[0],A=I[1],D=Object(i.useState)(!1),U=Object(d.a)(D,2),F=U[0],M=U[1];Object(i.useEffect)((function(){k&&(o&&(null===o||void 0===o||o.imageSrc.forEach((function(e){ge.push(e)})),y(null===o||void 0===o?void 0:o.content)),p(ge)),T(void 0===o?t:o),w(!1)}),[o,k,f,j,t]);var q=function(e){var t=new FormData;t.append("file",e),t.append("upload_preset","ml_default"),fetch("https://api.Cloudinary.com/v1_1/baby-dont-cry/image/upload",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){ge.push(e.url),p(ge)})).catch((function(e){console.log(e)}))},L=function(){var e=Object(l.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target.files).length>1)for(i=0;i<n.length;i++)q(n[i]);else q(n[0]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){var t=Object(Oe.a)(ge),n=t.findIndex((function(t){return t===e}));t.splice(n,1),p(t),ge=t};return Object(le.jsxs)("div",{className:"backgroundAddfr",style:n?{transform:"translateY(0%)"}:{transform:"translateY(100%)",transitionDelay:".5s"},children:[F&&Object(le.jsx)(xe.Popup,{fullScreen:!0,icon:"warning",onClose:function(){M(!1)},open:!0,pressESCToClose:!0,title:"H\xecnh \u1ea3nh \u0111\u0103ng l\xean l\xe0 b\u1eaft bu\u1ed9c, y\xeau c\u1ea7u ng\u01b0\u1eddi d\xf9ng b\u1ed5 sung"}),R&&Object(le.jsx)(de,{}),Object(le.jsxs)("div",{className:"backgroundAddfr_form",style:n?{transform:"translateY(0%)",transition:"0.5s"}:{transform:"translateY(175%)",transition:"0.5s"},id:0!==f.length?"largeForm":"smallForm",children:[Object(le.jsxs)("div",{className:"backgroundAddfr_form-top",children:[o?"Ch\u1ec9nh s\u1eeda b\xe0i vi\u1ebft":"T\u1ea1o b\xe0i vi\u1ebft",Object(le.jsx)("i",{className:"fas fa-times",id:"formAddfr_top-close",onClick:function(){return e.onCloseForm(!1),p([]),y(""),void(ge=[])}})]}),Object(le.jsxs)("div",{className:"backgroundAddfr_form-body",children:[Object(le.jsxs)("div",{className:"form_body-top",children:[Object(le.jsx)("div",{className:"body_top-img",children:Object(le.jsx)("img",{src:(null===P||void 0===P?void 0:P.accountImage)?null===P||void 0===P?void 0:P.accountImage:null===P||void 0===P?void 0:P.imageSrc,alt:"",id:"body_top-img"})}),Object(le.jsx)("div",{className:"body_top-name",children:Object(le.jsx)("p",{children:null===P||void 0===P?void 0:P.username})})]}),Object(le.jsx)("div",{className:"form_body-body",children:Object(le.jsx)("textarea",{name:"",id:"form_body-textarea",cols:"30",rows:"10",onChange:function(e){return function(e){var t=e.target.value;y(t)}(e)},placeholder:"".concat(null===t||void 0===t?void 0:t.name," \u01a1i, b\u1ea1n \u0111ang ngh\u0129 g\xec th\u1ebf ?"),value:g})}),0!==f.length?Object(le.jsx)("div",{className:"img_loading",children:(null===f||void 0===f?void 0:f.length)>1?null===f||void 0===f?void 0:f.map((function(e,t){return Object(le.jsxs)("div",{className:"img_loading-column",style:{maxWidth:"50%"},children:[Object(le.jsx)("img",{src:e,id:"img_loading",alt:""}),Object(le.jsx)("i",{className:"fas fa-times",id:"remove_image",onClick:function(){return H(e)}})]},t)})):Object(le.jsxs)("div",{className:"img_loading-column",style:{maxWidth:"100%"},children:[Object(le.jsx)("img",{src:f[0],id:"img_loading",alt:""}),Object(le.jsx)("i",{className:"fas fa-times",id:"remove_image",onClick:function(){return H(f[0])}})]})}):null]}),Object(le.jsxs)("div",{className:"backgroundAddfr_bottom",children:[Object(le.jsx)("div",{className:"form_body-bottom",children:Object(le.jsxs)("label",{htmlFor:"body_bottom-button",children:[Object(le.jsx)("input",{type:"file",id:"body_bottom-button",onChange:L,multiple:"multiple"}),Object(le.jsx)("i",{className:"fas fa-photo-video",id:"body_bottom-icon"})," Th\xeam h\xecnh \u1ea3nh"]})}),Object(le.jsx)("div",{className:"backgroundAddfr_form-bottom",children:Object(le.jsx)("button",{id:"form_bottom-button",onClick:function(){B.a.isEmpty(f)?M(!0):(A(!0),void 0===o?e.postNewsRequest(m,f,g,A,a,s,b):e.updatePostRequest(null===o||void 0===o?void 0:o.id_post,f,g,A,a,c,m,s,b),y(""),p([]),ge=[])},children:"\u0110\u0103ng"})})]})]})]})})),Ne=(n(353),n(605));var _e=Object(b.b)((function(e){return{dataUser:e.MyPersonal}}),(function(e){return{changeAvtRequest:function(t,n,i,a,o){e(X(t,n,i,a,o))}}}))((function(e){var t=e.changeAvtRequest,n=e.openChangeAvt,a=e.dataUser,o=e.getDataUrl,s=e.userHistory,r=(new u.a).get("username"),l=Object(i.useState)(!0),b=Object(d.a)(l,2),j=b[0],m=b[1],h=Object(i.useState)(!1),v=Object(d.a)(h,2),f=v[0],p=v[1],O=Object(i.useState)(!1),x=Object(d.a)(O,2),g=x[0],y=x[1],N=Object(i.useState)({text:null}),_=Object(d.a)(N,2),k=_[0],w=_[1];Object(i.useEffect)((function(){}),[a]);var C=function(e){var n=new FormData,i={id:null===a||void 0===a?void 0:a.id};n.append("file",e),n.append("upload_preset","ml_default"),fetch("https://api.Cloudinary.com/v1_1/baby-dont-cry/image/upload",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){i=Object(c.a)(Object(c.a)({},i),{},{imageSrc:null===e||void 0===e?void 0:e.url}),p(!0),t(i,p,r,w,y)})).catch((function(e){console.log(e)}))},S=function(e){var t=e.target.files;if(p(!0),t.length>1)for(var n=0;n<t.length;n++)C(t[n]);else C(t[0])};return Object(le.jsxs)("div",{children:[g&&Object(le.jsx)(Ne.a,{message:null===k||void 0===k?void 0:k.text}),f&&Object(le.jsx)(de,{}),Object(le.jsx)("div",{className:"backgroundChangeAvt",onClick:j?function(){e.onCloseForm(!1)}:null,id:n?"showBackground":"hiddenBackground",children:Object(le.jsxs)("div",{className:"backgroundChangeAvt_form",onMouseEnter:function(){return m(!1)},onMouseLeave:function(){return m(!0)},id:n?"showForm":"hiddenForm",children:[Object(le.jsx)("img",{src:null===a||void 0===a?void 0:a.imageSrc,alt:"",id:"backgroundChangeAvt_form-img"}),r===o&&Object(le.jsxs)("label",{className:"backgroundChangeAvt_form-edit",children:[Object(le.jsx)("input",{type:"file",id:"form_edit-input",onChange:S,style:{opacity:0}}),Object(le.jsx)("div",{className:"form_edit-title",children:"Ch\u1ec9nh s\u1eeda"})]}),r===s&&Object(le.jsxs)("label",{className:"backgroundChangeAvt_form-edit",children:[Object(le.jsx)("input",{type:"file",id:"form_edit-input",onChange:S,style:{opacity:0}}),Object(le.jsx)("div",{className:"form_edit-title",children:"Ch\u1ec9nh s\u1eeda"})]})]})})]})})),ke=n(67),we=n.n(ke);n(396);var Ce=Object(b.b)((function(e){return{dataUser:e.MyPersonal}}),(function(e){return{removeFriendRequest:function(t,n,i,a,o){e(function(e,t,n,i,a){return function(o){return D("DELETE","/user/follow?myId=".concat(F,"&followingId=").concat(e)).then((function(e){n(!1),i&&i(!1),200===(null===e||void 0===e?void 0:e.status)&&(o(Q(F)),o(z(t,a)))}))}}(t,n,i,a,o))}}}))((function(e){var t=e.dataUser,n=e.dataUnFollow,a=e.setOpenContentFollow,o=Object(i.useState)(!1),c=Object(d.a)(o,2),s=c[0],r=c[1],l=Object(i.useState)(null),u=Object(d.a)(l,2),b=u[0],j=u[1],m=Object(i.useState)(!0),h=Object(d.a)(m,2),v=h[0],f=h[1];return Object(i.useEffect)((function(){j(n||t)}),[n,t]),Object(le.jsxs)("div",{children:[s&&Object(le.jsx)(de,{}),Object(le.jsx)("div",{className:"backgroundFormUnfollow",style:v?{display:"block"}:{display:"none"},children:Object(le.jsxs)("div",{className:"backgroundFormUnfollow_form",children:[Object(le.jsxs)("div",{className:"backgroundFormUnfollow_form-top",children:[Object(le.jsx)("div",{className:"formUnfollow_top-top",children:Object(le.jsx)("img",{src:null===b||void 0===b?void 0:b.imageSrc,id:"imgUnfollow_top",alt:""})}),Object(le.jsxs)("div",{className:"formUnfollow_top-bottom",children:["B\u1ecf theo d\xf5i @",null===b||void 0===b?void 0:b.username,"?"]})]}),Object(le.jsx)("div",{className:"backgroundFormUnfollow_form-body",onClick:function(){return function(){var n=b.id;r(!0),e.removeFriendRequest(n,r,f,a,null===t||void 0===t?void 0:t.username)}()},children:"B\u1ecf theo d\xf5i"}),Object(le.jsx)("div",{className:"backgroundFormUnfollow_form-bottom",onClick:function(){e.onCloseForm(!1)},children:"H\u1ee7y"})]})})]})}));n(397),n(398);var Se=Object(b.b)((function(e){return{dataUser:e.MyPersonal}}),(function(e){return{changeAvtRequest:function(t,n,i,a,o,c){e(X(t,n,i,a,o,c))}}}))((function(e){var t=e.changeAvtRequest,n=e.dataUser,a=Object(he.f)(),o=Object(i.useState)(!1),s=Object(d.a)(o,2),r=s[0],l=s[1],u=Object(i.useState)({name:"",username:"",description:""}),b=Object(d.a)(u,2),j=b[0],m=b[1],h=Object(i.useState)({text:null}),v=Object(d.a)(h,2),f=v[0],p=v[1],O=Object(i.useState)(!1),x=Object(d.a)(O,2),g=x[0],y=x[1],N=Object(i.useState)(!1),_=Object(d.a)(N,2),k=_[0],w=_[1],C=Object(i.useState)(""),S=Object(d.a)(C,2),P=S[0],T=S[1],E=function(e){var i=new FormData,a={id:null===n||void 0===n?void 0:n.id};i.append("file",e),i.append("upload_preset","ml_default"),fetch("https://api.Cloudinary.com/v1_1/baby-dont-cry/image/upload",{method:"POST",body:i}).then((function(e){return e.json()})).then((function(e){a=Object(c.a)(Object(c.a)({},a),{},{imageSrc:e.url}),l(!0),t(a,l,null===n||void 0===n?void 0:n.username,p,y,w)})).catch((function(e){console.log(e)}))},I=function(e){var t=e.target.value;switch(e.target.name){case"name":return void m(Object(c.a)(Object(c.a)({},j),{},{name:t}));case"username":return void m(Object(c.a)(Object(c.a)({},j),{},{username:t}));case"description":return void m(Object(c.a)(Object(c.a)({},j),{},{description:t}));default:return}},R=function(e){w(!0);var i={id:null===n||void 0===n?void 0:n.id};switch(e){case"name":return void(""!==j.name&&(T(e),i=Object(c.a)(Object(c.a)({},i),{},{name:j.name}),t(i,l,null===n||void 0===n?void 0:n.username,p,y,w),m(Object(c.a)(Object(c.a)({},j),{},{name:""}))));case"username":return void(""!==j.username&&(T(e),i=Object(c.a)(Object(c.a)({},i),{},{username:j.username}),t(i,l,null===n||void 0===n?void 0:n.username,p,y,w),m(Object(c.a)(Object(c.a)({},j),{},{username:""}))));case"description":return void(""!==j.description&&(T(e),i=Object(c.a)(Object(c.a)({},i),{},{description:j.description}),t(i,l,null===n||void 0===n?void 0:n.username,p,y,w),m(Object(c.a)(Object(c.a)({},j),{},{description:""}))));default:return}};return Object(le.jsxs)("div",{children:[r&&Object(le.jsx)(de,{}),Object(le.jsx)("div",{style:{width:150,position:"fixed",bottom:70,left:50},children:g&&Object(le.jsx)(Ne.a,{message:null===f||void 0===f?void 0:f.text})}),Object(le.jsxs)("div",{className:"backgroundEditPersonal_all",children:[Object(le.jsxs)("div",{className:"form_right-avt",children:[Object(le.jsxs)("div",{className:"right_avt-top",children:[Object(le.jsx)("div",{className:"avt_top-left",children:"\u1ea2nh \u0111\u1ea1i di\u1ec7n"}),Object(le.jsxs)("label",{className:"avt_top-right",children:[Object(le.jsx)("input",{type:"file",id:"avt_top-right",onChange:function(e){var t=e.target.files;if(l(!0),t.length>1)for(var n=0;n<t.length;n++)E(t[n]);else E(t[0])},style:{opacity:0}}),Object(le.jsx)("div",{className:"avt_top-right-title",children:"Ch\u1ec9nh s\u1eeda"})]})]}),Object(le.jsx)("div",{className:"right_avt-bottom",children:Object(le.jsx)("img",{src:null===n||void 0===n?void 0:n.imageSrc,id:"avt_bottom-img",alt:""})})]}),Object(le.jsxs)("div",{className:"form_right-name",children:[Object(le.jsx)("div",{className:"right_name-top",children:Object(le.jsxs)("div",{className:"name_top-left",children:["T\xean ( ",null===n||void 0===n?void 0:n.name," ) "]})}),Object(le.jsxs)("div",{className:"right_name-bottom",children:[Object(le.jsx)("input",{type:"text",name:"name",id:"bottom_right-input",placeholder:"Nh\u1eadp t\xean c\u1ee7a b\u1ea1n...",onChange:function(e){return I(e)},value:null===j||void 0===j?void 0:j.name}),k&&"name"===P&&Object(le.jsx)(xe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{marginLeft:-50}}),Object(le.jsxs)("div",{className:"formSubmit_btn",onClick:function(){return R("name")},children:[" ","C\u1eadp nh\u1eadt"]})]})]}),Object(le.jsxs)("div",{className:"form_right-username",children:[Object(le.jsx)("div",{className:"right_username-top",children:Object(le.jsxs)("div",{className:"username_top-left",children:["T\xean ng\u01b0\u1eddi d\xf9ng ( ",null===n||void 0===n?void 0:n.username," )"]})}),Object(le.jsxs)("div",{className:"right_username-bottom",children:[Object(le.jsx)("input",{type:"text",name:"username",id:"bottom_right-input",placeholder:"Nh\u1eadp t\xean ng\u01b0\u1eddi d\xf9ng c\u1ee7a b\u1ea1n...",onChange:function(e){return I(e)},value:null===j||void 0===j?void 0:j.username}),k&&"username"===P&&Object(le.jsx)(xe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{marginLeft:-50}}),Object(le.jsxs)("div",{className:"formSubmit_btn",onClick:function(){return R("username")},children:[" ","C\u1eadp nh\u1eadt"]})]})]}),Object(le.jsxs)("div",{className:"form_right-description",children:[Object(le.jsx)("div",{className:"right_description-top",children:Object(le.jsx)("div",{className:"description_top-left",children:"Ti\u1ec3u s\u1eed"})}),Object(le.jsxs)("div",{className:"right_description-bottom",children:[Object(le.jsx)("textarea",{id:"description_bottom-textarea",name:"description",placeholder:"Nh\u1eadp ti\u1ec3u s\u1eed c\u1ee7a b\u1ea1n...",onChange:function(e){return I(e)},value:null===j||void 0===j?void 0:j.description}),k&&"description"===P&&Object(le.jsx)(xe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{marginLeft:-50}}),Object(le.jsxs)("div",{className:"formSubmit_btn",onClick:function(){return R("description")},children:[" ","C\u1eadp nh\u1eadt"]})]})]}),Object(le.jsx)("div",{className:"background_formSubmit",children:Object(le.jsx)("div",{className:"formSubmit_btn",onClick:function(){return e.onCloseForm(!1),void a.push("/personal/".concat(null===n||void 0===n?void 0:n.username))},style:{backgroundColor:"red",color:"white"},children:"H\u1ee7y b\u1ecf"})})]})]})}));n(399);var Pe=Object(b.b)((function(e){return{dataPersonal:e.MyPersonal}}),(function(e){return{changeAvtRequest:function(t,n,i,a,o,c){e(X(t,n,i,a,o,c))}}}))((function(e){var t=e.dataPersonal,n=Object(i.useState)({password:"",againPassword:""}),a=Object(d.a)(n,2),o=a[0],s=a[1],r=Object(i.useState)(!1),l=Object(d.a)(r,2),u=l[0],b=l[1],j=Object(i.useState)(!1),m=Object(d.a)(j,2),h=m[0],v=m[1],f=Object(i.useState)({color:null,text:null}),p=Object(d.a)(f,2),O=p[0],x=p[1],g=Object(i.useState)(!1),y=Object(d.a)(g,2),N=(y[0],y[1]),_=Object(i.useState)(!1),k=Object(d.a)(_,2),w=k[0],C=k[1],S=function(e){var t=e.target.value;switch(e.target.name){case"password":return void s(Object(c.a)(Object(c.a)({},o),{},{password:t}));case"againPassword":return void s(Object(c.a)(Object(c.a)({},o),{},{againPassword:t}));default:return}};return Object(le.jsxs)("div",{className:"backgroundChangePassword",children:[Object(le.jsx)("div",{style:{width:150,position:"fixed",bottom:70,left:50},children:h&&Object(le.jsx)(Ne.a,{message:null===O||void 0===O?void 0:O.text})}),Object(le.jsxs)("div",{className:"backgroundChangePassword_top",children:[Object(le.jsx)("div",{className:"backgroundChangePassword_top-left",children:Object(le.jsx)("img",{src:null===t||void 0===t?void 0:t.imageSrc,id:"top_left-img",alt:""})}),Object(le.jsx)("div",{className:"backgroundChangePassword_top-right",children:null===t||void 0===t?void 0:t.username})]}),Object(le.jsxs)("div",{className:"backgroundChangePassword_bottom",children:[Object(le.jsxs)("div",{className:"backgroundChangePassword_bottom-item",children:[Object(le.jsx)("div",{className:"bottom_item-left",children:"M\u1eadt kh\u1ea9u m\u1edbi"}),Object(le.jsx)("div",{className:"bottom_item-right",children:Object(le.jsx)("input",{type:"password",name:"password",id:"item_right-input",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi",onChange:function(e){return S(e)}})})]}),Object(le.jsxs)("div",{className:"backgroundChangePassword_bottom-item",children:[Object(le.jsx)("div",{className:"bottom_item-left",children:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi"}),Object(le.jsxs)("div",{className:"bottom_item-right",children:[Object(le.jsx)("input",{type:"password",name:"againPassword",id:"item_right-input",placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi",onChange:function(e){return S(e)},style:u?{border:"1px solid red"}:null}),w&&Object(le.jsx)(xe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10})]})]})]}),Object(le.jsxs)("div",{className:"backgroundChangePassword_submit",children:[Object(le.jsx)("button",{className:"backgroundChangePassword_submit-btn",onClick:function(){return function(){var n={id:null===t||void 0===t?void 0:t.id};(null===o||void 0===o?void 0:o.password)!==(null===o||void 0===o?void 0:o.againPassword)?(b(!0),v(!0),x({text:"M\u1eadt kh\u1ea9u nh\u1eadp l\u1ea1i kh\xf4ng tr\xf9ng kh\u1edbp, vui l\xf2ng th\u1eed l\u1ea1i"}),setTimeout((function(){v(!1)}),5e3)):(b(!1),n=Object(c.a)(Object(c.a)({},n),{},{password:null===o||void 0===o?void 0:o.password}),C(!0),e.changeAvtRequest(n,N,null===t||void 0===t?void 0:t.username,x,v,C),x({password:"",againPassword:""}))}()},disabled:""===(null===o||void 0===o?void 0:o.againPassword),children:"\u0110\u1ed3ng \xfd"}),Object(le.jsx)("button",{className:"formSubmit_btn",onClick:function(){e.onCloseForm(!1)},children:"H\u1ee7y b\u1ecf"})]})]})}));var Te=Object(b.b)((function(e){return{dataUser:e.Personal}}),null)((function(e){var t=e.openEditPersonal,n=Object(i.useState)(1),a=Object(d.a)(n,2),o=a[0],c=a[1],s=function(t){e.onCloseForm(t)};return Object(le.jsx)("div",{style:t?{display:"block"}:{display:"none"},children:Object(le.jsx)("div",{className:"backgroundEditPersonal",children:Object(le.jsxs)("div",{className:"backgroundEditPersonal_form",children:[Object(le.jsxs)("div",{className:"backgroundEditPersonal_form-left",children:[Object(le.jsx)("div",{className:"form_left-about",children:"Gi\u1edbi thi\u1ec7u"}),[{id:1,name:"Ch\u1ec9nh s\u1eeda th\xf4ng tin c\xe1 nh\xe2n"},{id:2,name:"Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u"}].map((function(e,t){return Object(le.jsx)("div",{className:"form_left-title",onClick:function(){return t=e.id,void c(t);var t},style:o===t+1?{backgroundColor:"#e7f3ff",color:"#188af5"}:{backgroundColor:"rgb(228 230 235 / 35%)",color:"#050505"},children:e.name},t)}))]}),Object(le.jsx)("div",{className:"backgroundEditPersonal_form-right",children:function(){switch(o){case 1:return Object(le.jsx)(Se,{onCloseForm:s});case 2:return Object(le.jsx)(Pe,{onCloseForm:s});default:return Object(le.jsx)(Se,{onCloseForm:s})}}()})]})})})}));n(400);var Ee=Object(b.b)((function(e){return{dataUser:e.MyPersonal,dataOfMe:e.PersonalOfMe}}),(function(e){return{getPersonalByMeRequest:function(t,n,i){e(z(t,n,i))},followFriendRequest:function(t,n,i){e(W(t,n,i))}}}))((function(e){var t=e.name,n=e.dataFollow,a=e.setOpenContentFollow,o=e.dataUser,c=e.dataOfMe,s=(new u.a).get("username"),r=Object(i.useState)(null),l=Object(d.a)(r,2),b=l[0],j=l[1],m=Object(i.useState)(null),h=Object(d.a)(m,2),v=h[0],f=h[1],p=Object(i.useState)(!1),O=Object(d.a)(p,2),x=O[0],g=O[1],y=Object(i.useState)(""),N=Object(d.a)(y,2),_=N[0],k=N[1],w=function(t){j(!0),e.getPersonalByMeRequest(j,null===t||void 0===t?void 0:t.username,a)};return Object(le.jsxs)("div",{children:[b&&Object(le.jsx)(xe.LinearProgress,{color:"#d82b7d",duration:1,height:3,percent:75,showValue:!0,valuePosition:"top",style:{position:"fixed",top:0,left:0,zIndex:1e4}}),b&&Object(le.jsx)(de,{}),Object(le.jsxs)("div",{className:"backgroundContentFollow",children:[x&&Object(le.jsx)(Ce,{setOpenContentFollow:a,dataUnFollow:{id:null===v||void 0===v?void 0:v.id_account,name:null===v||void 0===v?void 0:v.name,username:null===v||void 0===v?void 0:v.username,imageSrc:null===v||void 0===v?void 0:v.imageSrc},onCloseForm:function(e){g(e)}}),Object(le.jsxs)("div",{className:"backgroundContentFollow_form",children:[Object(le.jsxs)("div",{className:"backgroundContentFollow_form-top",children:[t,Object(le.jsx)("i",{className:"fas fa-times",id:"form_top-icon",onClick:function(){e.onCloseForm(!1)}})]}),Object(le.jsx)("div",{className:"backgroundContentFollow_form-bottom",children:null===n||void 0===n?void 0:n.map((function(t,i){var a,r,l=null===c||void 0===c||null===(a=c.following)||void 0===a?void 0:a.findIndex((function(e){return(null===e||void 0===e?void 0:e.id_account)===t.id_account}));return Object(le.jsxs)("div",{className:"form_bottom-all",children:[Object(le.jsxs)("div",{className:"form_bottom-left",children:[Object(le.jsx)("div",{className:"bottom_left-avt",children:Object(le.jsx)("img",{src:null===t||void 0===t?void 0:t.imageSrc,alt:"",id:"bottom_left-avt",onClick:function(){return w(t)}})}),Object(le.jsxs)("div",{className:"bottom_left-title",children:[Object(le.jsx)(pe.b,{to:{pathname:"/personal/".concat(null===(r=n[i])||void 0===r?void 0:r.username),state:t},className:"link_custom",children:Object(le.jsx)("div",{className:"left_title-top",onClick:function(){return w(t)},children:Object(le.jsx)("p",{children:null===t||void 0===t?void 0:t.username})})}),Object(le.jsx)("div",{className:"left_title-bottom",children:Object(le.jsx)("p",{children:null===t||void 0===t?void 0:t.name})}),b&&_===(null===t||void 0===t?void 0:t.id_account)&&Object(le.jsx)(xe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{position:"absolute",top:15,right:0,fontSize:10,zIndex:1e4}})]})]}),Object(le.jsx)("div",{className:"form_bottom-right",children:-1!==l?Object(le.jsx)("p",{id:"bottom_right-delete",onClick:b?null:function(){return function(e){f(e),g(!0)}(t)},children:"\u0110ang theo d\xf5i"}):t.username!==s&&Object(le.jsx)("p",{id:"bottom_right-delete",onClick:b?null:function(){return function(t){j(!0),k(null===t||void 0===t?void 0:t.id_account),e.followFriendRequest(null===t||void 0===t?void 0:t.id_account,j,null===o||void 0===o?void 0:o.username)}(t)},style:{backgroundColor:"rgb(0, 149, 246)",color:"white",border:"none",fontWeight:"bold"},children:"Theo d\xf5i"})})]},i)}))})]})]})]})})),Ie=(n(401),n(301)),Re=(n(402),n(48)),Ae=n.n(Re),De=function(e){var t=Ae()(Date.now()),n=Ae()(e),i=t.diff(n,"seconds"),a=t.diff(n,"minutes"),o=t.diff(n,"hours"),c=t.diff(n,"days"),s=t.format("D [Th\xe1ng] M [l\xfac] HH:mm");return i<=60?i+" gi\xe2y tr\u01b0\u1edbc":a<=60?a+" ph\xfat tr\u01b0\u1edbc":o<=24?o+" ti\u1ebfng tr\u01b0\u1edbc":c<=6?c+" ng\xe0y tr\u01b0\u1edbc":s},Ue=n(158);n(404),n(405);Ue.a.initializeApp({apiKey:"AIzaSyDpmA6bZfQPfLpqcThyXQwG3SbHJnnpyow",authDomain:"api-social-network-4c66d.firebaseapp.com",databaseURL:"https://api-social-network-4c66d-default-rtdb.asia-southeast1.firebasedatabase.app"});Ue.a.auth;var Be=Ue.a.database(),Fe=n(96);n(406),n(226);var Me=Object(b.b)(null,(function(e){return{deletePostRequest:function(t,n,i,a,o,c,s){e(function(e,t,n,i,a,o,c){return function(){var s=Object(l.a)(r.a.mark((function s(l){var d;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,D("DELETE","/post",{id_post:e,id_account:t});case 3:200===(null===(d=s.sent)||void 0===d?void 0:d.status)?(c&&c({text:"X\xf3a b\xe0i vi\u1ebft th\xe0nh c\xf4ng"}),l(ee(a,t,n,i,o))):setTimeout((function(){c&&c({text:"X\xf3a b\xe0i vi\u1ebft th\u1ea5t b\u1ea1i"})}),6e3),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(e){return s.apply(this,arguments)}}()}(t,n,i,a,o,c,s))}}}))((function(e){var t=e.dataDetailPost,n=e.setOpenUiUpdatePost,a=e.setOpenDetailsPost,o=e.setOpenToast,c=e.setValueToast,s=Object(i.useState)(!1),r=Object(d.a)(s,2),l=r[0],u=r[1],b=Object(i.useState)(!1),j=Object(d.a)(b,2),m=j[0],h=j[1],v=function(){e.onCloseForm(!1),h(!1)};return Object(le.jsxs)("div",{children:[Object(le.jsx)(ye,{openFromAddNews:m,onCloseForm:v,dataDetailPost:t,setOpenFormAddNews:h,setOpenUiUpdatePost:n,setOpenToast:o,setValueToast:c}),l&&Object(le.jsx)(de,{}),Object(le.jsx)("div",{className:"backgroundUpdatePost",children:Object(le.jsxs)("div",{className:"backgroundUpdatePost_form",children:[Object(le.jsx)("div",{className:"backgroundUpdatePost_form-item",style:{fontWeight:"bold",color:"red"},onClick:function(){return u(!0),void e.deletePostRequest(null===t||void 0===t?void 0:t.id_post,null===t||void 0===t?void 0:t.id_account,n,a,u,o,c)},children:"X\xf3a"}),Object(le.jsx)("div",{className:"backgroundUpdatePost_form-item",onClick:function(){h(!0)},children:"Ch\u1ec9nh s\u1eeda b\xe0i vi\u1ebft"}),Object(le.jsx)("div",{className:"backgroundUpdatePost_form-item",onClick:function(){return v()},children:"H\u1ee7y"})]})})]})})),qe=(n(407),n(607)),Le=n(606);var He=function(e){switch(e.actionTypes){case"post":return Object(le.jsxs)(qe.a,{fluid:!0,style:{border:"30px solid white",borderRadius:10,width:620,marginLeft:40},children:[Object(le.jsxs)(qe.a.Header,{image:!0,style:{backgroundColor:"rgb(236 236 236)",border:"1px solid white",zIndex:1},children:[Object(le.jsx)(qe.a.Line,{length:"very short"}),Object(le.jsx)(qe.a.Line,{}),Object(le.jsx)(qe.a.Line,{length:"very short"})]}),Object(le.jsx)(qe.a.Paragraph,{style:{width:"100%",height:500}}),Object(le.jsx)(qe.a.Line,{style:{height:"30px"}}),Object(le.jsx)(qe.a.Line,{style:{height:"30px"}}),Object(le.jsx)(qe.a.Line,{style:{height:"30px"}}),Object(le.jsx)(qe.a.Line,{style:{height:"30px"}})]});case"personal":return Object(le.jsxs)("div",{style:{marginTop:"10%",marginLeft:"8%"},children:[Object(le.jsxs)("div",{style:{width:"1000px",height:"100%",display:"flex",paddingTop:"5%"},children:[Object(le.jsx)("div",{style:{width:"30%",height:"100%"},children:Object(le.jsx)(qe.a,{style:{height:150,width:150,borderRadius:"50%"},children:Object(le.jsx)(qe.a.Image,{})})}),Object(le.jsx)("div",{style:{width:"70%",height:"100%",marginBottom:"20%"},children:Object(le.jsxs)(qe.a,{children:[Object(le.jsx)(qe.a.Line,{style:{height:"20px",backgroundColor:"rgb(240, 242, 245)"}})," ",Object(le.jsx)(qe.a.Line,{style:{height:"20px",backgroundColor:"rgb(240, 242, 245)"}})," ",Object(le.jsx)(qe.a.Line,{style:{height:"20px",backgroundColor:"rgb(240, 242, 245)"}})," ",Object(le.jsx)(qe.a.Line,{style:{height:"20px",backgroundColor:"rgb(240, 242, 245)"}})," ",Object(le.jsx)(qe.a.Line,{style:{height:"20px",backgroundColor:"rgb(240, 242, 245)"}})]})})]}),Object(le.jsx)("div",{style:{width:"1000px",height:"100%"},children:Object(le.jsxs)(Le.a.Group,{itemsPerRow:3,children:[Object(le.jsx)(Le.a,{children:Object(le.jsx)(Le.a.Content,{children:Object(le.jsx)(qe.a,{children:Object(le.jsx)(qe.a.Image,{square:!0})})})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(Le.a.Content,{children:Object(le.jsx)(qe.a,{children:Object(le.jsx)(qe.a.Image,{square:!0})})})}),Object(le.jsx)(Le.a,{children:Object(le.jsx)(Le.a.Content,{children:Object(le.jsx)(qe.a,{children:Object(le.jsx)(qe.a.Image,{square:!0})})})})]})})]});case"suggested":return Object(le.jsxs)("div",{style:{width:"100%",height:"70px",display:"flex"},children:[Object(le.jsx)("div",{style:{width:"30%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(le.jsx)(qe.a,{style:{width:60,height:60,borderRadius:"50%"},children:Object(le.jsx)(qe.a.Image,{})})}),Object(le.jsx)("div",{style:{width:"70%",height:"100%",backgroundColor:"purple"},children:Object(le.jsxs)(qe.a,{style:{borderBottom:"13px solid rgb(240, 242, 245)"},children:[Object(le.jsx)(qe.a.Line,{style:{backgroundColor:"rgb(240, 242, 245)"}}),Object(le.jsx)(qe.a.Line,{style:{backgroundColor:"rgb(240, 242, 245)"}}),Object(le.jsx)(qe.a.Line,{style:{backgroundColor:"rgb(240, 242, 245)"}})]})})]});case"detailsPost":return Object(le.jsxs)(qe.a,{fluid:!0,style:{border:"20px solid white",borderRadius:10,position:"absolute",width:800,height:600,top:"0",left:"0",right:"0",bottom:"0",margin:"auto",display:"flex"},children:[Object(le.jsx)(qe.a.Paragraph,{style:{width:"60%",height:"100%",borderRight:"10px solid white",borderTop:"5px solid white"}}),Object(le.jsxs)(qe.a.Paragraph,{style:{width:"40%",height:"104%",marginTop:"-19px"},children:[Object(le.jsx)(qe.a.Paragraph,{style:{width:"100%",height:"15%",border:"5px solid white"}}),Object(le.jsx)(qe.a.Paragraph,{style:{width:"100%",height:"60%",border:"5px solid white"}}),Object(le.jsx)(qe.a.Paragraph,{style:{width:"100%",height:"25%",border:"5px solid white"}})]})]});default:return Object(le.jsxs)(qe.a,{fluid:!0,style:{border:"20px solid white",borderRadius:10},children:[Object(le.jsxs)(qe.a.Header,{image:!0,style:{backgroundColor:"rgb(236 236 236)",border:"none",zIndex:1},children:[Object(le.jsx)(qe.a.Line,{length:"very short"}),Object(le.jsx)(qe.a.Line,{}),Object(le.jsx)(qe.a.Line,{length:"very short"})]}),Object(le.jsx)(qe.a.Paragraph,{style:{width:"100%",height:467}}),Object(le.jsx)(qe.a.Line,{}),Object(le.jsx)(qe.a.Line,{}),Object(le.jsx)(qe.a.Line,{}),Object(le.jsx)(qe.a.Line,{})]})}};var Ge=Object(b.b)(null,(function(e){return{removeCommentRequest:function(t,n,i,a,o,c,s,d){e(function(e,t,n,i,a,o,c,s){return Object(l.a)(r.a.mark((function l(){var d;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,D("DELETE","/post/comment",{id_post:e,id_account:t,id_comment:n,id_reply:i});case 2:200===(null===(d=r.sent)||void 0===d?void 0:d.status)?(o&&o(!1),a&&a(!1),c&&c(!0),s&&s({text:"X\xf3a b\xecnh lu\u1eadn th\xe0nh c\xf4ng"}),setTimeout((function(){c&&c(!1)}),6e3)):(c&&c(!0),s&&s({text:"X\xf3a b\xecnh lu\u1eadn th\u1ea5t b\u1ea1i"}),setTimeout((function(){c&&c(!1)}),6e3));case 5:case"end":return r.stop()}}),l)})))}(t,n,i,a,o,c,s,d))}}}))((function(e){var t=e.dataDetailPost,n=e.setOpenUiUpdatePost,a=e.dataCommentPost,o=e.setOpenUpdateCmt,c=e.setOpenToastDetails,s=e.setValueToastDetails,r=Object(i.useState)(!1),l=Object(d.a)(r,2),u=l[0],b=l[1],j=Object(i.useState)(!1),m=Object(d.a)(j,2),h=m[0],v=m[1],f=function(){e.onCloseForm(!1),v(!1)};return Object(le.jsxs)("div",{children:[Object(le.jsx)(ye,{openFromAddNews:h,onCloseForm:f,dataDetailPost:t,setOpenFormAddNews:v,setOpenUiUpdatePost:n}),u&&Object(le.jsx)(de,{}),Object(le.jsx)("div",{className:"backgroundUpdatePost",children:Object(le.jsxs)("div",{className:"backgroundUpdatePost_form",children:[Object(le.jsx)("div",{className:"backgroundUpdatePost_form-item",style:{fontWeight:"bold",color:"red"},onClick:function(){return b(!0),void e.removeCommentRequest(null===t||void 0===t?void 0:t.id_post,null===a||void 0===a?void 0:a.id_account,null===a||void 0===a?void 0:a.id_comment,null===a||void 0===a?void 0:a.id_reply,o,b,c,s)},children:"X\xf3a"}),Object(le.jsx)("div",{className:"backgroundUpdatePost_form-item",onClick:function(){v(!0)},children:"Ch\u1ec9nh s\u1eeda b\xecnh lu\u1eadn"}),Object(le.jsx)("div",{className:"backgroundUpdatePost_form-item",onClick:function(){return f()},children:"H\u1ee7y"})]})})]})}));var ze=Object(b.b)((function(e){return{getDetailPost:e.DetailsPost}}),(function(e){return{getPostRequestByIdPost:function(t,n,i,a){e(ne(0,n,i,a))},likePostRequest:function(t,n,i,a){e(ce(t,n,i,a))},getPersonalByMeRequest:function(t,n,i){e(z(t,n,i))},commentPostRequest:function(t,n,i,a,o,c){e(oe(t,n,i,a,o,c))},commentReplyPostRequest:function(t,n,i,a,o,c,s){e(function(e,t,n,i,a,o,c){return function(){var s=Object(l.a)(r.a.mark((function s(l){var d;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,D("POST","/post/replyComment",{id_post:e,id_owner:t,id_comment:n,id_account:i,contentHtml:a,mentionList:o});case 3:(null===(d=s.sent)||void 0===d?void 0:d.status)>=200&&(null===d||void 0===d?void 0:d.status)<300&&c&&c(!1),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(e){return s.apply(this,arguments)}}()}(t,n,i,a,o,c,s))}}}))((function(e){var t,n=e.dataDetailsPost,a=e.getDetailPost,o=e.typePost,s=e.setOpenDetailsPost,b=e.setOpenToast,j=e.setValueToast,m=(new u.a).get("user"),h=Object(i.useState)([]),v=Object(d.a)(h,2),f=v[0],p=v[1],O=Object(i.useState)(!0),x=Object(d.a)(O,2),g=x[0],y=x[1],N=Object(i.useState)(!0),_=Object(d.a)(N,2),k=_[0],w=_[1],C=Object(i.useState)(""),S=Object(d.a)(C,2),P=S[0],T=S[1],E=Object(i.useState)(null),I=Object(d.a)(E,2),R=I[0],A=I[1],D=Object(i.useState)(!1),U=Object(d.a)(D,2),F=U[0],M=U[1],q=Object(i.useState)(!1),L=Object(d.a)(q,2),H=L[0],G=L[1],z=Object(i.useState)({id:"",idComment:"",username:""}),V=Object(d.a)(z,2),Y=V[0],X=V[1],W=Object(i.useState)([]),Q=Object(d.a)(W,2),Z=Q[0],J=Q[1],K=Object(i.useState)([]),$=Object(d.a)(K,2),ee=$[0],te=$[1],ne=Object(i.useState)(!1),ie=Object(d.a)(ne,2),ae=ie[0],oe=ie[1],ce=Object(i.useState)([]),se=Object(d.a)(ce,2),re=se[0],de=se[1],ue=Object(i.useState)(null),be=Object(d.a)(ue,2),je=be[0],me=be[1],he=Object(i.useState)(!1),fe=Object(d.a)(he,2),ge=fe[0],ye=fe[1],_e=Object(i.useState)({text:null}),ke=Object(d.a)(_e,2),Ce=ke[0],Se=ke[1],Pe=Object(i.useState)(!1),Te=Object(d.a)(Pe,2),Ee=Te[0],Ie=Te[1],Re=Object(i.useState)(!1),Ae=Object(d.a)(Re,2),Ue=Ae[0],qe=Ae[1];Object(i.useEffect)((function(){var t,i=null===n||void 0===n?void 0:n.id_post;g&&e.getPostRequestByIdPost(w,i,G,qe),y(!1),A(a[0]);var o=[];if(null===(t=a[0])||void 0===t?void 0:t.likes){for(var s=0,u=Object.entries(null===(b=a[0])||void 0===b?void 0:b.likes);s<u.length;s++){var b;Object(d.a)(u[s],1)[0]===m&&o.push(null===n||void 0===n?void 0:n.id_post)}p(B.a.uniqWith(o,B.a.isEqual))}try{var j=Be.ref("/social_network"),h=j.child("users"),v=j.child("posts"),f=function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},void 0!==t){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,h.child(t).once("value",(function(e){if(null!==e.val()){var t=e.val(),i=t.username,a=t.imageSrc,o=t.name;n={name:o,username:i,accountImage:a}}}));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(r.a.mark((function e(t,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={},void 0!==t&&void 0!==n){e.next=3;break}return e.abrupt("return",i);case 3:return e.next=5,v.child("".concat(t,"/comments")).child(n).once("value",(function(e){i={id_comment:e.key}}));case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},n={},e.next=4,v.child("".concat(i)).on("value",function(){var e=Object(l.a)(r.a.mark((function e(a){var o,s,l,u,b,j,m,h,v,p,x,g,y,N,_,k,C,S,P,T,E,I,R,A,D,U;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=[],u=[],b=[],te(a.val()),null===(o=a.val())||void 0===o?void 0:o.likes)for(j=0,m=Object.entries(null===(h=a.val())||void 0===h?void 0:h.likes);j<m.length;j++)v=Object(d.a)(m[j],1),p=v[0],b.push(p);if(!(null===(s=a.val())||void 0===s?void 0:s.comments)){e.next=36;break}x=0,g=Object.entries(null===(y=a.val())||void 0===y?void 0:y.comments);case 7:if(!(x<g.length)){e.next=36;break}return _=Object(d.a)(g[x],2),k=_[0],C=_[1],e.next=11,O(i,k);case 11:return S=e.sent,e.next=14,f(null===C||void 0===C?void 0:C.id_account);case 14:return P=e.sent,e.next=17,Object(c.a)(Object(c.a)(Object(c.a)({},C),P),S);case 17:if(t=e.sent,l.push(t),!(null===(N=t)||void 0===N?void 0:N.reply)){e.next=33;break}T=0,E=Object.entries(null===(I=t)||void 0===I?void 0:I.reply);case 21:if(!(T<E.length)){e.next=33;break}return R=Object(d.a)(E[T],2),A=R[0],D=R[1],e.next=25,f(null===D||void 0===D?void 0:D.id_account);case 25:return U=e.sent,e.next=28,Object(c.a)(Object(c.a)(Object(c.a)({id_reply:A},D),U),S);case 28:n=e.sent,u.push(n);case 30:T++,e.next=21;break;case 33:x++,e.next=7;break;case 36:J(l),de(u),w(!1);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(x){console.log(x)}}),[g,n,m,e,a]);var Le=function(e,t){X({id:null===e||void 0===e?void 0:e.id_account,idComment:t||(null===e||void 0===e?void 0:e.id),username:null===e||void 0===e?void 0:e.username})},ze=function(e){M(e),oe(e)},Ve=function(e){oe(!0),me(e)},Ye=function(t){Ie(!0),e.getPersonalByMeRequest(w,null===t||void 0===t?void 0:t.username,s)};return Object(le.jsxs)("div",{children:[F&&Object(le.jsx)(Me,{onCloseForm:ze,dataDetailPost:R,setOpenUiUpdatePost:M,setOpenDetailsPost:s,setOpenToast:b,setValueToast:j}),Ue&&Object(le.jsx)(ve,{onCloseFormNotFound:function(){qe(!1),s(!1)}}),ae&&Object(le.jsx)(Ge,{onCloseForm:ze,dataDetailPost:R,dataCommentPost:je,setOpenUpdateCmt:oe,setOpenToastDetails:ye,setValueToastDetails:Se}),Ee&&Object(le.jsx)(xe.LinearProgress,{color:"#d82b7d",duration:1,height:3,percent:75,showValue:!0,valuePosition:"top",style:{position:"fixed",top:0,left:0,zIndex:1e4}}),Object(le.jsx)("div",{style:{width:150,position:"fixed",bottom:70,left:50,zIndex:99},children:ge&&Object(le.jsx)(Ne.a,{message:null===Ce||void 0===Ce?void 0:Ce.text})}),Object(le.jsxs)("div",{className:"backgroundPost",children:[Object(le.jsx)("i",{className:"fas fa-times",id:"iconClosePost",onClick:function(){e.onCloseForm()}}),k&&Object(le.jsx)(He,{actionTypes:"detailsPost"}),!k&&Object(le.jsxs)("div",{className:"backgroundPost_form",children:[Object(le.jsx)("div",{className:"backgroundPost_form-left",children:Object(le.jsx)(Fe.Slide,{autoplay:!1,style:{width:"100%",height:"100%"},transitionDuration:300,arrows:1!==B.a.size(null===R||void 0===R?void 0:R.imageSrc),children:null===ee||void 0===ee||null===(t=ee.imageSrc)||void 0===t?void 0:t.map((function(e,t){return Object(le.jsx)("img",{src:e,alt:"",id:"backgroundPost_form-left"},t)}))})}),Object(le.jsxs)("div",{className:"backgroundPost_form-right",children:[Object(le.jsxs)("div",{className:"form_right-top",children:[Object(le.jsx)("div",{className:"right_top-avt",children:Object(le.jsx)("img",{src:null===R||void 0===R?void 0:R.accountImage,alt:"",id:"right_top-avt"})}),Object(le.jsx)("div",{className:"right_top-title",children:Object(le.jsx)(pe.b,{to:{pathname:"/personal/".concat(null===R||void 0===R?void 0:R.username)},onClick:function(){return Ye(R)},id:"user_right-a",children:null===R||void 0===R?void 0:R.username})}),(null===R||void 0===R?void 0:R.id_account)===m&&Object(le.jsx)("div",{className:"right_top-function",children:Object(le.jsx)("i",{className:"fas fa-ellipsis-v",id:"right_top-function",onClick:function(){M(!0)}})})]}),Object(le.jsxs)("div",{className:""!==Y.id?"form_right-body-reply":"form_right-body",children:[Object(le.jsxs)("div",{className:"right_body-item",children:[Object(le.jsx)("div",{className:"body_item-left",children:Object(le.jsx)("img",{src:null===R||void 0===R?void 0:R.accountImage,alt:"",id:"body_item-left"})}),Object(le.jsx)("div",{className:"body_item-right",children:Object(le.jsxs)("div",{className:"item_right-name",children:[Object(le.jsx)("a",{href:"#",id:"right_name-a",children:Object(le.jsx)(pe.b,{to:{pathname:"/personal/".concat(null===R||void 0===R?void 0:R.username)},onClick:function(){return Ye(R)},id:"user_right-a",children:null===R||void 0===R?void 0:R.username})}),Object(le.jsx)("p",{id:"right_name-p",children:null===ee||void 0===ee?void 0:ee.content}),Object(le.jsxs)("span",{id:"right_name-span",children:[" ",De(null===R||void 0===R?void 0:R.timestamp)," "]})]})})]}),null===Z||void 0===Z?void 0:Z.map((function(e,t){return Object(le.jsxs)("div",{className:"right_body-comment",children:[Object(le.jsxs)("div",{className:"body_comment-user",children:[Object(le.jsx)("div",{className:"comment_user-left",children:Object(le.jsx)("img",{src:null===e||void 0===e?void 0:e.accountImage,alt:"",id:"user_left-img"})}),Object(le.jsxs)("div",{className:"comment_user-right",children:[Object(le.jsxs)("div",{className:"user_right-comment",children:[Object(le.jsxs)("div",{className:"right_comment-top",children:[Object(le.jsx)(pe.b,{to:{pathname:"/personal/".concat(null===e||void 0===e?void 0:e.username)},onClick:function(){return Ye(e)},id:"user_right-a",children:null===e||void 0===e?void 0:e.username}),Object(le.jsx)("p",{id:"user_right-p",children:we()(null===e||void 0===e?void 0:e.content)})]}),Object(le.jsxs)("div",{className:"right_comment-bottom",children:[Object(le.jsx)("p",{id:"comment_bottom-time",children:De(null===e||void 0===e?void 0:e.timestamp)}),Object(le.jsx)("span",{id:"comment_bottom-heart",children:"1 l\u01b0\u1ee3t th\xedch"}),Object(le.jsx)("span",{id:"comment_bottom-reply",onClick:function(){return Le(e,null===e||void 0===e?void 0:e.id_comment)},children:"Tr\u1ea3 l\u1eddi"})]})]}),Object(le.jsx)("div",{className:"user_right-heart",children:(null===e||void 0===e?void 0:e.id_account)===m&&Object(le.jsx)("i",{className:"fas fa-ellipsis-v",id:"right_heart-icon",onClick:function(){return Ve(e)}})})]})]}),re&&Object(le.jsxs)("div",{className:"reply_comment",children:[Object(le.jsx)("div",{className:"reply_comment-left"}),Object(le.jsx)("div",{className:"reply_comment-right",children:void 0!==re&&Object.values(re).map((function(t,n){return Object(le.jsx)("div",{children:(null===t||void 0===t?void 0:t.id_comment)===(null===e||void 0===e?void 0:e.id_comment)&&Object(le.jsxs)("div",{style:{marginTop:"15px"},children:[Object(le.jsxs)("div",{className:"comment_right-all",children:[Object(le.jsx)("div",{className:"right_all-left",children:Object(le.jsx)("img",{src:null===t||void 0===t?void 0:t.accountImage,alt:"",id:"all_left-img"})}),Object(le.jsxs)("div",{className:"right_all-right",children:[Object(le.jsxs)("div",{className:"all_right-comment",children:[Object(le.jsx)(pe.b,{to:{pathname:"/personal/".concat(null===t||void 0===t?void 0:t.username)},onClick:function(){return Ye(t)},style:{color:"black"},id:"all_right-content",children:Object(le.jsx)("b",{children:null===t||void 0===t?void 0:t.username})}),Object(le.jsx)("br",{}),we()(null===t||void 0===t?void 0:t.content)]}),Object(le.jsx)("div",{className:"all_right-heart",children:(null===t||void 0===t?void 0:t.id_account)===m&&Object(le.jsx)("i",{className:"fas fa-ellipsis-v",id:"right_heart-icon",onClick:function(){return Ve(t)}})})]})]}),Object(le.jsxs)("div",{className:"right_comment-bottom-reply",style:{marginLeft:43},children:[Object(le.jsxs)("p",{id:"comment_bottom-time",children:[" ",De(null===t||void 0===t?void 0:t.timestamp)]}),Object(le.jsx)("span",{id:"comment_bottom-heart",children:"1 l\u01b0\u1ee3t th\xedch"}),Object(le.jsx)("span",{id:"comment_bottom-reply",onClick:function(){return Le(t,null===e||void 0===e?void 0:e.id_comment)},children:"Tr\u1ea3 l\u1eddi"})]})]})},n)}))})]})]},t)}))]}),Object(le.jsxs)("div",{className:""!==Y.id?"form_right-bottom-reply":"form_right-bottom",children:[Object(le.jsxs)("div",{className:"right_bottom-top",style:""!==Y.id?{height:"50%"}:{height:" 70%"},children:[Object(le.jsxs)("div",{className:"bottom_top-top",children:[Object(le.jsxs)("div",{className:"top_top-itemLeft",children:[Object(le.jsx)("i",{className:"far fa-heart",id:"top_top-item",onClick:function(){return function(){var t=[];t=[].concat(Object(Oe.a)(f),[null===n||void 0===n?void 0:n.id_post]),f.includes(null===n||void 0===n?void 0:n.id_post)&&(t=f.filter((function(e){return e!==(null===n||void 0===n?void 0:n.id_post)}))),p(t),n&&e.likePostRequest(null===n||void 0===n?void 0:n.id_post,null===n||void 0===n?void 0:n.id_account,m,o)}()},style:f.includes(null===n||void 0===n?void 0:n.id_post)?{fontWeight:"bold",color:"rgb(237, 73, 86)"}:null}),Object(le.jsx)("i",{className:"far fa-comment",id:"top_top-item"}),Object(le.jsx)("i",{className:"far fa-paper-plane",id:"top_top-item"})]}),Object(le.jsx)("div",{className:"top_top-itemRight",children:Object(le.jsx)("i",{className:"far fa-calendar-check",id:"top_top-item"})})]}),Object(le.jsx)("div",{className:"bottom_top-body",children:Object(le.jsxs)("p",{id:"top_body-heart",children:[B.a.size(null===R||void 0===R?void 0:R.likes)," l\u01b0\u1ee3t th\xedch"]})}),Object(le.jsx)("div",{className:"bottom_top-bottom",children:Object(le.jsx)("p",{id:"top_body-time",children:De(null===R||void 0===R?void 0:R.timestamp)})})]}),""!==Y.id?Object(le.jsxs)("div",{className:"bottom_bottom-showUser",children:[Object(le.jsx)("i",{className:"fas fa-times",id:"bottom_showUser-close",onClick:function(){X({id:"",idComment:"",username:""})}}),"\u0110ang tr\u1ea3 l\u1eddi: ",Object(le.jsx)("b",{children:null===Y||void 0===Y?void 0:Y.username})]}):Object(le.jsx)("div",{}),Object(le.jsxs)("div",{className:"right_bottom-bottom",style:Y?{height:"25%"}:{height:"30%"},children:[Object(le.jsxs)("div",{className:"bottom_bottom-left",children:[H&&Object(le.jsx)(xe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{position:"absolute",top:0,right:0,fontSize:10,zIndex:1e4}}),Object(le.jsx)("textarea",{name:"",cols:"30",rows:"10",id:"bottom_left-input",placeholder:"Nh\u1eadp b\xecnh lu\u1eadn...",onChange:function(e){return function(e){var t=e.target.value;T(t)}(e)},value:P})]}),Object(le.jsx)("div",{className:"bottom_bottom-right",onClick:function(){return G(!0),""===Y.id?e.commentPostRequest(null===n||void 0===n?void 0:n.id_post,null===n||void 0===n?void 0:n.id_account,m,P,[null===n||void 0===n?void 0:n.id_account],G):e.commentReplyPostRequest(null===R||void 0===R?void 0:R.id_post,null===Y||void 0===Y?void 0:Y.id,null===Y||void 0===Y?void 0:Y.idComment,m,'@<a href="/personal/'.concat(null===Y||void 0===Y?void 0:Y.username,'">').concat(null===Y||void 0===Y?void 0:Y.username,"</a> ").concat(P),[null===Y||void 0===Y?void 0:Y.id],G),T(""),void X({id:"",idComment:"",username:""})},children:"\u0110\u0103ng"})]})]})]})]})]})]})}));var Ve=Object(Ie.a)(Object(b.b)((function(e){return{dataPost:e.PostById}}),(function(e){return{getPostRequestById:function(t,n){e(ee(t,n))}}}))((function(e){var t,n=e.dataPost,a=Object(i.useState)(!1),o=Object(d.a)(a,2),c=o[0],s=o[1],r=Object(i.useState)(null),l=Object(d.a)(r,2),u=l[0],b=l[1],j=Object(i.useState)(!1),m=Object(d.a)(j,2),h=m[0],v=m[1],f=Object(i.useState)({text:null}),p=Object(d.a)(f,2),O=p[0],x=p[1];return Object(le.jsxs)("div",{children:[c&&Object(le.jsx)(ze,{dataDetailsPost:u,onCloseForm:function(e){s(e)},typePost:"postById",setOpenDetailsPost:s,setOpenToast:v,setValueToast:x}),Object(le.jsx)("div",{style:{width:150,position:"fixed",bottom:70,left:50,zIndex:99},children:h&&Object(le.jsx)(Ne.a,{message:null===O||void 0===O?void 0:O.text})}),Object(le.jsx)("div",{className:"bodyContainer_bottom",children:null===(t=B.a.orderBy(n,["timestamp"],["desc"]))||void 0===t?void 0:t.map((function(e,t){return Object(le.jsx)("div",{children:Object(le.jsx)("div",{className:"bodyContainer_bottom-item",children:Object(le.jsx)("img",{src:null===e||void 0===e?void 0:e.imageSrc[0],alt:"",id:"bottom_item-img",onClick:function(){return t=e,s(!0),void b(t);var t}})})},t)}))})]})})));var Ye=Object(b.b)((function(e){return{dataUserApi:e.MyPersonal,dataPost:e.PostById,dataUser:e.User}}),(function(e){return{getPersonalByMeRequest:function(t,n){e(z(t,n))},followFriendRequest:function(t,n,i){e(W(t,n,i))}}}))((function(e){var t,n,a=e.history,o=e.dataUserApi,c=e.dataPost,s=new u.a,b=s.get("user"),j=s.get("username"),m=Object(i.useState)(!0),h=Object(d.a)(m,2),v=h[0],f=h[1],p=Object(i.useState)(null),O=Object(d.a)(p,2),x=O[0],g=O[1],y=Object(i.useState)(0),N=Object(d.a)(y,2),_=N[0],k=N[1],w=window.location.href.slice(31),C=Object(i.useState)(!0),S=Object(d.a)(C,2),P=S[0],T=S[1],E=null===a||void 0===a||null===(t=a.location)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.username,I=Object(i.useState)(0),R=Object(d.a)(I,2),A=R[0],D=R[1],U=Object(i.useState)(!1),F=Object(d.a)(U,2),M=F[0],q=F[1],L=Object(i.useState)(null),H=Object(d.a)(L,2),G=H[0],z=H[1],V=Object(i.useState)(!1),Y=Object(d.a)(V,2),X=Y[0],W=Y[1],Q=Object(i.useState)(!1),Z=Object(d.a)(Q,2),J=Z[0],K=Z[1],$=Object(i.useState)(!1),ee=Object(d.a)($,2),te=ee[0],ne=ee[1],ie=Object(i.useState)(!1),ae=Object(d.a)(ie,2),oe=ae[0],ce=ae[1],se=Object(i.useState)(!1),re=Object(d.a)(se,2),de=re[0],ue=re[1],be=Object(i.useState)({text:null}),je=Object(d.a)(be,2),me=je[0],he=je[1];Object(i.useEffect)((function(){if(console.log(o),b)try{(function(){var t=Object(l.a)(r.a.mark((function t(){var n,i,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.location.state){t.next=8;break}if(t.t0=v,!t.t0){t.next=5;break}return t.next=5,e.getPersonalByMeRequest(T,a.location.pathname.slice(10));case 5:f(!1),t.next=14;break;case 8:if(!v){t.next=14;break}if(t.t1=w,!t.t1){t.next=13;break}return t.next=13,e.getPersonalByMeRequest(T,w);case 13:f(!1);case 14:if(n=0,null===c||void 0===c||c.forEach((function(e){(null===e||void 0===e?void 0:e.id_account)===(null===o||void 0===o?void 0:o.id)&&(n+=1)})),k(n),g(o),B.a.isEmpty(o)||(null===o||void 0===o?void 0:o.id_account)===b){t.next=34;break}if(B.a.isEmpty(null===o||void 0===o?void 0:o.followers)){t.next=33;break}i=0;case 21:if(!(i<B.a.size(null===o||void 0===o?void 0:o.followers))){t.next=31;break}if((null===o||void 0===o||null===(s=o.followers[i])||void 0===s?void 0:s.id_account)!==b){t.next=27;break}return z(1),t.abrupt("return");case 27:z(-1);case 28:i++,t.next=21;break;case 31:t.next=34;break;case 33:z(-1);case 34:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}catch(t){console.log(t)}else a.push("/")}),[o,w,a,b,v,e,j,c]);var fe=[{id:1,name1:"",name2:"ng\u01b0\u1eddi theo d\xf5i ",follow:B.a.size(null===x||void 0===x?void 0:x.followers)},{id:2,name1:"\u0110ang theo d\xf5i ",name2:" ng\u01b0\u1eddi d\xf9ng",follow:B.a.size(null===x||void 0===x?void 0:x.following)}],Oe=function(e){W(e),q(e),ce(e),ne(e),K(e)};return Object(le.jsxs)("div",{children:[Object(le.jsx)(Te,{openEditPersonal:te,onCloseForm:Oe}),Object(le.jsx)(_e,{dataUser:x,openChangeAvt:M,onCloseForm:Oe,history:a,getDataUrl:w,userHistory:E}),Object(le.jsx)(ye,{openFromAddNews:X,setOpenFormAddNews:W,onCloseForm:Oe,setOpenToast:ue,setValueToast:he}),P&&Object(le.jsx)(xe.LinearProgress,{color:"#d82b7d",duration:1,height:3,percent:75,showValue:!0,valuePosition:"top",style:{position:"fixed",top:0,left:0,zIndex:1e4}}),P&&Object(le.jsx)(He,{actionTypes:"personal"}),!o&&Object(le.jsx)(ve,{}),";",J&&Object(le.jsx)(Ce,{onCloseForm:Oe}),Object(le.jsx)("div",{style:{width:150,position:"fixed",bottom:70,left:50,zIndex:9999},children:de&&Object(le.jsx)(Ne.a,{message:null===me||void 0===me?void 0:me.text})}),Object(le.jsxs)("div",{style:P?{display:"none"}:{display:"block"},children:[function(e){switch(A){case 1:return oe&&Object(le.jsx)(Ee,{onCloseForm:Oe,name:fe[0].name2,dataFollow:null===x||void 0===x?void 0:x.followers,setOpenContentFollow:ce});case 2:return oe&&Object(le.jsx)(Ee,{onCloseForm:Oe,name:fe[1].name1,dataFollow:null===x||void 0===x?void 0:x.following,setOpenContentFollow:ce});default:return oe&&Object(le.jsx)(Ee,{})}}(),Object(le.jsx)("div",{className:"bodyContainer",children:Object(le.jsxs)("div",{className:"bodyContainer_top",children:[Object(le.jsx)("div",{className:"bodyContainer_top-left",children:Object(le.jsx)("div",{className:"bodyContainer_top_left-top",children:Object(le.jsx)("img",{src:null===x||void 0===x?void 0:x.imageSrc,alt:"",id:"avt_main",onClick:function(){q(!0)}})})}),Object(le.jsxs)("div",{className:"bodyContainer_top-right",children:[Object(le.jsxs)("div",{className:"bodyContainerTop_right-top",children:[Object(le.jsx)("div",{className:"right_top-left",children:Object(le.jsx)("h2",{id:"top_left-h2",children:null===x||void 0===x?void 0:x.username})}),Object(le.jsx)("div",{className:"right_top-right",children:b===o.id?Object(le.jsxs)("div",{className:"personal_edit",children:[Object(le.jsx)("div",{onClick:function(){W(!0)},children:Object(le.jsxs)("button",{id:"top_right-message",children:[Object(le.jsx)("i",{className:"fas fa-plus"})," Th\xeam b\xe0i vi\u1ebft"]})}),Object(le.jsx)("div",{className:"right_top-edit",children:Object(le.jsx)("div",{onClick:function(){ne(!0)},children:Object(le.jsxs)("button",{id:"top_right-message",children:[Object(le.jsx)("i",{className:"fas fa-user-edit"})," Ch\u1ec9nh s\u1eeda trang c\xe1 nh\xe2n"]})})})]}):-1===G?Object(le.jsx)("div",{className:"addfr",children:Object(le.jsx)("button",{id:"top_right-message",onClick:function(){return T(!0),void e.followFriendRequest(o.id,T,null===o||void 0===o?void 0:o.username)},children:"Theo d\xf5i"})}):Object(le.jsxs)("div",{className:"addfr",children:[Object(le.jsx)(pe.b,{to:{pathname:"/chat",state:{id:o.id,name:o.name,username:o.username,imageSrc:o.imageSrc},id:1},id:"top_right-message",style:{textDecoration:"none",padding:"5px 10px",fontSize:15},children:"Nh\u1eafn tin"}),Object(le.jsxs)("button",{id:"top_right-message",onClick:function(){K(!0)},children:[Object(le.jsx)("i",{className:"fas fa-user"})," \u0110ang theo d\xf5i"]})]})})]}),Object(le.jsxs)("div",{className:"bodyContainerTop_right-body",children:[Object(le.jsxs)("p",{id:"right_body-p",children:[Object(le.jsx)("span",{id:"right_body-bold",children:_})," b\xe0i vi\u1ebft"]}),fe.map((function(e,t){return Object(le.jsxs)("p",{id:"right_body-p",onClick:function(){return t=e.id,ce(!0),void D(t);var t},children:[e.name1,Object(le.jsx)("span",{id:"right_body-bold",children:e.follow})," ",e.name2]},t)}))]}),Object(le.jsxs)("div",{className:"bodyContainerTop_right-bottom",children:[Object(le.jsx)("p",{id:"right_body-bold",children:null===x||void 0===x?void 0:x.name}),we()(null===x||void 0===x?void 0:x.description)]})]})]})}),Object(le.jsx)(Ve,{idDataUserApi:null===o||void 0===o?void 0:o.id})]})]})}));var Xe=function(e){var t=e.history;return Object(le.jsx)("div",{children:Object(le.jsx)(Ye,{history:t})})};n(411),n(412);var We=Object(b.b)((function(e){return{dataPost:e.Post,dataLoadmore:e.Loadmore}}),(function(e){return{getPostRequest:function(t,n){e(J(t,n))},getLoadmorePostRequest:function(t,n,i,a,o){e(function(e,t,n,i,a){return function(){var o=Object(l.a)(r.a.mark((function o(c){var s;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,o.t0=t,!o.t0){o.next=6;break}return o.next=5,D("GET","/post?id=".concat(e,"&timestamp=").concat(t));case 5:o.t0=o.sent;case 6:s=o.t0,n&&n(!1),a&&a(!0),200!==(null===s||void 0===s?void 0:s.status)||B.a.isEmpty(null===s||void 0===s?void 0:s.data)?i&&i({text:"Hi\u1ec7n t\u1ea1i kh\xf4ng c\xf2n b\xe0i vi\u1ebft !!!"}):(c($(null===s||void 0===s?void 0:s.data)),i&&i({text:"\u0110\xe3 t\u1ea3i th\xeam b\xe0i vi\u1ebft !!!"})),setTimeout((function(){a&&a(!1)}),6e3),o.next=16;break;case 13:o.prev=13,o.t1=o.catch(0),console.log(o.t1);case 16:case"end":return o.stop()}}),o,null,[[0,13]])})));return function(e){return o.apply(this,arguments)}}()}(t,n,i,a,o))},likePostRequest:function(t,n,i,a){e(ce(t,n,i,a))},commentPostRequest:function(t,n,i,a,o,c){e(oe(t,n,i,a,o,c))}}}))((function(e){var t,n=e.dataPost,a=e.dataLoadmore,o=(new u.a).get("user"),c=Object(i.useState)(""),s=Object(d.a)(c,2),r=s[0],l=s[1],b=Object(i.useState)(""),j=Object(d.a)(b,2),m=j[0],h=j[1],v=Object(i.useState)([]),f=Object(d.a)(v,2),p=f[0],O=f[1],x=Object(i.useState)(!0),g=Object(d.a)(x,2),y=g[0],N=g[1],_=Object(i.useState)(!0),k=Object(d.a)(_,2),w=k[0],C=k[1],S=Object(i.useState)(null),P=Object(d.a)(S,2),T=P[0],E=P[1],I=Object(i.useState)(null),R=Object(d.a)(I,2),A=R[0],D=R[1],U=Object(i.useState)(!1),F=Object(d.a)(U,2),M=F[0],q=F[1],L=Object(i.useState)(!1),H=Object(d.a)(L,2),G=H[0],z=H[1],V=Object(i.useState)(!1),Y=Object(d.a)(V,2),X=Y[0],W=Y[1],Q=Object(i.useState)(!1),Z=Object(d.a)(Q,2),J=Z[0],K=Z[1],$=Object(i.useState)({text:null}),ee=Object(d.a)($,2),te=ee[0],ne=ee[1];return Object(i.useEffect)((function(){var t=[],i=[];if(o&&y&&e.getPostRequest(C,o),N(!1),E(t=n),null===n||void 0===n||n.forEach((function(e){if(null===e||void 0===e?void 0:e.likes)for(var t=0,n=Object.entries(e.likes);t<n.length;t++){Object(d.a)(n[t],1)[0]===o&&i.push(null===e||void 0===e?void 0:e.id_post)}})),O(B.a.uniqWith(i,B.a.isEqual)),!B.a.isEmpty(a)){var c=t.concat(a);E(c)}}),[e,o,y,null===n||void 0===n?void 0:n.id_account,n,r]),Object(le.jsxs)("div",{children:[M&&Object(le.jsx)(ze,{dataDetailsPost:A,onCloseForm:function(e){q(e)},typePost:"allPost",setOpenDetailsPost:q}),w&&Object(le.jsx)(xe.LinearProgress,{color:"#d82b7d",duration:1,height:3,percent:75,showValue:!0,valuePosition:"top",style:{position:"fixed",top:0,left:0,zIndex:1e4}}),Object(le.jsx)("div",{style:{width:150,position:"fixed",bottom:70,left:50,zIndex:9999},children:J&&Object(le.jsx)(Ne.a,{message:null===te||void 0===te?void 0:te.text})}),w&&Object(le.jsx)(He,{actionTypes:"post"}),Object(le.jsxs)("div",{id:"scrollableDiv",className:"backgroundItem",children:[!w&&(B.a.isEmpty(T)?Object(le.jsx)("h3",{children:"Hi\u1ec7n ch\u01b0a c\xf3 b\xe0i vi\u1ebft n\xe0o!!!"}):null===(t=B.a.orderBy(T,"timestamp","desc"))||void 0===t?void 0:t.map((function(t,n){var i,a;return Object(le.jsxs)("div",{className:"backgroundItem_form",children:[Object(le.jsxs)("div",{className:"backgroundItem_form-top",children:[Object(le.jsx)("div",{className:"formItem_top-left",children:Object(le.jsx)(pe.b,{to:{pathname:"/personal/".concat(null===t||void 0===t?void 0:t.username),state:t},children:Object(le.jsx)("img",{src:null===t||void 0===t?void 0:t.accountImage,id:"formItem_top-left",alt:""})})}),Object(le.jsx)("div",{className:"formItem_top-body",children:Object(le.jsx)(pe.b,{to:{pathname:"/personal/".concat(null===t||void 0===t?void 0:t.username),state:t},style:{textDecoration:"none",color:"black"},children:null===t||void 0===t?void 0:t.username})}),Object(le.jsx)("div",{className:"formItem_top-right",children:Object(le.jsx)("i",{className:"fas fa-ellipsis-h",id:"formItem_top-right"})})]}),Object(le.jsx)("div",{className:"backgroundItem_form-body",children:Object(le.jsx)(Fe.Slide,{autoplay:!1,style:{width:"100%",height:"100%"},transitionDuration:300,arrows:1!==(null===t||void 0===t||null===(i=t.imageSrc)||void 0===i?void 0:i.length),children:!B.a.isEmpty(null===t||void 0===t?void 0:t.imageSrc)&&(null===t||void 0===t||null===(a=t.imageSrc)||void 0===a?void 0:a.map((function(e,t){return Object(le.jsx)("img",{src:e,id:"backgroundItem_form-body",alt:""},t)})))})}),Object(le.jsxs)("div",{className:"backgroundItem_form-bottom",children:[Object(le.jsxs)("div",{className:"formItem_bottom-top",children:[Object(le.jsxs)("div",{className:"bottomItem_top-top",children:[Object(le.jsx)("i",{className:"far fa-heart",id:"topItem_top-left",onClick:function(){return function(t,n){var i=[];i=[].concat(Object(Oe.a)(p),[t]),p.includes(t)&&(i=p.filter((function(e){return e!==t}))),O(i),e.likePostRequest(t,n,o,z)}(null===t||void 0===t?void 0:t.id_post,null===t||void 0===t?void 0:t.id_account)},style:p.includes(t.id_post)?{fontWeight:"bold",color:"rgb(237, 73, 86)"}:null}),Object(le.jsx)("i",{className:"far fa-comment",id:"topItem_top-left"}),Object(le.jsx)("i",{className:"far fa-paper-plane",id:"topItem_top-left"})]}),0!==B.a.size(null===t||void 0===t?void 0:t.likes)&&Object(le.jsx)("div",{className:"topItem_bottom-bottom",style:{marginBottom:-5},children:Object(le.jsxs)("b",{children:[B.a.size(null===t||void 0===t?void 0:t.likes)," l\u01b0\u1ee3t th\xedch"]})}),Object(le.jsx)("div",{className:"bottomItem_top-body",children:Object(le.jsxs)("p",{id:"bottomItem_top-body",children:[Object(le.jsx)("b",{children:null===t||void 0===t?void 0:t.username}),we()(null===t||void 0===t?void 0:t.content)]})}),Object(le.jsxs)("div",{className:"bottomItem_top-bottom",children:[0!==(null===t||void 0===t?void 0:t.comments.length)&&Object(le.jsxs)("div",{className:"topItem_bottom-top",onClick:function(){return D(t),void q(!0)},children:["Xem t\u1ea5t c\u1ea3 ",null===t||void 0===t?void 0:t.comments," b\xecnh lu\u1eadn"]}),Object(le.jsx)("div",{className:"topItem_bottom-bottom",children:Object(le.jsx)("p",{id:"topItem_bottom-bottom",children:De(null===t||void 0===t?void 0:t.timestamp)})})]})]}),Object(le.jsxs)("div",{className:"formItem_bottom-bottom",children:[Object(le.jsxs)("div",{className:"bottomItem_bottom-left",children:[r===(null===t||void 0===t?void 0:t.id_post)?G&&Object(le.jsx)(xe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{position:"absolute",top:15,right:28,fontSize:10,zIndex:1e4}}):null,Object(le.jsx)("textarea",{name:"comment",id:"bottomItem_bottom-left",placeholder:"Nh\u1eadp b\xecnh lu\u1eadn...",onChange:function(e){return function(e,t){l(t);var n=e.target.value;h(n)}(e,null===t||void 0===t?void 0:t.id_post)},value:r===(null===t||void 0===t?void 0:t.id_post)?m:""})]}),Object(le.jsx)("div",{className:"bottomItem_bottom-right",style:r===(null===t||void 0===t?void 0:t.id_post)?""===m?{color:"#a7dafb"}:{color:"rgba(var(--d69,0,149,246),1)"}:{color:"#a7dafb"},onClick:r===(null===t||void 0===t?void 0:t.id_post)?function(){return function(t){""!==m&&(z(!0),e.commentPostRequest(null===t||void 0===t?void 0:t.id_post,null===t||void 0===t?void 0:t.id_account,o,m,[null===t||void 0===t?void 0:t.id_account],z),h(""))}(t)}:null,children:"\u0110\u0103ng"})]})]})]},n)}))),!w&&Object(le.jsxs)("div",{className:"loadmore",onClick:function(){return function(){W(!0);var t=B.a.orderBy(T,"timestamp","asc").shift();e.getLoadmorePostRequest(null===t||void 0===t?void 0:t.id_account,null===t||void 0===t?void 0:t.timestamp,W,ne,K)}()},children:["Xem th\xeam ",Object(le.jsx)("i",{className:"fas fa-chevron-down",id:"loadmoreIcon"})," ",X&&Object(le.jsx)(xe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{position:"absolute",top:0,right:"35%",fontSize:10,zIndex:1e4}})]})]})]})}));n(413);var Qe=Object(b.b)((function(e){return{dataSuggested:e.Home,dataPersonal:e.MyPersonal}}),(function(e){return{suggestedAccountRequest:function(t){e(Q(t))},followFriendRequest:function(t,n){e(W(t,n))}}}))((function(e){var t=e.dataSuggested,n=Object(i.useState)(""),a=Object(d.a)(n,2),o=a[0],c=a[1],s=Object(i.useState)(!1),r=Object(d.a)(s,2),l=r[0],u=r[1];return Object(le.jsxs)("div",{children:[B.a.isEmpty(t)&&Object(le.jsx)(He,{actionTypes:"suggested"}),!B.a.isEmpty(t)&&t.map((function(t,n){return Object(le.jsxs)("div",{className:"right-bottom-bottom",children:[Object(le.jsx)("div",{className:"avt-sugges",children:Object(le.jsx)("img",{src:t.imageSrc,alt:"",id:"avt-sugges"})}),Object(le.jsx)("div",{className:"name-sugges",children:Object(le.jsx)(pe.b,{to:{pathname:"/personal/".concat(null===t||void 0===t?void 0:t.username),state:t},id:"name-sugges",children:Object(le.jsx)("p",{children:t.username})})}),Object(le.jsxs)("div",{className:"follow-sugges",children:[Object(le.jsx)("p",{id:"follow-sugges",onClick:function(){return n=t,u(!0),c(n.id),void e.followFriendRequest(n.id,u);var n},children:"Theo d\xf5i"}),l&&o===(null===t||void 0===t?void 0:t.id)&&Object(le.jsx)(xe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{position:"absolute",top:-4,right:-30,fontSize:10,zIndex:1e4}})]})]},n)}))]})}));var Ze=Object(b.b)((function(e){return{isLogin:e.User.dataUser,dataAllUser:e.User.dataAllUser,dataUser:e.Personal,dataOfMe:e.PersonalOfMe}}),(function(e){return{personalRequest:function(t,n){e(function(e,t){return function(n){return D("GET","/user?username=".concat(t),null).then((function(t){e(!1),n(Y(t,e))})).catch((function(e){console.log(e)}))}}(t,n))}}}))((function(e){var t=e.history,n=e.dataUser,a=e.dataOfMe,o=new u.a,c=o.get("username"),s=Object(i.useState)(!0),r=Object(d.a)(s,2),l=r[0],b=r[1],j=Object(i.useState)(!1),m=Object(d.a)(j,2),h=(m[0],m[1]);return Object(i.useEffect)((function(){o.get("user")&&!1!==(null===a||void 0===a?void 0:a.isLogin)||t.push("/login"),h(!0),l&&e.personalRequest(h,c),b(!1)}),[o,t,e,c,l]),Object(le.jsx)("div",{children:Object(le.jsx)("div",{className:"body-content",children:Object(le.jsxs)("div",{className:"body-container",children:[Object(le.jsx)(We,{}),Object(le.jsx)("div",{className:"content-right",children:Object(le.jsxs)("div",{className:"item-right",children:[B.a.isEmpty(a)&&Object(le.jsx)(He,{actionTypes:"suggested"}),!B.a.isEmpty(a)&&Object(le.jsxs)("div",{className:"right-top",children:[Object(le.jsx)("div",{className:"avt-right",children:Object(le.jsx)(pe.b,{to:{pathname:"/personal/".concat(null===a||void 0===a?void 0:a.username),state:n},children:Object(le.jsx)("img",{src:null===a||void 0===a?void 0:a.imageSrc,alt:"",id:"avt-right"})})}),Object(le.jsx)("div",{className:"p-avt-right",children:Object(le.jsx)(pe.b,{to:{pathname:"/personal/".concat(null===a||void 0===a?void 0:a.username),state:n},id:"p-avt-right",children:Object(le.jsx)("p",{children:null===a||void 0===a?void 0:a.username})})})]}),Object(le.jsxs)("div",{className:"right-bottom",children:[Object(le.jsxs)("div",{className:"right-bottom-top",children:[Object(le.jsx)("div",{className:"suggestion",children:Object(le.jsx)("span",{id:"suggestion",children:"G\u1ee3i \xfd cho b\u1ea1n"})}),Object(le.jsx)("div",{className:"watch-all",children:Object(le.jsxs)("a",{href:"#",id:"watch-all",style:{display:"none"},children:[" ",Object(le.jsx)("p",{children:"Xem t\u1ea5t c\u1ea3"})]})})]}),Object(le.jsx)(Qe,{})]})]})})]})})})}));var Je=function(e){var t=e.history;return Object(le.jsx)("div",{children:Object(le.jsx)(Ze,{history:t})})},Ke=(n(414),n(415),n.p+"static/media/duc.56b931d0.jpg");var $e=function(e){var t=e.isOpenEditChat,n=Object(i.useState)(!1),a=Object(d.a)(n,2),o=a[0],c=a[1];return Object(le.jsxs)("div",{style:t?{display:"block"}:{display:"none"},children:[Object(le.jsx)("div",{className:"backgroundEditName",style:o?{display:"block"}:{display:"none"},children:Object(le.jsxs)("div",{className:"backgroundEditName_form",children:[Object(le.jsx)("input",{type:"text",name:"name",id:"editName_input",placeholder:"Nh\u1eadp t\xean...."}),Object(le.jsx)("i",{className:"fas fa-times",id:"formChageName_close",onClick:function(){c(!1)}})]})}),Object(le.jsx)("div",{className:"backgroundEditChat",children:Object(le.jsxs)("div",{className:"backgroundEditChat_form",children:[Object(le.jsx)("div",{className:"backgroundEditChat_form-top",children:"Th\xf4ng tin chi ti\u1ebft"}),Object(le.jsxs)("div",{className:"backgroundEditChat_form-body",children:[Object(le.jsx)("div",{className:"formEditChat_body-top",children:"Th\xe0nh vi\xean"}),Object(le.jsx)("div",{className:"formEditChat_body-bottom",children:Object(le.jsx)("div",{className:"fromEditChat_wrapper",children:Object(le.jsxs)("div",{className:"bodyEditChat_bottom-item",children:[Object(le.jsx)("div",{className:"bottomEditChat_item-left",children:Object(le.jsx)("img",{src:Ke,id:"itemLeft_img",alt:""})}),Object(le.jsxs)("div",{className:"bottomEditChat_item-right",children:[Object(le.jsx)("div",{className:"itemEditChat_right-top",children:"aaaa"}),Object(le.jsx)("div",{className:"itemEditChat_right-bottom",children:"aaaa"})]}),Object(le.jsx)("i",{className:"far fa-edit",id:"bottomEditChat_item-edit"})]})})})]}),Object(le.jsxs)("div",{className:"backgroundEditChat_form-bottom",children:[Object(le.jsx)("div",{className:"formEditChat_bottom-item",onClick:function(){c(!0)},children:"S\u1eeda t\xean \u0111o\u1ea1n chat"}),Object(le.jsx)("div",{className:"formEditChat_bottom-item",style:{fontWeight:"bold",color:"red"},children:"R\u1eddi kh\u1ecfi nh\xf3m"}),Object(le.jsx)("div",{className:"formEditChat_bottom-item",onClick:function(){e.onCloseForm(!1)},children:"H\u1ee7y"})]})]})})]})},et=n(300);n(562);var tt=function(e){var t,n=e.openGroupChat,a=e.dataUser,o=Object(i.useState)([]),c=Object(d.a)(o,2),s=c[0],u=c[1],b=Object(i.useState)([]),j=Object(d.a)(b,2),m=j[0],h=j[1];Object(i.useEffect)((function(){!B.a.isEmpty(m)&&1===m.length&&e.arrDataItemChoose({id:m[0].id_account,name:m[0].name,username:m[0].username,imageSrc:m[0].imageSrc})}),[m,e]);var v=function(){var t=Object(l.a)(r.a.mark((function t(){var n,i,o,c,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],null===a||void 0===a||a.following.forEach((function(e){1===s.length?e.id_account===s[0]&&n.push(e):s.forEach((function(t){t===e.id_account&&n.push(e)}))})),h(n),e.onCloseForm(),i={},o={},c=[],n.forEach((function(e){i={name:e.name,id:e.id_account,username:e.username,imageSrc:e.imageSrc},o[i.id]=i,c.push(e.username)})),o[a.id]={name:a.name,id:a.id,username:a.username,imageSrc:a.imageSrc},c.push(a.username),t.next=12,Be.ref("chat_info").push();case 12:return l=t.sent.getKey(),t.next=15,Be.ref("chat_info/".concat(l)).set({containId:o,idRoom:l,imageSrc:"https://images.vexels.com/media/users/3/132363/isolated/preview/a31cc22b4b43c6dacdf885948f886f7c-support-blue-circle-icon-by-vexels.png",username:c.toString(),name:"Nh\u1eafn tin tr\xf2 chuy\u1ec7n c\xf9ng b\u1ea1n b\xe8 nh\xe9",lastTime:Date.now()});case 15:return t.next=17,Be.ref("chat_messages/".concat(l)).push({content:"",idUser:null===a||void 0===a?void 0:a.id,name:null===a||void 0===a?void 0:a.name,username:null===a||void 0===a?void 0:a.username,time:Date.now()});case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(le.jsx)("div",{style:n?{display:"block"}:{display:"none"},children:Object(le.jsx)("div",{className:"backgroundGroupChat",children:Object(le.jsxs)("div",{className:"backgroundGroupChat_form",children:[Object(le.jsxs)("div",{className:"backgroundGroupChat_form-top",children:[Object(le.jsx)("div",{className:"formGroupChat_top-left",onClick:function(){e.onCloseForm()},children:Object(le.jsx)("i",{className:"fas fa-times"})}),Object(le.jsx)("div",{className:"formGroupChat_top-body",children:"Tin nh\u1eafn m\u1edbi"}),Object(le.jsx)("div",{className:"formGroupChat_top-right",onClick:B.a.isEmpty(s)||1===B.a.size(s)?null:function(){return v()},style:B.a.isEmpty(s)||1===B.a.size(s)?{color:"#b7e1fd"}:{color:"#1ea1f7"},children:"Ti\u1ebfp"})]}),Object(le.jsx)("div",{className:"backgroundGroupChat_form-bottom",children:Object(le.jsx)("div",{className:"formGroupChat_wrapper",children:null===a||void 0===a||null===(t=a.following)||void 0===t?void 0:t.map((function(e,t){return Object(le.jsxs)("div",{className:"formGroupChat_bottom-item",onClick:function(){return function(e){var t=[];t=[].concat(Object(Oe.a)(s),[e.id_account]),s.includes(e.id_account)&&(t=s.filter((function(t){return t!==e.id_account}))),u(t)}(e)},children:[Object(le.jsx)("div",{className:"bottomGroupChat_item-left",children:Object(le.jsx)("img",{src:e.imageSrc,alt:"",id:"bottomGroupChat_item-img"})}),Object(le.jsxs)("div",{className:"bottomGroupChat_item-body",children:[Object(le.jsx)("div",{className:"itemGroupChat_body-top",children:e.username}),Object(le.jsx)("div",{className:"itemGroupChat_body-bottom",children:e.name})]}),Object(le.jsx)("div",{className:"bottomGroupChat_item-right",children:Object(le.jsx)("i",{className:"fas fa-check-circle",id:"bottomGroupChat_item-icon",style:{fontWeight:s.includes(e.id_account)?"bold":"300"}})})]},t)}))})})]})})})},nt=(n(563),n(40)),it=n(41),at="https://api.stringee.com/v1/room2",ot=new(function(){function e(t,n){Object(nt.a)(this,e),this.projectId=t,this.projectSecret=n,this.restToken=""}return Object(it.a)(e,[{key:"createRoom",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.random().toFixed(4),e.next=3,A.a.post("".concat(at,"/create"),{name:t,uniqueName:t},{headers:this._authHeader()});case 3:return n=e.sent,i=n.data,console.log({room:i}),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listRoom",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("".concat(at,"/list"),{headers:this._authHeader()});case 2:return t=e.sent,n=t.data.list,console.log({rooms:n}),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRoom",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("".concat(at,"/delete"),{roomId:t},{headers:this._authHeader()});case 2:return n=e.sent,console.log({response:n}),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearAllRooms",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t,n,i=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listRoom();case 2:return t=e.sent,e.next=5,Promise.all(t.map((function(e){return i.deleteRoom(e.roomId)})));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setRestToken",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getToken({rest:!0});case 2:return t=e.sent,n=t.rest_access_token,this.restToken=n,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserToken",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getToken({userId:t});case 2:return n=e.sent,e.abrupt("return",n.access_token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRoomToken",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getToken({roomId:t});case 2:return n=e.sent,e.abrupt("return",n.room_token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getToken",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var n,i,a,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,i=t.roomId,a=t.rest,e.next=3,A.a.get("https://v2.stringee.com/web-sdk-conference-samples/php/token_helper.php",{params:{keySid:this.projectId,keySecret:this.projectSecret,userId:n,roomId:i,rest:a}});case 3:return o=e.sent,c=o.data,console.log({tokens:c}),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isSafari",value:function(){var e=navigator.userAgent.toLowerCase();return!e.includes("chrome")&&e.includes("safari")}},{key:"_authHeader",value:function(){return{"X-STRINGEE-AUTH":this.restToken}}}]),e}())("SKlS4RX8A62Wm4X6iJ5FEevuPGmuabInjK","MVFsRUIzelg0MFVuSVlUcmFPVXNSZDBONWpBVDZjcg==");var ct=function(e){var t=e.dataCall,n=Object(i.useState)(""),a=Object(d.a)(n,2),o=a[0],c=a[1],s=Object(i.useState)(""),u=Object(d.a)(s,2),b=u[0],j=u[1],m=Object(i.useRef)(void 0),h=Object(i.useRef)(void 0),v=Object(i.useRef)(void 0),f=Object(i.useRef)("");Object(i.useEffect)((function(){(function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ot.setRestToken();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(l.a)(r.a.mark((function e(n){var i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.getUserToken(null===t||void 0===t?void 0:t.id);case 2:i=e.sent,f.current=i,m.current||((a=new StringeeClient).on("authen",(function(e){console.log("on authen: ",e),n(e)})),m.current=a),m.current.connect(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(r.a.mark((function e(){var t,n,i,a,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,StringeeVideo.createLocalVideoTrack(m.current,{video:!0,audio:!0,videoDimensions:{width:640,height:360}});case 2:return n=e.sent,i=n.attach(),null===(t=document.querySelector("#videosHehe"))||void 0===t||t.appendChild(i),e.next=7,StringeeVideo.joinRoom(m.current,h.current);case 7:return a=e.sent,o=a.room,v.current||(v.current=o,o.clearAllOnMethos(),o.on("addtrack",function(){var e=Object(l.a)(r.a.mark((function e(t){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t.info.track).serverId!==n.serverId){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,x(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.on("removetrack",function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.track){e.next=2;break}return e.abrupt("return");case 2:t.track.detach().forEach((function(e){return e.remove()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log(a),null===a||void 0===a||null===(c=a.listTrackInfo)||void 0===c||c.forEach(function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=12,o.publish(n);case 12:console.log("room publish successful");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,null===(n=v.current)||void 0===n?void 0:n.subscribe(null===t||void 0===t?void 0:t.serverId);case 3:null===(i=e.sent)||void 0===i||i.on("ready",Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.attach(),document.querySelector("#videosHehe").appendChild(t);case 2:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.createRoom();case 2:return t=e.sent,e.next=5,ot.getRoomToken(t.roomId);case 5:return n=e.sent,j(t.roomId),c(n),h.current=n,e.next=11,p();case 11:return e.next=13,O();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=prompt("D\xe1n room v\xe0o \u0111\xe2y")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ot.getRoomToken(t);case 5:return n=e.sent,j(t),c(n),h.current=n,e.next=11,p();case 11:return e.next=13,O();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(le.jsx)("div",{children:Object(le.jsxs)("div",{className:"backgroundFaceTime",children:[Object(le.jsx)("h1",{children:b}),Object(le.jsx)("h1",{children:o}),Object(le.jsx)("button",{onClick:function(){return g()},children:"Create room"}),Object(le.jsx)("button",{onClick:function(){return y()},children:"Join room"}),Object(le.jsx)("div",{id:"videosHehe"})]})})},st=[];var rt=Object(b.b)((function(e){return{dataUser:e.PersonalOfMe,dataUserApi:e.User}}),(function(e){return{getPersonalByIdOfMeRequest:function(t,n){e(H(t,n))}}}))((function(e){var t,n,a,o=e.history,s=e.personalRequest,b=e.dataUser,j=e.dataUserApi,m=Object(i.useRef)([]),h=new u.a,v=Object(i.useState)([]),f=Object(d.a)(v,2),p=f[0],O=f[1],x=h.get("user"),g=Object(i.useState)(""),y=Object(d.a)(g,2),N=y[0],_=y[1],k=h.get("username"),w=Object(i.useState)(""),C=Object(d.a)(w,2),S=C[0],P=C[1],T=Object(i.useState)(!0),E=Object(d.a)(T,2),I=E[0],R=E[1],A=Object(i.useState)(null),D=Object(d.a)(A,2),U=D[0],F=D[1],M=Object(i.useState)([]),q=Object(d.a)(M,2),L=q[0],H=q[1],G=Object(i.useState)(!0),z=Object(d.a)(G,2),V=z[0],Y=z[1],X=Object(i.useState)(null),W=Object(d.a)(X,2),Q=W[0],Z=W[1],J=Object(i.useState)([]),K=Object(d.a)(J,2),$=K[0],ee=K[1],te=Object(i.useState)(null),ne=Object(d.a)(te,2),ie=ne[0],ae=ne[1],oe=Object(i.useState)(null),ce=Object(d.a)(oe,2),se=ce[0],re=ce[1],de=Object(i.useState)(!1),ue=Object(d.a)(de,2),be=ue[0],je=ue[1],me=Object(i.useState)(null),he=Object(d.a)(me,2),ve=he[0],fe=he[1],pe=Object(i.useState)(!1),ge=Object(d.a)(pe,2),ye=ge[0],Ne=ge[1],_e=Object(i.useRef)([]),ke=Object(i.useState)(null),we=Object(d.a)(ke,2),Ce=we[0],Se=we[1],Pe=Object(i.useState)(!1),Te=Object(d.a)(Pe,2),Ee=Te[0],Ie=Te[1];Object(i.useEffect)((function(){var t,n="",i=null===o||void 0===o||null===(t=o.location)||void 0===t?void 0:t.state;void 0!==i&&(""!==ie&&ae(i),""!==se&&re(i.id),ie&&fe(ie),se&&Z(se));var a={name:null===b||void 0===b?void 0:b.name,imageSrc:null===b||void 0===b?void 0:b.imageSrc,id:null===b||void 0===b?void 0:b.id,username:null===b||void 0===b?void 0:b.username},s={name:null===ve||void 0===ve?void 0:ve.name,imageSrc:null===ve||void 0===ve?void 0:ve.imageSrc,id:null===ve||void 0===ve?void 0:ve.id,username:null===ve||void 0===ve?void 0:ve.username},u={};u[x]=a,u[null===ve||void 0===ve?void 0:ve.id]=s,ee(u);var j=null===m||void 0===m?void 0:m.current.concat(i);H(i?j:null===m||void 0===m?void 0:m.current);try{I&&e.getPersonalByIdOfMeRequest(x,Y),R(!1),function(){var e=Object(l.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},a=[],e.next=4,Be.ref().child("chat_info").orderByChild("containId/".concat(x,"/id")).equalTo(x).on("value",(function(e){if(null!==e.val())for(var o=0,s=Object.entries(e.val());o<s.length;o++){var r=Object(d.a)(s[o],2),l=r[0],u=r[1];if(2===B.a.size(null===u||void 0===u?void 0:u.containId))for(var b=0,j=Object.entries(null===u||void 0===u?void 0:u.containId);b<j.length;b++){var m=Object(d.a)(j[b],2),h=(m[0],m[1]);(null===h||void 0===h?void 0:h.id)!==x&&(t=Object(c.a)(Object(c.a)({},h),{},{idRoom:l,lastTime:null===u||void 0===u?void 0:u.lastTime}),a.push(t),void 0!==i&&(null===i||void 0===i?void 0:i.id)!==(null===h||void 0===h?void 0:h.id)&&a.push(i),null!==ve&&(null===ve||void 0===ve?void 0:ve.id)===(null===h||void 0===h?void 0:h.id)&&(n=u.idRoom,_(n))),H(B.a.uniqWith(B.a.sortBy(a,["lastTime"],["desc"]),B.a.isEqual))}else a.push(u),H(B.a.uniqWith(a,B.a.isEqual)),null!==ve&&ve.idRoom===u.idRoom&&(n=u.idRoom,_(n))}""!==n?Be.ref("chat_messages/"+n).on("value",(function(e){var t=[];if(null!==e.val())for(var n=0,i=Object.entries(e.val());n<i.length;n++){var a=Object(d.a)(i[n],2),o=(a[0],a[1]);t.push(o)}O(t)})):(O([]),_(""))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}catch(h){console.log(h)}}),[se,ie,ve,null===o||void 0===o||null===(t=o.location)||void 0===t?void 0:t.state,x,I,s,k,null===b||void 0===b?void 0:b.id,null===b||void 0===b?void 0:b.imageSrc,null===b||void 0===b?void 0:b.name,null===b||void 0===b?void 0:b.username,_e,null===j||void 0===j?void 0:j.dataAllUser,o,e]);var Re=function(e){var t=new FormData;t.append("file",e),t.append("upload_preset","ml_default"),fetch("https://api.Cloudinary.com/v1_1/baby-dont-cry/image/upload",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){st.push(e.url),Y(!1),F(st)})).catch((function(e){console.log(e)}))},Ae=function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,""===N){e.next=13;break}if(e.t0=""!==S,!e.t0){e.next=7;break}return e.next=7,Be.ref("chat_messages/".concat(N)).push({content:S,idUser:null===b||void 0===b?void 0:b.id,name:null===b||void 0===b?void 0:b.name,image:U,username:null===b||void 0===b?void 0:b.username,imageSender:null===b||void 0===b?void 0:b.imageSrc,time:Date.now()});case 7:if(e.t1=""!==S,!e.t1){e.next=11;break}return e.next=11,Be.ref("chat_info/".concat(N,"/lastTime")).set(Date.now());case 11:e.next=27;break;case 13:if(e.t2=""!==S,!e.t2){e.next=18;break}return e.next=17,Be.ref("chat_info").push();case 17:e.t2=e.sent.getKey();case 18:if(n=e.t2,e.t3=""!==S,!e.t3){e.next=23;break}return e.next=23,Be.ref("chat_info/".concat(n)).set({containId:$,idRoom:n,imageSrc:"",name:"",username:"",lastTime:Date.now()});case 23:if(e.t4=""!==S,!e.t4){e.next=27;break}return e.next=27,Be.ref("chat_messages/".concat(n)).push({content:S,idUser:null===b||void 0===b?void 0:b.id,name:null===b||void 0===b?void 0:b.name,username:null===b||void 0===b?void 0:b.username,image:U,imageSender:null===b||void 0===b?void 0:b.imageSrc,time:Date.now()});case 27:""!==S&&(P(""),F(null),st=[]),e.next=33;break;case 30:e.prev=30,e.t5=e.catch(1),console.log(e.t5);case 33:case"end":return e.stop()}}),e,null,[[1,30]])})));return function(t){return e.apply(this,arguments)}}(),Ue=function(e){je(e),Ne(e)},Fe=function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(le.jsxs)("div",{children:[Ee&&Object(le.jsx)(ct,{dataCall:Ce}),V&&Object(le.jsx)(xe.LinearProgress,{color:"#d82b7d",duration:1,height:3,percent:75,showValue:!0,valuePosition:"top",style:{position:"fixed",top:0,left:0,zIndex:1e4}}),Object(le.jsx)(tt,{openGroupChat:be,onCloseForm:Ue,arrDataItemChoose:Fe,dataUser:b}),Object(le.jsx)($e,{isOpenEditChat:ye,onCloseForm:Ue}),Object(le.jsx)("div",{className:"contentChat",children:Object(le.jsxs)("div",{className:"container-contentChat",children:[Object(le.jsxs)("div",{className:"contentChat-left",children:[Object(le.jsxs)("div",{className:"contentChat-top-left",children:[Object(le.jsx)("div",{className:"contentChat-top-name",children:Object(le.jsx)("p",{id:"p-contentChat-top-name",children:k})}),Object(le.jsx)("i",{className:"far fa-comments",id:"iconcontentChatTopLeft",onClick:function(){je(!0)}})]}),Object(le.jsx)("div",{className:"contentChat-bottom-left",children:null===(n=B.a.orderBy(null===(a=B.a.uniqBy(L,"idRoom"))||void 0===a?void 0:a.filter((function(e){return void 0!==(null===e||void 0===e?void 0:e.idRoom)})),["lastTime"],["desc"]))||void 0===n?void 0:n.map((function(e,t){return Object(le.jsxs)("div",{className:"item-leftChat",onClick:function(){return function(e){fe(e),Z(e.idRoom),ae(""),re("")}(e)},style:Q===(null===e||void 0===e?void 0:e.idRoom)?{backgroundColor:"#efefef"}:null,children:[Object(le.jsx)("div",{className:"item-leftChat-left",children:Object(le.jsx)("img",{src:null===e||void 0===e?void 0:e.imageSrc,alt:"",id:"img-chat"})}),Object(le.jsxs)("div",{className:"item-leftChat-right",children:[Object(le.jsx)("div",{className:"p-item-leftChat-right",children:Object(le.jsx)("p",{id:"p-item-leftChat-right",children:null===e||void 0===e?void 0:e.username})}),Object(le.jsx)("span",{id:"span-item-leftChat-right",children:null===e||void 0===e?void 0:e.name})]})]},t)}))})]}),ve&&0!==L.length||ie&&0!==L.length?Object(le.jsxs)("div",{className:"contentChat-right",children:[Object(le.jsxs)("div",{className:"contentChat_right-top",children:[Object(le.jsxs)("div",{className:"rightChat_top-left",children:[Object(le.jsx)("div",{className:"topChat_left-avt",children:Object(le.jsx)("img",{src:null===ve||void 0===ve?void 0:ve.imageSrc,id:"topChat_left-avt",alt:""})}),Object(le.jsxs)("div",{className:"topChat_left-name",children:[Object(le.jsx)("div",{className:"leftChat_name-top",children:null===ve||void 0===ve?void 0:ve.username}),Object(le.jsx)("div",{className:"leftChat_name-bottom",children:null===ve||void 0===ve?void 0:ve.name})]})]}),Object(le.jsxs)("div",{className:"rightChat_top-right",children:[Object(le.jsx)("i",{className:"fas fa-video",id:"rightChat_top-right",style:{marginRight:10},onClick:function(){return Se(ve),void Ie(!0)}}),Object(le.jsx)("i",{className:"fas fa-info-circle",id:"rightChat_top-right",onClick:function(){Ne(!0)}})]})]}),Object(le.jsxs)("div",{className:"contentChat_right-bottom",children:[Object(le.jsx)(et.a,{className:U?"rightChat_bottom-showImgChoose":"rightChat_bottom-top",children:null===p||void 0===p?void 0:p.map((function(e,t){var n,i;return Object(le.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.idUser)!==x&&""!==(null===e||void 0===e?void 0:e.content)&&Object(le.jsxs)("div",{className:"content-message-left",children:[Object(le.jsxs)("div",{className:"content-wrapper",children:[Object(le.jsx)("div",{className:"avt-content",children:Object(le.jsx)("img",{src:null===e||void 0===e?void 0:e.imageSender,id:"avt-content",alt:""})}),Object(le.jsxs)("div",{className:"content-wrapperLeft",children:[Object(le.jsxs)("div",{className:"username-content",children:[null===e||void 0===e?void 0:e.name," - ",De(null===e||void 0===e?void 0:e.time)]}),Object(le.jsx)("div",{className:"p-content",children:null===e||void 0===e?void 0:e.content})]})]}),null===e||void 0===e||null===(n=e.image)||void 0===n?void 0:n.map((function(t,n){return Object(le.jsxs)("div",{className:"img_content-left",children:[Object(le.jsx)("div",{className:"avt-content",children:Object(le.jsx)("img",{src:null===e||void 0===e?void 0:e.imageSender,id:"avt-content",alt:""})}),Object(le.jsxs)("div",{className:"image_Content-wrapper",children:[Object(le.jsx)("div",{className:"username-content",children:null===e||void 0===e?void 0:e.name}),Object(le.jsx)("div",{className:"img_content_left",children:Object(le.jsx)("img",{src:t,alt:"",id:"img_content-left"})})]})]},n)}))]}),(null===e||void 0===e?void 0:e.idUser)===x&&""!==(null===e||void 0===e?void 0:e.content)&&Object(le.jsxs)("div",{children:[Object(le.jsx)("div",{className:"wrapper_content",children:Object(le.jsx)("div",{className:"p-content",children:null===e||void 0===e?void 0:e.content})}),null===e||void 0===e||null===(i=e.image)||void 0===i?void 0:i.map((function(e,t){return Object(le.jsx)("div",{className:"img_content-right",children:Object(le.jsx)("img",{src:e,alt:"",id:"img_content-right"})},t)}))]})]},t)}))}),Object(le.jsxs)("div",{className:U?"showImgChoose":"hiddenImgChoose",children:[Object(le.jsx)("div",{className:"showImgChoose_wrapper-close",children:Object(le.jsx)("i",{className:"fas fa-times",id:"wrapper_close",onClick:function(){return F(null),void(st=[])}})}),Object(le.jsx)("div",{className:"showImgChoose_wrapper",children:null===U||void 0===U?void 0:U.map((function(e,t){return Object(le.jsxs)("div",{className:"showImgChoose_img",children:[Object(le.jsx)("img",{src:e,id:"showImgChoose_img",alt:""}),Object(le.jsx)("i",{className:"fas fa-times",id:"icon_imageChoose",onClick:function(){return function(e){var t=Object(Oe.a)(U),n=t.findIndex((function(t){return t===e}));t.splice(n,1),F(t)}(e)}})]},t)}))})]}),Object(le.jsx)("div",{className:"rightChat_bottom-bottom",children:Object(le.jsx)("form",{onSubmit:Ae,children:Object(le.jsxs)("div",{className:"bottomChat_bottom-wrap",children:[Object(le.jsx)("div",{className:"bottomChat_wrap-left",children:Object(le.jsx)("i",{className:"far fa-smile",id:"bottomChat_wrap-left"})}),Object(le.jsx)("div",{className:"bottomChat_wrap-body",children:Object(le.jsx)("textarea",{name:"",id:"textarea-chat",placeholder:"Nh\u1eafn tin....",onChange:function(e){return function(e){var t=e.target.value;P(t)}(e)},value:S,onKeyDown:function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),""!==S&&Ae(e))}})}),Object(le.jsxs)("div",{className:"bottomChat_wrap-right",children:[Object(le.jsxs)("label",{className:"lblImageChat",children:[Object(le.jsx)("input",{type:"file",style:{opacity:0},multiple:!0,onChange:function(e){console.log(e.target.files);var t=e.target.files;if(Y(!0),t.length>1)for(var n=0;n<t.length;n++)Re(t[n]);else Re(t[0])}}),Object(le.jsx)("i",{className:"fas fa-images",id:"icon-chat-right"})]}),Object(le.jsx)("button",{type:"submit",id:"btn_submitChat",children:Object(le.jsx)("i",{className:"fas fa-paper-plane",id:"icon-chat-right"})})]})]})})})]})]}):Object(le.jsx)("div",{className:"contentChat-right",children:Object(le.jsxs)("div",{className:"contentChat_right-item",children:[Object(le.jsx)("i",{className:"far fa-paper-plane"}),"Tin nh\u1eafn c\u1ee7a b\u1ea1n"]})})]})})]})}));var lt=function(e){var t=e.history;return Object(le.jsx)("div",{children:Object(le.jsx)(rt,{history:t})})},dt=(n(564),n(565),n(34)),ut=(new u.a).get("user"),bt=function(e){return function(){var t=Object(l.a)(r.a.mark((function t(n){var i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D("GET","/user?id=".concat(e||ut),null);case 3:i=t.sent,n(jt(null===i||void 0===i?void 0:i.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},jt=function(e){return{type:C,data:e}},mt=function(e){return{type:P,data:e}},ht=function(e){return{type:T,data:e}},vt=function(e){return{type:E,data:e}},ft=function(e){return{type:I,data:e}};var pt=Object(b.b)((function(e){return{dataBill:e.Apartment.bill,dataPayment:e.CreatePayment,dataUser:e.PersonalOfMe}}),(function(e){return{getBillRequest:function(t){e(function(e){return function(){var t=Object(l.a)(r.a.mark((function t(n){var i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(bt(e)),t.next=4,D("GET","/apt/getBill?id=".concat(e),null);case 4:200===(null===(i=t.sent)||void 0===i?void 0:i.status)&&n(mt(null===i||void 0===i?void 0:i.data)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},createPaymentRequest:function(t,n){e(function(e,t){return function(){var n=Object(l.a)(r.a.mark((function n(i){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D("POST","/create_payment_url",{id:e,orderType:"billpayment",amount:t,bankCode:"",language:"vn"});case 3:200===(null===(a=n.sent)||void 0===a?void 0:a.status)&&i(vt(null===a||void 0===a?void 0:a.data)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.dataBill,n=e.dataPayment,a=e.dataUser,o=Object(i.useState)([]),c=Object(d.a)(o,2),s=c[0],r=c[1],l=Object(he.f)(),u=Object(i.useState)(!0),b=Object(d.a)(u,2),j=b[0],m=b[1];Object(i.useEffect)((function(){j&&e.getBillRequest(null===a||void 0===a?void 0:a.id),m(!1),r(t),!B.a.isEmpty(n)&&window.location.replace(n)}),[e,j,t,n,l,null===a||void 0===a?void 0:a.id]);var h=function(t){e.createPaymentRequest(null===t||void 0===t?void 0:t._id,null===t||void 0===t?void 0:t.tongTien)};return Object(le.jsx)("div",{children:Object(le.jsx)("div",{className:"backgroundBill",children:null===s||void 0===s?void 0:s.map((function(e,t){var n=Date.now(),i=null===e||void 0===e?void 0:e.noiDung;return Object(le.jsxs)("div",{children:["service_fee"===(null===e||void 0===e?void 0:e.loai_phieuThu)&&Object(le.jsxs)("div",{className:"backgroundBill_form",children:[Object(le.jsxs)("div",{className:"backgroundBill_form-top",children:["Chi ph\xed qu\u1ea3n l\xfd c\u0103n h\u1ed9",n-(null===e||void 0===e?void 0:e.hanThanhToan)>0&&Object(le.jsx)("div",{className:"titleExpired",children:"\u0110\xe3 qu\xe1 h\u1ea1n"})]}),Object(le.jsxs)("div",{className:"backgroundBill_form-bottom",children:[Object(le.jsxs)("div",{className:"formBill_bottom-top",children:[Object(le.jsx)("div",{className:"bottomBill_top-left",children:" C\u0103n h\u1ed9"}),Object(le.jsxs)("div",{className:"bottomBill_top-right",children:[" ",null===e||void 0===e?void 0:e.maCanHo]})]}),Object(le.jsxs)("div",{className:"formBill_bottom-top",children:[Object(le.jsx)("div",{className:"bottomBill_top-left",children:" Ng\xe0y l\u1eadp phi\u1ebfu"}),Object(le.jsxs)("div",{className:"bottomBill_top-right",children:[" ",Ae()(null===e||void 0===e?void 0:e.ngayLapPhieu).format("DD [Th\xe1ng] MM [l\xfac] HH:mm")]})]}),Object(le.jsx)("div",{className:"formBill_bottom-bottom",children:Object(le.jsxs)("table",{style:{width:"100%",height:"100%",backgroundColor:"white",borderRadius:10,border:"1px solid #dbdbdb"},children:[Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Di\u1ec7n t\xedch"}),Object(le.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"DVT"}),Object(le.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"\u0110\u01a1n gi\xe1"}),Object(le.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Th\xe0nh ti\u1ec1n"})]}),Object(le.jsx)("tbody",{children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:i.dienTich}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"m2"}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(le.jsx)(dt.a,{value:(null===e||void 0===e?void 0:e.tongTien)/i.dienTich,thousandSeparator:!0,displayType:"text",suffix:" VND"})}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(le.jsx)(dt.a,{value:null===e||void 0===e?void 0:e.tongTien,thousandSeparator:!0,displayType:"text",suffix:" VND"})})]})})]})}),Object(le.jsxs)("div",{className:"totalPrice",children:["T\u1ed5ng ti\u1ec1n:"," ",Object(le.jsx)(dt.a,{value:null===e||void 0===e?void 0:e.tongTien,thousandSeparator:!0,displayType:"text",suffix:" VND"})]})]}),Object(le.jsx)("div",{className:"totalPay",children:Object(le.jsxs)("p",{id:"totalPay",onClick:function(){return h(e)},children:[" ","Thanh to\xe1n"]})})]}),"water_fee"===(null===e||void 0===e?void 0:e.loai_phieuThu)&&Object(le.jsxs)("div",{className:"backgroundBill_form",children:[Object(le.jsxs)("div",{className:"backgroundBill_form-top",children:["Chi ti\u1ebft phi\u1ebfu thu ti\u1ec1n n\u01b0\u1edbc",n-(null===e||void 0===e?void 0:e.hanThanhToan)>0&&Object(le.jsx)("div",{className:"titleExpired",children:"\u0110\xe3 qu\xe1 h\u1ea1n"})]}),Object(le.jsxs)("div",{className:"backgroundBill_form-bottom",children:[Object(le.jsxs)("div",{className:"formBill_bottom-top",children:[Object(le.jsx)("div",{className:"bottomBill_top-left",children:" C\u0103n h\u1ed9"}),Object(le.jsxs)("div",{className:"bottomBill_top-right",children:[" ",null===e||void 0===e?void 0:e.maCanHo]})]}),Object(le.jsxs)("div",{className:"formBill_bottom-top",children:[Object(le.jsx)("div",{className:"bottomBill_top-left",children:" Ng\xe0y l\u1eadp phi\u1ebfu"}),Object(le.jsxs)("div",{className:"bottomBill_top-right",children:[" ",Ae()(null===e||void 0===e?void 0:e.ngayLapPhieu).format("DD [Th\xe1ng] MM [l\xfac] HH:mm")]})]}),Object(le.jsx)("div",{className:"formBill_bottom-bottom",children:Object(le.jsxs)("table",{style:{width:"100%",height:"100%",backgroundColor:"white",borderRadius:10,border:"1px solid #dbdbdb"},children:[Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Ch\u1ec9 s\u1ed1 m\u1edbi"}),Object(le.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Ch\u1ec9 s\u1ed1 c\u0169"}),Object(le.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Ti\xeau th\u1ee5"})]}),Object(le.jsxs)("tbody",{children:[Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===i||void 0===i?void 0:i.chiSoMoi}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===i||void 0===i?void 0:i.chiSoCu}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===i||void 0===i?void 0:i.tieuThu})]}),Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"\u0110\u1ecbnh m\u1ee9c 1"}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===i||void 0===i?void 0:i.dinhMuc1}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(le.jsx)(dt.a,{value:null===i||void 0===i?void 0:i.tienDinhMuc1,thousandSeparator:!0,displayType:"text",suffix:" VND"})})]}),Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"\u0110\u1ecbnh m\u1ee9c 2"}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===i||void 0===i?void 0:i.dinhMuc2}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(le.jsx)(dt.a,{value:null===i||void 0===i?void 0:i.tienDinhMuc2,thousandSeparator:!0,displayType:"text",suffix:" VND"})})]}),Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"\u0110\u1ecbnh m\u1ee9c 3"}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===i||void 0===i?void 0:i.dinhMuc3}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(le.jsx)(dt.a,{value:null===i||void 0===i?void 0:i.tienDinhMuc3,thousandSeparator:!0,displayType:"text",suffix:" VND"})})]})]})]})}),Object(le.jsxs)("div",{className:"totalPrice",children:["T\u1ed5ng ti\u1ec1n:"," ",Object(le.jsx)(dt.a,{value:null===e||void 0===e?void 0:e.tongTien,thousandSeparator:!0,displayType:"text",suffix:" VND"})]})]}),Object(le.jsx)("div",{className:"totalPay",children:Object(le.jsxs)("p",{id:"totalPay",onClick:function(){return h(e)},children:[" ","Thanh to\xe1n"]})})]})," ","parking_fee"===(null===e||void 0===e?void 0:e.loai_phieuThu)&&Object(le.jsxs)("div",{className:"backgroundBill_form",children:[Object(le.jsxs)("div",{className:"backgroundBill_form-top",children:["Chi ti\u1ebft phi\u1ebfu thu ti\u1ec1n gi\u1eef xe",n-(null===e||void 0===e?void 0:e.hanThanhToan)>0&&Object(le.jsx)("div",{className:"titleExpired",children:"\u0110\xe3 qu\xe1 h\u1ea1n"})]}),Object(le.jsxs)("div",{className:"backgroundBill_form-bottom",children:[Object(le.jsxs)("div",{className:"formBill_bottom-top",children:[Object(le.jsx)("div",{className:"bottomBill_top-left",children:" C\u0103n h\u1ed9"}),Object(le.jsxs)("div",{className:"bottomBill_top-right",children:[" ",null===e||void 0===e?void 0:e.maCanHo]})]}),Object(le.jsxs)("div",{className:"formBill_bottom-top",children:[Object(le.jsx)("div",{className:"bottomBill_top-left",children:" Ng\xe0y l\u1eadp phi\u1ebfu"}),Object(le.jsxs)("div",{className:"bottomBill_top-right",children:[" ",Ae()(null===e||void 0===e?void 0:e.ngayLapPhieu).format("DD [Th\xe1ng] MM [l\xfac] HH:mm")]})]}),Object(le.jsx)("div",{className:"formBill_bottom-bottom",children:Object(le.jsxs)("table",{style:{width:"100%",height:"100%",backgroundColor:"white",borderRadius:10,border:"1px solid #dbdbdb"},children:[Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Lo\u1ea1i xe"}),Object(le.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"S\u1ed1 l\u01b0\u1ee3ng"}),Object(le.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"\u0110\u01a1n gi\xe1"}),Object(le.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Th\xe0nh ti\u1ec1n"})]}),Object(le.jsxs)("tbody",{children:[Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"Xe \xf4 t\xf4"}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===i||void 0===i?void 0:i.oto}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(le.jsx)(dt.a,{value:null===i||void 0===i?void 0:i.tienOto,thousandSeparator:!0,displayType:"text",suffix:" VND"})}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(le.jsx)(dt.a,{value:(null===i||void 0===i?void 0:i.tienOto)*(null===i||void 0===i?void 0:i.oto),thousandSeparator:!0,displayType:"text",suffix:" VND"})})]}),Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"Xe m\xe1y"}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===i||void 0===i?void 0:i.xeMay}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(le.jsx)(dt.a,{value:null===i||void 0===i?void 0:i.tienXeMay,thousandSeparator:!0,displayType:"text",suffix:" VND"})}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(le.jsx)(dt.a,{value:(null===i||void 0===i?void 0:i.tienXeMay)*(null===i||void 0===i?void 0:i.xeMay),thousandSeparator:!0,displayType:"text",suffix:" VND"})})]}),Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"Xe \u0111\u1ea1p"}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===i||void 0===i?void 0:i.xeDap}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(le.jsx)(dt.a,{value:null===i||void 0===i?void 0:i.tienXeDap,thousandSeparator:!0,displayType:"text",suffix:" VND"})}),Object(le.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(le.jsx)(dt.a,{value:(null===i||void 0===i?void 0:i.tienOto)*(null===i||void 0===i?void 0:i.xeDap),thousandSeparator:!0,displayType:"text",suffix:" VND"})})]})]})]})}),Object(le.jsxs)("div",{className:"totalPrice",children:["T\u1ed5ng ti\u1ec1n:"," ",Object(le.jsx)(dt.a,{value:null===e||void 0===e?void 0:e.tongTien,thousandSeparator:!0,displayType:"text",suffix:" VND"})]}),Object(le.jsx)("div",{className:"totalPay",children:Object(le.jsxs)("p",{id:"totalPay",onClick:function(){return h(e)},children:[" ","Thanh to\xe1n"]})})]})]})]},t)}))})})}));n(566);var Ot=Object(b.b)((function(e){return{dataPostApt:e.Apartment.post}}),(function(e){return{getPostApartmentRequest:function(){e(function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("GET","/apt/getPost",null);case 3:200===(null===(n=e.sent)||void 0===n?void 0:n.status)&&t(ht(null===n||void 0===n?void 0:n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.dataPostApt,n=Object(i.useState)(!0),a=Object(d.a)(n,2),o=a[0],c=a[1],s=Object(i.useState)([]),r=Object(d.a)(s,2),l=r[0],u=r[1],b=Object(i.useState)(!1),j=Object(d.a)(b,2),m=j[0];return j[1],Object(i.useEffect)((function(){o&&e.getPostApartmentRequest(),c(!1),u(t)}),[e,o,t]),Object(le.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgb(240, 242, 245)"},children:Object(le.jsxs)("div",{className:"backgroundItem",children:[m&&Object(le.jsx)(He,{actionTypes:"post"}),!m&&(null===l||void 0===l?void 0:l.map((function(e,t){var n,i;return Object(le.jsxs)("div",{className:"backgroundItem_form",style:{paddingBottom:10},children:[Object(le.jsxs)("div",{className:"backgroundItem_form-top",children:[Object(le.jsx)("div",{className:"formItem_top-left",children:Object(le.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAP2ElEQVR4Xu3ce3SUZX4H8O/3mZlwC4h4v1SwVWRRMgPGilgPUpFEJqyiBm8Hq1axq7Jckuxuu60p9rJWMuDqejxGt2ptvQS2Is4gEe/24A0hCcIqW5XF67brDUICmZn31z/mwmRkkhAStO73c07Oybzvc5n35f3O87zPvAEQERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERER+e5gdwX6wirvl4f5YdcANgbgp0bfY2W8uqm7eiLftH4PyNNe/UQYV9LxsOxGsySAhee66+7osrLIN6xfA/K0d/9EItEIctje9nvm/ajMzVm8t30i3wb9FpDuwpGhkMi3meuuQG+sid97NpF4JjccZrYV5p1kZityyzq62xq9+pq9NvQHptYm++dtKBtVW1vbL/8usu/6fARZE7/3bPgQBTkks83z7DdG3znl7poP1tk9gc/NNZC8ILdef44kC5vD85xxOOg11QVXPdFd+b5U3VRRDWBI0tkbS0tiqwqVq62tda0z31xPImhmayKh2LRCZf8QVDdXXA7DiTD7uG587N7uyvcXf3cF9sVTds9UGFbkh4Pk2WXumo8BoJTXx9fZPbPyQ5IeSdDTkCxsrnjEGY7sqoxHfLokGL2MwHwQo8z4AID9DkhVU/hxgsO7KpPpG0QNgMMdcBeAggFpnbl2EDlgLACQCBYqdyD8qHnGRM/zrjWHiQQPg6EdtBbPw2NDV5Q+smjRIq+7NvrA5SDCAN4A8P8/IE979WUwrgA5MLPNzDaTPHeau/bj3LJ9ERLCJoIc1U2ZrV3t7y2SkwAc3mWZfew7Elqzc2HTjAsdrAyOD3dXvl8YuLCpYnHSbCEdmZ1eEAA40jnM2Dlz3dVzryi/8M7Rq7d32dZ3RJ8E5GmvvgzgCuaEA2ZvGeLnlLkb/mdvdfY3JI64EbAhAGDG8QD+Or3rZ6RtQOrfdWd+vQar9L3avLvEmXdYErZp6fjYR7n7qzeW/4kRA3xJbL8tuPrDzPaaX3//aC/ZMdx1+OJJ2HU+YgD2se9am+xv3VgctIQ3wug25/ftfPFfG/GeL4mvXXwL3644lLtY4pwlE60dG5dOevrz3P0168MnekXJQNwLfHbwuO2fbW8qnkDi4LiXXH/nhNX/CwBz1s0JFA/48DRLYACTbuOS0ujvc9uobpr+N3CoAgAYfmvEz81sM4GDSVYCuNADdxW1JZOZOrU22d/aXDyGsGOTxs89+Lf8fPwTX+a2W9U043j444Ocr+jLxd9b+XFVU/gU+H1e5JSVmzNl5m0oGxWgb0zS+PkZocFvvt7SjkJ+0BI+eLD5xhm8QDyZaMkcX0amv2S7fXF7aeOnCzaES3wBHmFJ/iYSevL9gg3vxX7fg6zx6s8H3GNIXzAAYIaNho6pueGotcn+tqYhZ+1OunfvKI1uy2zvi3uSmpbwdDPGAIC08OK8uX5Vc/h9gqPM7FWSIwCMRup9GmAPem2Dblg6aXl7uuxbBE82w7JIKDor20ZT+H6SVxlsayQYO76nfVc3V/wOwOEGexHg0QROzPZN3F9csuP6RXwxUajvuVvKhxW1+5cSmA0gAAAGiwO8b0cc1fWl0bbcYwTQCMMYECNTZZEg7RZL2no6/ivAwzNt0PhPdaHoIgD4yeYLDknE4x8AHGRm77Q5nHF3SeyL3GNZ2BQua00c81x9aX0cAKo2TK+hczUAst9xmVkHwLt3JI6uyZSrbgq/DvI0M6wiMBzEJKPdFSmJ3VT92vQjMdA9AKAsp413QO4mUAKzN+pCsT8FgAVrLx7kG9J+qxnnkBiYPT7gMV98143/UvrMV7n9gfaUeTyKRCin7Sc6Biev7OkIuF+rJWu8+vPN3LLO4bD13nY7Ozccc7eUD9vZUvy8OfdcwI93qptnnJ/ZV8rr4yPozToQq1skJwIYbYZPzayDBEle5Ya039xd3f1FcDKBEzv1DVyzs3no/EJ1KhsqfUU7ff9J4BoYPM+w3GC/SrWHHwzzo34v1crS4fgIsCQBP4y30PGJdDg+Sl1UDID4++qNFdMAIB6PVwAclGqbP80PBwAsCcUaMxc9AIA8yAyHArYZQKPBtpIsIjFvWOCjv82vT2I6iEmZ13PWzQnYAMYy4TCzbWbWAnA0gZL8+m7I7vsB/hCEH2YrYHgEhgSAKxKBgY/ll4fxPBIhM/sdYO1IXQPnF7X5b/la2QJ6HZA18fsuMnPL6FKfasiGA+eWD78uO/zP3VI+rKjNtxrgnyF1kgYavGX5IQnwhEoYHsntox9CEjfjOZFQ9KgBRUWjDPgEAGic2l3F/WWwuGc4KxKKHuWSvuMzfRvsokJ1Ro1pK6PjOQBg9KYtCUUrI8HYxUmPFQAA4oqqpvApuXUMFvecd2ZdMHpsApiSGiUz+9zkumD0WM+zMwFLTZOS3uVIjWgnZMo5Jl5DnvlvlB1V0xKurGkJV87dUj4AADp2JW/zPBtfF4ydXBeMlheXtJ5oZuvSrWRH3zw/292eOChSErupOPDReSQnAIDneZHix0uPj4RiQUvaBbnvGwCq1lecRtglAICkXVYXis2sC0Uv98wmm5lHoKx6w4wz8zsz8pJIKHbkTuIYg21CaqS/ML9cIb0KSKN336Xmw6N54Xilg/GpueH48bqpBxW1+VaTPCO3PsGAwVtWvbEie3FM4ZTEFxw2uz9DYmbPR0JPPgcA/zz28U9IiwEAiGO6q7v/uGZJKPpfALD41JUfE7YaqU+0kYVqeIYp6V/jMHdTVVNFQ1VTRYOPuBZA6pPcuewnMgDA7MUl41atBYDbg7GXCWxDairySiS48iUAWDo+9roZNgEA6A5FakRqyzSRMA5GnsAA/3gzNpixAa0YBgAjnjq9lT6MrGoOR6qbKh5obR76MID06p4dnd+GGbbWlUR/eufE1PSGQPq6sOTQpLs5szq25NTYSsDWdqpLm4LM1NSHSzPnwpHVJFM3LM7LC4htjpQ82QAA6RFxeaoNHlv7VmURemCfA9Lo3XcpgYfIPTf4ZvZKAgPLK3hDdlhesHbaiIR/wHP54cggGDAPj1Y1hS/NbJvFWcl+Dkmn1TQDdqd/9e3ZyMwSZqcTaGAx9s9vc18Ysxfknr7zmFl60cMcaGNzfwy2xWCbkPAyx5AqCXS68Tdaa/qXT3K3c8+xpwtay559ruColqt15puPOvAJGBcYMQm0sWQmIHs5LtoWsNPIUITURR/f/N6gzu+HbM196Zie/qWmpt/LOxdb06NDR6c2rPM5h8edmTawq71HC1T7FJBGu++qvYTj5QQGlk93s7M3PQvWThvhBgfWZIZPpJNvhnmWc/ET8IN86ACHpGtMXWCETchMJea9f/5wApO7q9ol2j5/d+CIN5H6xHNePHltJBg7JfMTIM6KBGOnRCbEHsytQ7DT1KSnikM7G83wIVIX0N9l7k0Kmf96+I9JVCJ1aFdGgtHRkWDsFDP+e6E6BOPI5eEdpEbRgSNHt2cXaX64ruI4wDqPjGT26W+a+3HuuWhLn4u6YOz2vDr7fM7z9ShFSC3lXkbDL8E9oTLDC4YvK6a7muySZlXTzMOBjqc6h8M8z/BXS8fH7m2wyrtea24HicuQDomlQoJIKPYo0iFpsIbZB9t2IF0O6ZCs9u5tL3fX/QL9xDl72TyWg/yjojbfG9VNFeuxPfHnYM7TyAdI8uDBj/m+aL+Z5PEu4Hu6akP4AaNtIzg+bpixsLli5pJg9Nnu2umJRXwxUdU8/QoDnyE4CB4aq5sr1nqGt0g7yDyem7vmOXAgkEhH0YhT57eE1/rNxhlsdk8XR9t8WDbE8A/pVb6Hq5vDDxnwFcyuIDg0t+z2+FGrhhV9tBHGcR5sWVVz+EEz+29HjoWHyoUbKmYvGR/ttNDTF3o8ghDuts7hsOcNX1SU5YWDjD+bHw4Yr12aflxgFpclTw8Omt3bkcQH3NpgDQWnJfvrq928HZb65CY5DsRfmOEIM1vfXd2+tvS45e0eOd1gLQSH0nGuo1tM8nICgwE7vbs29kUkuOqlJHCOt2dqMskRcwheAmJEagkXv9jtHfflrSWx92D4DwAg3Xy/8V3ArYBxr9977c3dJbEv6LeLzewzkkUA/5LgQpCHmOG93LL1pfXxjg5WpJbqMZDg9Y5uMcCrDRziaBML99R7PR5BDPiEwLFIrTisLnKBmVNYsyuzPxMOADmrKpaE8brI+Oj9uW3N4rJkg1XO3ttIUt0ULqoLxf4NhUeSzysxq9PQ6cVtE/y8EQAsnlqp6MR4sxFDAfd25+3WYOBmeMh+K1VfGm2rtckTW5uGXUhnIRh2+8wtT5oNNh9Og3FHbhPd9W0efgKHQTB7q/OOr/cNwz8aMcJg72Y2LSmJvt1glRNebW6bSsfTkbRDjbYNCRddUhrdczwFj/HrbSL1vm6DD4fD8zrN028Pxl6utckn7GwZFjZ4E2E4EoYdRjTFveSTuV/KDXn81CvbLlzX4BnPpDNLAi/54XvXg3cOYdnpVKG+AGDxybGXF6ydNto3KHARHE+CYUfSuNxHHGGwMfCQDdwdpdFttbW1Z7Zd8MZkc5gEc0d6Zh+QWFUXimXPb6H+LO6ewQDvRgDAjh2d71cK6NlYCGCN3XOcZ26h8/Bp3LUtne7mZW+qat78/tGeL/ksyTGZbQYkYDY7M23amwar9L3W3P4Qc6ZRmREnN1QN1uAbbttvAnBSEt5d57k5Xw+BSD/ocUAKSYXDe4FMfUOMHoYjo6chEfkm7FdAFmwIH+PI5zuHw+J0vKxuXPRXXdfeQyGRb6teB6Rq0/SRSLgXCGSfqDVYnHCVdcEn9/mRcoVEvo16vIqVq9Ym+xFnY1+FA4VWt0gH2n3VG8Izu64t0j96FZC2DcXHkzwp89oMu8wwo7fhyCgUEnOY03VNkf7Rq4B4RclAzksQuHVJKNZYuEbPZUMCyz4aQcv5OxORA6hXAclntudBt74wi8uSyH9WSOQb0CcBEfmuUkBEutDjR026QtrN1c0V1d2V2zd2SHclRPpbnwQEZDGA/f17iTy9/opGpM/0boqVGPT77J9sHgC2j/+Fjkhf6fXHdPWG8HVGzmJfjUIFmLNNAX+g9taxKz7rrqyIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiBT2f8BIN1zJ8NsvAAAAAElFTkSuQmCC",id:"formItem_top-left",alt:""})}),Object(le.jsx)("div",{className:"formItem_top-body",children:null===e||void 0===e?void 0:e.username}),Object(le.jsx)("div",{className:"formItem_top-right",children:Object(le.jsx)("i",{className:"fas fa-ellipsis-h",id:"formItem_top-right"})})]}),Object(le.jsx)("div",{className:"backgroundItem_form-body",children:Object(le.jsx)(Fe.Slide,{autoplay:!1,style:{width:"100%",height:"100%"},transitionDuration:300,arrows:1!==(null===e||void 0===e||null===(n=e.hinhAnh)||void 0===n?void 0:n.length),children:!B.a.isEmpty(null===e||void 0===e?void 0:e.hinhAnh)&&(null===e||void 0===e||null===(i=e.hinhAnh)||void 0===i?void 0:i.map((function(e,t){return Object(le.jsx)("img",{src:e,id:"backgroundItem_form-body",alt:""},t)})))})}),Object(le.jsx)("div",{className:"backgroundItem_form-bottom",children:Object(le.jsxs)("div",{className:"formItem_bottom-top",children:[Object(le.jsx)("div",{className:"bottomItem_top-top",style:{minHeight:"30px"},children:Ae()(null===e||void 0===e?void 0:e.ngayDang).format("DD [Th\xe1ng] MM [l\xfac] HH:mm")}),Object(le.jsx)("div",{className:"bottomItem_top-body",children:Object(le.jsxs)("p",{id:"bottomItem_top-body",children:[Object(le.jsx)("b",{children:null===e||void 0===e?void 0:e.username}),we()(null===e||void 0===e?void 0:e.noiDung)]})})]})})]},t)})))]})})}));n(567);var xt=Object(b.b)((function(e){return{dataHistory:e.Apartment.history,dataUser:e.PersonalOfMe}}),(function(e){return{paymentHistoryRequest:function(t){e(function(e){return function(){var t=Object(l.a)(r.a.mark((function t(n){var i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(bt(e)),t.next=4,D("GET","/apt/getHistoryPay?id=".concat(e),null);case 4:200===(null===(i=t.sent)||void 0===i?void 0:i.status)&&n(ft(null===i||void 0===i?void 0:i.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t,n=e.dataHistory,a=e.dataUser,o=(new u.a).get("user"),c=Object(i.useState)(!0),s=Object(d.a)(c,2),r=s[0],l=s[1],b=Object(i.useState)([]),j=Object(d.a)(b,2),m=j[0],h=j[1];return Object(i.useEffect)((function(){r&&e.paymentHistoryRequest(null===a||void 0===a?void 0:a.id),l(!1),h(n)}),[e,o,r,n]),Object(le.jsx)("div",{children:Object(le.jsxs)("div",{className:"backgroundPaymentHistory",children:[Object(le.jsx)("div",{className:"backgroundPaymentHistory_title",children:"L\u1ecbch s\u1eed thanh to\xe1n"}),null===(t=B.a.orderBy(m,["ngayThanhToan"],["desc"]))||void 0===t?void 0:t.map((function(e,t){return Object(le.jsxs)("div",{className:"backgroundPaymentHistory_form",children:[Object(le.jsxs)("p",{children:[Object(le.jsx)("b",{children:"M\xe3 c\u0103n h\u1ed9"}),": ",null===e||void 0===e?void 0:e.maCanHo]}),Object(le.jsxs)("p",{children:[Object(le.jsx)("b",{children:"Lo\u1ea1i phi\u1ebfu thu:"})," ",null===e||void 0===e?void 0:e.loai_phieuThu]}),Object(le.jsxs)("p",{children:[Object(le.jsx)("b",{children:"T\u1ed5ng ti\u1ec1n thanh to\xe1n:"}),Object(le.jsx)(dt.a,{value:null===e||void 0===e?void 0:e.tongTien,thousandSeparator:!0,displayType:"text",suffix:" VND"})]}),Object(le.jsxs)("p",{children:[Object(le.jsx)("b",{children:"Ng\xe0y thanh to\xe1n: "}),Ae()(null===e||void 0===e?void 0:e.ngayThanhToan).format("DD [Th\xe1ng] MM [l\xfac] HH:mm")]}),Object(le.jsxs)("p",{children:[Object(le.jsx)("b",{children:"Tr\u1ea1ng th\xe1i"}),":"," ",(null===e||void 0===e?void 0:e.tinhTrang)?"\u0110\xe3 thanh to\xe1n":"Ch\u01b0a thanh to\xe1n"]})]},t)}))]})})}));var gt=Object(b.b)((function(e){return{dataBill:e.Apartment.bill,dataUser:e.PersonalOfMe}}),null)((function(e){var t=e.dataBill,n=(e.dataUser,Object(i.useState)(1)),a=Object(d.a)(n,2),o=a[0],c=a[1],s=Object(i.useState)(!1),r=Object(d.a)(s,2),l=r[0],u=r[1],b=Object(i.useState)([]),j=Object(d.a)(b,2),m=j[0],h=j[1];Object(i.useEffect)((function(){var e=[],n=Date.now();t.forEach((function(t){n-(null===t||void 0===t?void 0:t.hanThanhToan)>0&&(u(!0),"service_fee"===(null===t||void 0===t?void 0:t.loai_phieuThu)?e.push("phi\u1ebfu thu ti\u1ec1n c\u0103n h\u1ed9"):"water_fee"===(null===t||void 0===t?void 0:t.loai_phieuThu)?e.push("phi\u1ebfu thu ti\u1ec1n n\u01b0\u1edbc"):e.push("phi\u1ebfu thu ti\u1ec1n gi\u1eef xe"))})),h(e)}),[t]);var v=[{id:1,name:"H\xf3a \u0111\u01a1n thanh to\xe1n"},{id:2,name:"L\u1ecbch s\u1eed thanh to\xe1n"},{id:3,name:"Th\xf4ng b\xe1o"}];return Object(le.jsxs)("div",{children:[l&&Object(le.jsx)(xe.Popup,{fullScreen:!0,icon:"warning",onClose:function(){return u(!1)},open:!0,pressESCToClose:!0,title:"Th\xf4ng b\xe1o: Hi\u1ec7n b\u1ea1n \u0111ang c\xf3 <b>".concat(B.a.size(m),"</b> phi\u1ebfu \u0111\xe3 qu\xe1 h\u1ea1n thanh to\xe1n")}),Object(le.jsx)("div",{className:"backgroundApartment",children:Object(le.jsxs)("div",{className:"backgroundApartment_form",children:[Object(le.jsxs)("div",{className:"backgroundApartment_form-left",children:[Object(le.jsx)("div",{className:"formApartment_left-top",children:"Th\xf4ng tin"}),Object(le.jsx)("div",{className:"formApartment_left-bottom",children:null===v||void 0===v?void 0:v.map((function(e,t){return Object(le.jsx)("div",{className:"leftApartment_bottom-item",onClick:function(){return t=null===e||void 0===e?void 0:e.id,void c(t);var t},children:Object(le.jsx)("div",{className:"bottomApartment_item-item",style:o===(null===e||void 0===e?void 0:e.id)?{backgroundColor:"rgb(231, 243, 255)",color:"rgb(24, 138, 245)"}:{backgroundColor:"rgba(228, 230, 235, 0.35)",color:"rgb(5, 5, 5)"},children:null===e||void 0===e?void 0:e.name})},t)}))})]}),Object(le.jsx)("div",{className:"backgroundApartment_form-right",children:Object(le.jsx)("div",{className:"formApartment_right-wrapper",children:function(){switch(o){case 1:return Object(le.jsx)(pt,{});case 2:return Object(le.jsx)(xt,{});case 3:return Object(le.jsx)(Ot,{});default:return Object(le.jsx)(pt,{})}}()})})]})})]})}));var yt=function(e){var t=e.history;return Object(le.jsx)("div",{children:Object(le.jsx)(gt,{history:t})})};n(568);var Nt=function(e){var t=window.location.href.slice(35),n=Object(i.useState)(!1),a=Object(d.a)(n,2),o=(a[0],a[1]),c=Object(i.useState)([]),s=Object(d.a)(c,2),u=s[0],b=s[1],j=Object(he.f)();return Object(i.useEffect)((function(){(function(){var e=Object(l.a)(r.a.mark((function e(){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("GET","/vnpay_return?".concat(t),null);case 3:"00"===(null===(i=e.sent)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.code)?(b(null===i||void 0===i?void 0:i.data),o(!0)):o(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[e,t,j]),Object(le.jsx)("div",{children:Object(le.jsx)("div",{className:"backgroundVnpayReturn",children:Object(le.jsxs)("div",{className:"backgroundVnpayReturn_form",children:[Object(le.jsxs)("div",{className:"backgroundVnpayReturn_form-top",children:[Object(le.jsx)("div",{className:"formVnpayReturn_top-top",children:Object(le.jsx)("i",{className:"fas fa-check-circle"})}),Object(le.jsx)("div",{className:"formVnpayReturn_top-bottom",children:"Thanh to\xe1n th\xe0nh c\xf4ng"})]}),Object(le.jsxs)("div",{className:"backgroundVnpayReturn_form-body",children:[Object(le.jsxs)("div",{className:"formVnpayReturn_body-item",children:[Object(le.jsx)("p",{children:"Lo\u1ea1i giao d\u1ecbch: "})," ",Object(le.jsx)("p",{children:u.paymentType})]}),Object(le.jsxs)("div",{className:"formVnpayReturn_body-item",children:[Object(le.jsx)("p",{children:"Ng\xe2n h\xe0ng: "})," ",Object(le.jsx)("p",{children:u.bank})]}),Object(le.jsxs)("div",{className:"formVnpayReturn_body-item",children:[Object(le.jsx)("p",{children:"S\u1ed1 ti\u1ec1n: "})," ",Object(le.jsx)("p",{children:Object(le.jsx)(dt.a,{value:u.amount,thousandSeparator:!0,displayType:"text",suffix:" VND"})})]}),Object(le.jsxs)("div",{className:"formVnpayReturn_body-item",children:[Object(le.jsx)("p",{children:"Ng\xe0y giao d\u1ecbch: "})," ",Object(le.jsx)("p",{children:Ae()(u.payDate).format("DD [Th\xe1ng] MM [l\xfac] HH:mm")})]}),Object(le.jsxs)("div",{className:"formVnpayReturn_body-item",children:[Object(le.jsx)("p",{children:"M\xe3 giao d\u1ecbch: "})," ",Object(le.jsx)("p",{children:u.transactionId})]})]}),Object(le.jsx)("div",{className:"backgroundVnpayReturn_form-bottom",children:Object(le.jsx)("button",{id:"backgroundVnpayReturn_form-bottom",onClick:function(){return j.push("/")},children:"Quay v\u1ec1 trang ch\u1ee7"})})]})})})},_t=[{path:"/",exact:!0,main:function(e){var t=e.history;return Object(le.jsx)(Je,{history:t})}},{path:"/login",exact:!0,main:function(e){var t=e.history;return Object(le.jsx)(me,{history:t})}},{path:"/chat",exact:!0,main:function(e){var t=e.history;return Object(le.jsx)(lt,{history:t})}},{path:"/personal/:username",exact:!0,main:function(e){var t=e.history;return Object(le.jsx)(Xe,{history:t})}},{path:"/apartment",exact:!0,main:function(e){var t=e.history;return Object(le.jsx)(yt,{history:t})}},{path:"/vnpay_return",exact:!0,main:function(e){var t=e.history;return Object(le.jsx)(Nt,{history:t})}},{path:"",exact:!1,main:function(){return Object(le.jsx)(fe,{})}}],kt=(n(569),n(570),n(296));var wt=function(e){var t,n=e.data,a=Object(he.f)(),o=Object(i.useState)(null),c=Object(d.a)(o,2),s=c[0],r=c[1],l=Object(i.useState)(!0),u=Object(d.a)(l,2),b=u[0],j=u[1],m=Object(i.useState)(!1),h=Object(d.a)(m,2),v=h[0],f=h[1],p=Object(i.useRef)(0),O=Object(i.useRef)(10),x=Object(i.useState)([]),g=Object(d.a)(x,2),y=g[0],N=g[1],_=Object(i.useState)(!0),k=Object(d.a)(_,2),w=k[0],C=k[1],S=Object(i.useState)(0),P=Object(d.a)(S,2),T=P[0],E=P[1];Object(i.useEffect)((function(){E(n.length),N(B.a.orderBy(n,["timestamp"],["desc"]).slice(p.current,O.current))}),[n]);var I=function(t){e.onCloseForm(!1),f(t)};return Object(le.jsxs)("div",{children:[v&&Object(le.jsx)(ze,{dataDetailsPost:s,onCloseForm:I,setOpenDetailsPost:f}),Object(le.jsx)("div",{className:"backgroundNotiWrapper",onClick:b?function(){return I()}:null,children:Object(le.jsx)("div",{className:"backgroundNoti",onMouseEnter:function(){return j(!1)},onMouseLeave:function(){return j(!0)},style:{overflow:"auto"},id:"scrollableDiv",children:Object(le.jsx)(kt.a,{dataLength:y.length,next:function(){return y.length===T&&C(!1),void setTimeout((function(){p.current=O.current,O.current+=10,N(y.concat(B.a.orderBy(n,["timestamp"],["desc"]).slice(p.current,O.current)))}),500)},hasMore:w,loader:Object(le.jsx)("h4",{children:"Loading..."}),scrollableTarget:"scrollableDiv",endMessage:Object(le.jsx)("p",{style:{textAlign:"center"},children:Object(le.jsx)("b",{children:"Yay! You have seen it all"})}),children:!B.a.isEmpty(y)&&(null===(t=B.a.orderBy(y,["timestamp"],["desc"]))||void 0===t?void 0:t.map((function(e,t){return Object(le.jsxs)("div",{className:"backgroundNoti_form",onClick:"follow"!==(null===e||void 0===e?void 0:e.type)?function(){return function(e){f(!0),r(e)}(e)}:function(){return function(e){a.push("/personal/".concat(null===e||void 0===e?void 0:e.username))}(e)},children:[Object(le.jsx)("div",{className:"backgroundNoti_form-left",children:Object(le.jsx)("img",{src:null===e||void 0===e?void 0:e.imageSrc,id:"backgroundNoti_form-left",alt:""})}),Object(le.jsxs)("div",{className:"backgroundNoti_form-body",style:"follow"===(null===e||void 0===e?void 0:e.type)?{width:"60%"}:{width:"83%"},children:[Object(le.jsxs)("div",{className:"formNoti_body-top",style:(null===e||void 0===e?void 0:e.hasSeen)?null:{fontWeight:"bold"},children:[null===e||void 0===e?void 0:e.username," ",null===e||void 0===e?void 0:e.message]}),Object(le.jsx)("div",{className:"formBody_body-bottom",style:(null===e||void 0===e?void 0:e.hasSeen)?null:{fontWeight:"bold",color:"hsl(214deg 89% 57%)"},children:De(null===e||void 0===e?void 0:e.timestamp)})]}),"follow"===(null===e||void 0===e?void 0:e.type)&&Object(le.jsx)("div",{className:"backgroundNoti_form-right",children:Object(le.jsx)("div",{className:"form_right-follow",children:"theo d\xf5i"})})]},t)})))})})})]})},Ct=n(297);var St=Object(b.b)((function(e){return{dataUser:e.Post,dataAllUser:e.User.dataAllUser,dataPersonal:e.Personal,dataOfMe:e.PersonalOfMe}}),(function(e){return{logOutRequest:function(t){e(q(t))},getAllUserRequest:function(){e(function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("GET","/user/getAll",null);case 3:(null===(n=e.sent)||void 0===n?void 0:n.status)>=200&&(null===n||void 0===n?void 0:n.status)<300&&t(re(null===n||void 0===n?void 0:n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},getPersonalByMeRequest:function(t,n){e(z(t,n))},getPostRequest:function(t,n,i,a){e(J(t,n,i,a))}}}))((function(e){var t=e.data,n=e.idNotification,a=e.dataUser,o=e.dataAllUser,c=e.dataPersonal,s=e.dataOfMe,b=new u.a,j=Object(he.f)(),m=b.get("imageSrc"),h=Object(i.useState)(!1),v=Object(d.a)(h,2),f=v[0],p=v[1],O=Object(i.useState)(!1),x=Object(d.a)(O,2),g=x[0],y=x[1],N=Object(i.useState)(!1),_=Object(d.a)(N,2),k=_[0],w=_[1],C=Object(i.useState)(!1),S=Object(d.a)(C,2),P=S[0],T=S[1],E=Object(i.useState)([]),I=Object(d.a)(E,2),R=I[0],A=I[1],D=Object(i.useState)(!0),U=Object(d.a)(D,2),F=U[0],M=U[1],q=Object(i.useState)(!1),L=Object(d.a)(q,2),H=L[0],G=L[1],z=Object(i.useState)({text:null}),V=Object(d.a)(z,2),Y=V[0],X=V[1];return Object(i.useEffect)((function(){if(b.get("user")){var n=[];T(!0),null===t||void 0===t||t.forEach((function(e){!(null===e||void 0===e?void 0:e.hasSeen)&&n.push(e)})),A(n),F&&e.getAllUserRequest(),M(!1)}else T(!1),j.push("/login")}),[t,a,m,F,s,o]),Object(le.jsxs)("div",{children:[k&&Object(le.jsx)(xe.LinearProgress,{color:"#d82b7d",duration:1,height:3,percent:75,showValue:!0,valuePosition:"top",style:{position:"fixed",top:0,left:0,zIndex:1e4}}),Object(le.jsx)("div",{style:{width:150,position:"fixed",bottom:70,left:50,zIndex:9999},children:H&&Object(le.jsx)(Ne.a,{message:null===Y||void 0===Y?void 0:Y.text})}),Object(le.jsxs)("div",{className:"header",style:P?{display:"block"}:{display:"none"},children:[f&&Object(le.jsx)(wt,{data:t,onCloseForm:function(e){p(e)}}),Object(le.jsxs)("div",{className:"container",children:[Object(le.jsx)("div",{className:"logo",onClick:function(){return w(!0),window.scrollTo(0,0),void e.getPostRequest(w,null===s||void 0===s?void 0:s.id,X,G)},children:Object(le.jsx)(pe.b,{to:"/",children:Object(le.jsx)("img",{src:be,id:"logo",alt:""})})}),Object(le.jsx)("div",{className:"search-nav",children:Object(le.jsx)("div",{className:"search_nav-wrapper",children:Object(le.jsx)(Ct.ReactSearchAutocomplete,{items:o,onSelect:function(e){window.location.replace("/personal/".concat(null===e||void 0===e?void 0:e.username))},fuseOptions:{keys:["username"]},resultStringKeyName:"username",placeholder:"T\xecm ki\u1ebfm...",styling:{height:"34px",marginTop:"10px",zIndex:10}})})}),Object(le.jsxs)("div",{className:"function-nav",children:[Object(le.jsx)(pe.b,{to:"/apartment",children:Object(le.jsx)("i",{className:"fas fa-hotel"})}),Object(le.jsx)(pe.b,{to:"/",children:Object(le.jsx)("i",{className:"fas fa-home"})}),Object(le.jsx)(pe.b,{to:"/chat",children:Object(le.jsx)("i",{className:"far fa-paper-plane"})}),Object(le.jsxs)("a",{href:"#",children:[Object(le.jsx)("i",{className:"far fa-compass",style:{position:"relative"},onClick:function(){return function(){p(!f);try{var e=Be.ref("social_network").child("notifications"),t=function(){var t=Object(l.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==i){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.child("".concat(n,"/notification/").concat(i,"/hasSeen")).set(!0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();!function(){var i=Object(l.a)(r.a.mark((function i(){return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.child("".concat(n,"/notification")).once("value",function(){var e=Object(l.a)(r.a.mark((function e(n){var i,a,o,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n.val()){e.next=2;break}return e.abrupt("return");case 2:i=0,a=Object.entries(n.val());case 3:if(!(i<a.length)){e.next=11;break}if(o=Object(d.a)(a[i],2),c=o[0],(null===(s=o[1])||void 0===s?void 0:s.hasSeen)||f){e.next=8;break}return e.next=8,t(c);case 8:i++,e.next=3;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}()()}catch(i){console.log(i)}}()}}),!B.a.isEmpty(R)&&Object(le.jsx)("div",{className:"countNotification",children:B.a.size(R)})]}),Object(le.jsxs)("div",{className:"dropdown-avt",onClick:function(){y(!g)},children:[Object(le.jsx)("img",{src:null===s||void 0===s?void 0:s.imageSrc,alt:"",id:"avt"}),Object(le.jsx)("div",{className:"backgrounDropdown",style:g?{display:"block"}:{display:"none"},children:Object(le.jsxs)("div",{className:"dropdown-content-avt",children:[Object(le.jsxs)(pe.b,{to:{pathname:"/personal/".concat(null===s||void 0===s?void 0:s.username),state:c},id:"content-dropdown",onClick:function(){return w(!0),void e.getPersonalByMeRequest(w,null===s||void 0===s?void 0:s.username)},children:[Object(le.jsx)("i",{className:"far fa-user-circle",id:"icon-avt"}),"Trang c\xe1 nh\xe2n"]}),Object(le.jsxs)("a",{href:"#",id:"content-dropdown",children:[Object(le.jsx)("i",{className:"far fa-calendar",id:"icon-avt"}),"\u0110\xe3 l\u01b0u"]}),Object(le.jsxs)("a",{href:"#",id:"content-dropdown",children:[Object(le.jsx)("i",{className:"fas fa-wrench",id:"icon-avt"}),"C\xe0i \u0111\u1eb7t"]}),Object(le.jsxs)("a",{id:"content-dropdown",onClick:function(){return b.remove("user"),b.remove("username"),b.remove("imageSrc"),T(!1),j.push("/login"),void e.logOutRequest(null===s||void 0===s?void 0:s.id)},children:[Object(le.jsx)("i",{className:"fas fa-sign-out-alt",id:"icon-avt"}),"\u0110\u0103ng xu\u1ea5t"]})]})})]})]})]})]})]})}));n(578);var Pt=function(e){var t=e.data,n=e.idNotification,a=Object(i.useState)(null),o=Object(d.a)(a,2),c=o[0],s=o[1],u=Object(i.useState)(!1),b=Object(d.a)(u,2),j=b[0],m=b[1];Object(i.useEffect)((function(){var e=Be.ref("/social_network").child("notifications"),t=function(){var t=Object(l.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==i){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.child("".concat(n,"/notification/").concat(i,"/isShow")).set(!0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(function(){var i=Object(l.a)(r.a.mark((function i(){return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.child("".concat(n,"/notification")).on("value",function(){var e=Object(l.a)(r.a.mark((function e(n){var i,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.val())for(i=function(){var e=Object(d.a)(o[a],1)[0];setTimeout(Object(l.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(e);case 2:n.sent;case 3:case"end":return n.stop()}}),n)}))),5e3)},a=0,o=Object.entries(n.val());a<o.length;a++)i();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}})()()}),[n]);var h=function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t),m(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(le.jsxs)("div",{children:[j&&Object(le.jsx)(ze,{dataDetailsPost:c,onCloseForm:function(e){m(e)},setOpenDetailsPost:m}),Object(le.jsx)("div",{className:"backgroundNotiToast",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(le.jsx)("div",{children:!(null===e||void 0===e?void 0:e.isShow)&&Object(le.jsx)("div",{className:"animationToast",style:{animation:"show_toast ease 1s, hide_toast ease 1s 3s forwards"},children:Object(le.jsxs)("div",{className:"backgroundNotiToast_form",onClick:function(){return h(e)},children:[Object(le.jsxs)("div",{className:"backgroundNotiToast_top",children:[Object(le.jsx)("i",{className:"fas fa-times",id:"backgroundNotiToast_top"}),Object(le.jsx)("b",{children:"Th\xf4ng b\xe1o m\u1edbi"})]}),Object(le.jsxs)("div",{className:"backgroundNotiToast_bottom",children:[Object(le.jsx)("div",{className:"backgroundNotiToast_left",children:Object(le.jsx)("img",{src:null===e||void 0===e?void 0:e.imageSrc,id:"backgroundNotiToast_left",alt:""})}),Object(le.jsx)("div",{className:"backgroundNotiToast_right",children:Object(le.jsxs)("div",{className:"backgroundNotiToast_right-bottom",children:[null===e||void 0===e?void 0:e.username," ",null===e||void 0===e?void 0:e.message]})})]})]})})},t)}))})]})};var Tt=Object(b.b)(null,(function(e){return{logOutRequest:function(t){e(q(t))}}}))((function(e){var t=(new u.a).get("user"),n=Object(i.useState)(""),a=Object(d.a)(n,2),o=a[0],s=a[1],b=Object(i.useState)([]),j=Object(d.a)(b,2),m=j[0],h=j[1];return Object(i.useEffect)((function(){try{var e=Be.ref("/social_network"),n=e.child("notifications"),i=e.child("users"),a=function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",n);case 2:return e.next=4,i.child(t).once("value",(function(e){if(null!==(null===e||void 0===e?void 0:e.val())){var t=null===e||void 0===e?void 0:e.val(),i=t.imageSrc,a=t.username;n={imageSrc:i,username:a}}}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(function(){var e=Object(l.a)(r.a.mark((function e(){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],e.next=3,n.on("value",function(){var e=Object(l.a)(r.a.mark((function e(n){var o,l,u,b,j,m,v,f,p,O,x,g;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=[],l=[],u=0,b=Object.entries(n.val());u<b.length;u++)j=Object(d.a)(b[u],2),m=j[0],(null===(v=j[1])||void 0===v?void 0:v.key)===t&&(s(m),(null===v||void 0===v?void 0:v.notification)&&o.push(null===v||void 0===v?void 0:v.notification));if(!o[0]){e.next=18;break}f=0,p=Object.entries(o[0]);case 5:if(!(f<p.length)){e.next=17;break}return O=Object(d.a)(p[f],2),O[0],x=O[1],e.next=9,a(null===x||void 0===x?void 0:x.id_account);case 9:return g=e.sent,e.next=12,Object(c.a)(Object(c.a)({},x),g);case 12:i=e.sent,l.push(i);case 14:f++,e.next=5;break;case 17:h(l);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(o){console.log(o)}}),[]),Object(le.jsxs)(pe.a,{children:[Object(le.jsx)(St,{data:m,idNotification:o}),Object(le.jsx)(Pt,{data:m,idNotification:o}),Object(le.jsx)("div",{className:"clearfix"}),Object(le.jsx)("div",{style:{width:"100%",minHeight:"1000px",backgroundColor:"#f0f2f5"},children:Object(le.jsx)("div",{className:"container",children:function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return Object(le.jsx)(he.a,{path:e.path,exact:e.exact,component:e.main},t)}))),Object(le.jsx)(he.c,{children:t})}(_t)})})]})})),Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,608)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),o(e),c(e)}))},It=n(110),Rt={dataUser:{data:null},login:{messageIncorrect:""},register:{messageUsernameAlready:"",messageEmailAlready:"",messageEmailUsernameAlready:""},dataAllUser:[]},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0,n=new u.a,i=t.history;switch(t.type){case m:var a=t.data.data;return a.error&&(e.login.messageIncorrect="Sai th\xf4ng tin t\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u!"),a.id&&(n.set("imageSrc",null===a||void 0===a?void 0:a.imageSrc),n.set("user",null===a||void 0===a?void 0:a.id),n.set("username",null===a||void 0===a?void 0:a.username),e.dataUser.data=a),e;case h:var o=t.data.data;if(o.error){if(1===o.error.length&&"Username"===o.error[0])return e.register.messageUsernameAlready="T\xean ng\u01b0\u1eddi d\xf9ng \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng k\xfd!",e;if(1===o.error.length&&"Email"===o.error[0])return e.register.messageEmailAlready="Email \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng k\xfd!",e;if(2===o.error.length)return e.register.messageEmailUsernameAlready="Email v\xe0 t\xean ng\u01b0\u1eddi d\xf9ng \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng k\xfd!",e}return alert("Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 \u0111\u0103ng k\xfd th\xe0nh c\xf4ng! Quay l\u1ea1i \u0111\u0103ng nh\u1eadp ngay!"),i.push("/login"),e;case p:return n.remove("user"),n.remove("username"),n.remove("imageSrc"),t.setIsOpenHeader(!1),e={dataUser:{data:null},login:{messageIncorrect:""},register:{messageUsernameAlready:"",messageEmailAlready:"",messageEmailUsernameAlready:""},dataAllUser:[]};case k:var c=t.data;return e.dataAllUser=c,e;default:return e}},Dt=(new u.a,[]),Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var n=t.data.data;return e=n,t.setShowLoading(!1),e;default:return e}},Bt=[],Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var n=t.data.data;return e=n;default:return e}},Mt=[],qt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case x:var i=n.data;return t=i;case y:var a=n.data,o=n.typePost;if("postById"===o);else{var c,s=t.findIndex((function(e){var t;return(null===e||void 0===e?void 0:e.id_post)===(null===(t=a[0])||void 0===t?void 0:t.id_post)}));t[s].likes=null===(c=a[0])||void 0===c?void 0:c.likes}return Object(Oe.a)(t);case N:var r=n.data,l=t.findIndex((function(e){var t;return e.id_post===(null===(t=r[0])||void 0===t?void 0:t.id_post)}));return t[l].comments=null===(e=r[0])||void 0===e?void 0:e.comments,Object(Oe.a)(t);default:return t}},Lt=[],Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var n=t.data;return e=n;default:return e}},Gt=[],zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:var n=t.data;return e=n;default:return e}},Vt={bill:[],post:[],history:[]},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:var n=t.data;return e.bill=n,Object(c.a)({},e);case T:var i=t.data;return e.post=i,Object(c.a)({},e);case I:return e.history=t.data,Object(c.a)({},e);default:return Object(c.a)({},e)}},Xt=[],Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return e=t.data;default:return e}},Qt=(new u.a,[]),Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:var n=t.data;return e=n;case f:var i=t.data.data;return e=i;default:return e}},Jt=[],Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var n=t.data;return e=n;default:return e}},$t=[],en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:var n=t.data;return e=n;default:return e}},tn=Object(It.b)({User:At,Personal:Ut,Home:Ft,Post:qt,PostById:Ht,DetailsPost:zt,Apartment:Yt,CreatePayment:Wt,MyPersonal:Zt,PersonalOfMe:Kt,Loadmore:en}),nn=n(299),an=Object(It.d)(tn,Object(It.c)(Object(It.a)(nn.a)));o.a.render(Object(le.jsx)(b.a,{store:an,children:Object(le.jsx)(Tt,{})}),document.getElementById("root")),Et()}},[[579,1,2]]]);
//# sourceMappingURL=main.ddc10a10.chunk.js.map