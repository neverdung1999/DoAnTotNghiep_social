(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{173:function(e,t,n){},263:function(e,t,n){},265:function(e,t,n){},288:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},295:function(e,t,n){},320:function(e,t){},338:function(e,t,n){},339:function(e,t,n){},340:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){},347:function(e,t,n){},353:function(e,t,n){},354:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){},504:function(e,t,n){},505:function(e,t,n){},506:function(e,t,n){},507:function(e,t,n){},508:function(e,t,n){},509:function(e,t,n){},510:function(e,t,n){},511:function(e,t,n){},512:function(e,t,n){},520:function(e,t,n){},521:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(12),o=n.n(i),c=(n(263),n(6)),s=n(7),r=n.n(s),l=n(9),d=n(5),u=(n(265),n(17)),b=n(14),j="https://baby-dont-cry.herokuapp.com",m="LOGIN_USER",h="REGISTER_USER",v="PERSONAL_USER",f="PERSONAL_USER_BY_ID",p="LOGOUT_USER",O="SUGGESTED_ACCOUNTS",x="GET_POST",g="GET_POST_BY_ID",y="GET_DETAILS_POST",N="GET_DETAILS_POST_COMMENT",_="GET_DETAILS_POST_INDEX",k="ALL_USER",w="GET_MY_PERSONAL",C="GET_BILL",S="GET_POST_APARTMENT",T="CREATE_PAYMENT",E="PAYMENT_HISTORY",P=n(62),R=n.n(P);function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return R()({method:e,url:"".concat(j).concat(t),data:n})}var A=new u.a,D=A.get("user"),U=A.get("username"),B=function(e,t){return{type:m,data:e,history:t}},F=function(e,t){return function(){var n=Object(l.a)(r.a.mark((function n(a){var i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I("PUT","/user/signIn?id=".concat(e),null);case 3:(null===(i=n.sent)||void 0===i?void 0:i.status)>=200&&(null===i||void 0===i?void 0:i.status)<300&&a(q(t)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},q=function(e){return{type:p,setIsOpenHeader:e}},H=function(e,t){return{type:h,data:e,history:t}},L=function(e,t){return function(){var n=Object(l.a)(r.a.mark((function n(a){var i,o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I("GET","/user?username=".concat(t),null);case 3:200===(null===(i=n.sent)||void 0===i?void 0:i.status)&&(a(M(null===i||void 0===i?void 0:i.data)),a($(e,null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.id))),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},M=function(e){return{type:w,data:e}},G=function(e,t,n){return function(){var a=Object(l.a)(r.a.mark((function a(i){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I("GET","/user?id=".concat(t),null);case 3:o=a.sent,e(!1),n&&n(!1),i(z(o,e)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},z=function(e,t){return{type:f,data:e,setShowLoading:t}},V=function(e,t){return function(n){return console.log(t),I("GET","/user?username=".concat(t),null).then((function(t){e(!1),n(Y(t,e))})).catch((function(e){console.log(e)}))}},Y=function(e,t){return{type:v,data:e,setShowLoading:t}},X=function(e,t,n,a,i,o){return function(){var c=Object(l.a)(r.a.mark((function c(s){var l;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,console.log(e),c.next=4,I("PUT","/user",e);case 4:l=c.sent,i(!0),"success"===(null===l||void 0===l?void 0:l.data)?(a&&a({text:"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng"}),s(L(t,(null===e||void 0===e?void 0:e.username)?null===e||void 0===e?void 0:e.username:n))):a({text:"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i"}),setTimeout((function(){i(!1)}),5e3),o&&o(!1),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),console.log(c.t0);case 14:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e){return c.apply(this,arguments)}}()},W=function(e,t,n){return function(a){return I("POST","/user/follow?myId=".concat(D,"&followingId=").concat(e)).then((function(i){200===(null===i||void 0===i?void 0:i.status)&&a(G(t,n===U?D:e))})).catch((function(e){return console.log(e)}))}},Q=function(e){return function(t){return console.log(e),I("GET","/user/suggestedAccounts?id=".concat(e),null).then((function(e){t(Z(e))}))}},Z=function(e){return{type:O,data:e}},J=function(e,t){return function(n){return I("GET","/post?id=".concat(t)).then((function(a){e&&e(!1),200===(null===a||void 0===a?void 0:a.status)&&(n(K(null===a||void 0===a?void 0:a.data)),n(Q(t)))})).catch((function(e){console.log(e)}))}},K=function(e){return{type:x,data:e}},$=function(e,t){return function(){var n=Object(l.a)(r.a.mark((function n(a){var i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log(t),n.next=4,I("GET","/post/byId?accountId=".concat(t),null);case 4:i=n.sent,console.log(i),e(!1),200===(null===i||void 0===i?void 0:i.status)&&a(ee(null===i||void 0===i?void 0:i.data)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},ee=function(e){return{type:g,data:e}},te=function(e){return{type:_,data:e}},ne=function(e,t){return{type:y,data:e,typePost:t}},ae=function(e,t,n,a,i,o){return function(){var c=Object(l.a)(r.a.mark((function c(s){var l;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,I("POST","/post/comment",{id_post:e,id_owner:t,id_account:n,contentHtml:a,mentionList:i});case 3:(null===(l=c.sent)||void 0===l?void 0:l.status)>=200&&(null===l||void 0===l?void 0:l.status)<300&&s(oe(e,o,"commentPost")),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),console.log(c.t0);case 10:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(e){return c.apply(this,arguments)}}()},ie=function(e,t,n,a,i){return function(){var o=Object(l.a)(r.a.mark((function o(c){var s;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,I("POST","/post/like",{id_post:e,id_owner:t,id_account:n});case 3:(null===(s=o.sent)||void 0===s?void 0:s.status)>=200&&(null===s||void 0===s?void 0:s.status)<300&&c(oe(e,i,"likePost",a)),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),console.log(o.t0);case 10:case"end":return o.stop()}}),o,null,[[0,7]])})));return function(e){return o.apply(this,arguments)}}()},oe=function(e,t,n,a){return function(){var i=Object(l.a)(r.a.mark((function i(o){var c;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,I("GET","/post/byId?postId=".concat(e),null);case 3:c=i.sent,t&&t(!1),"likePost"===n&&(o(ne(null===c||void 0===c?void 0:c.data,a)),o(te(null===c||void 0===c?void 0:c.data))),"commentPost"===n&&o((s=null===c||void 0===c?void 0:c.data,{type:N,data:s})),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(0),console.log(i.t0);case 12:case"end":return i.stop()}var s}),i,null,[[0,9]])})));return function(e){return i.apply(this,arguments)}}()},ce=function(e){return{type:k,data:e}},se=(n(288),n(2));var re=function(e){return Object(se.jsx)("div",{className:"backGroundGlobalLoading",children:Object(se.jsxs)("div",{className:"_preloader",id:"_preloader_loading",children:[Object(se.jsx)("div",{className:"_item _item-1"}),Object(se.jsx)("div",{className:"_item _item-2"}),Object(se.jsx)("div",{className:"_item _item-3"}),Object(se.jsx)("div",{className:"_item _item-4"})]})})};n(290);var le=Object(b.b)((function(e){return{messageRegister:e.User.register}}),(function(e,t){return{registerUserRequest:function(t,n,a,i,o,c){e(function(e,t,n,a,i,o){return function(c){return I("POST","/user/signUp",{email:n,password:a,username:t,name:e,description:""}).then((function(e){o(!1),c(H(e,i))})).catch((function(e){console.log(e)}))}}(t,n,a,i,o,c))}}}))((function(e){var t=e.registerUserRequest,n=e.openUiRegister,i=e.history,o=e.messageRegister,c=Object(a.useState)(""),s=Object(d.a)(c,2),r=s[0],l=s[1],u=Object(a.useState)(""),b=Object(d.a)(u,2),j=b[0],m=b[1],h=Object(a.useState)(""),v=Object(d.a)(h,2),f=v[0],p=v[1],O=Object(a.useState)(""),x=Object(d.a)(O,2),g=x[0],y=x[1],N=Object(a.useState)(""),_=Object(d.a)(N,2),k=_[0],w=_[1],C=Object(a.useState)(""),S=Object(d.a)(C,2),T=S[0],E=S[1],P=Object(a.useState)(""),R=Object(d.a)(P,2),I=R[0],A=R[1],D=Object(a.useState)(""),U=Object(d.a)(D,2),B=U[0],F=U[1],q=Object(a.useState)(""),H=Object(d.a)(q,2),L=H[0],M=H[1],G=Object(a.useState)(""),z=Object(d.a)(G,2),V=z[0],Y=z[1],X=Object(a.useState)(""),W=Object(d.a)(X,2),Q=W[0],Z=W[1],J=Object(a.useState)(""),K=Object(d.a)(J,2),$=K[0],ee=K[1],te=Object(a.useState)(""),ne=Object(d.a)(te,2),ae=ne[0],ie=ne[1],oe=Object(a.useState)(!1),ce=Object(d.a)(oe,2),le=ce[0],de=ce[1];Object(a.useEffect)((function(){ee(o.messageEmailAlready),Z(o.messageUsernameAlready),ie(o.messageEmailUsernameAlready)}));var ue=function(e){var t=e.target.name,n=e.target.value;"name"===t&&(l(n),E(""!==T?"":T)),"username"===t&&(Z(""),m(n),A(""!==I?"":I)),"email"===t&&(ee(""),p(n),""!==n?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())?F(""):F("Email ph\u1ea3i nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng ( exp: abc@gmail.com )"):F("")),"password"===t&&(y(n),""!==n?n.length>=8?M(""):M("Password ph\u1ea3i l\u1edbn h\u01a1n ho\u1eb7c b\u1eb1ng 8 k\xfd t\u1ef1 ( exp: 12345678 )"):M("")),"againPassword"===t&&(w(n),Y(""!==n?n===g?"":"M\u1eadt kh\u1ea9u nh\u1eadp l\u1ea1i kh\xf4ng tr\xf9ng kh\u1edbp!":""))};return Object(se.jsxs)("div",{children:[le&&Object(se.jsx)(re,{}),Object(se.jsx)("div",{className:"backgroundRegister",style:n?{transform:"translateY(0%)"}:{transform:"translateY(135%)",transitionDelay:"0.3s"},children:Object(se.jsxs)("div",{className:"backgroundRegister_form",id:T||I||B||L||V?"largeFormRegister":"smallFormRegister",style:n?{transform:"translateY(0%)",transition:"0.3s"}:{transform:"translateY(135%)",transition:"0.3s"},children:[Object(se.jsxs)("div",{className:"backgroundRegister_form-top",children:[Object(se.jsxs)("div",{className:"form_top-left",children:[Object(se.jsx)("h2",{id:"form_top-h2",children:"\u0110\u0103ng k\xfd"}),Object(se.jsx)("p",{id:"form_top-p",children:"Nhanh ch\xf3ng v\xe0 d\u1ec5 d\xe0ng."})]}),Object(se.jsx)("div",{className:"form_top-right",children:Object(se.jsx)("i",{className:"fas fa-times",id:"form_top-iconClose",onClick:function(){e.closeForm(!1)}})})]}),Object(se.jsxs)("div",{className:"backgroundRegister_form-body",children:[Object(se.jsx)("input",{type:"text",name:"name",id:"form_body-input",placeholder:"H\u1ecd v\xe0 t\xean",onChange:ue,style:T?{border:"1px solid red"}:null}),Object(se.jsx)("p",{id:"error",children:T||null}),Object(se.jsx)("input",{type:"text",name:"email",id:"form_body-input",placeholder:"Email",onChange:ue,style:B||$||ae?{border:"1px solid red"}:null}),Object(se.jsx)("p",{id:"error",children:$||null}),Object(se.jsx)("p",{id:"error",children:ae||null}),Object(se.jsx)("p",{id:"error",children:B||null}),Object(se.jsx)("input",{type:"text",name:"username",id:"form_body-input",placeholder:"Username",onChange:ue,style:I||Q||ae?{border:"1px solid red"}:null}),Object(se.jsx)("p",{id:"error",children:Q||null}),Object(se.jsx)("p",{id:"error",children:ae||null}),Object(se.jsx)("p",{id:"error",children:I||null}),Object(se.jsx)("input",{type:"password",name:"password",id:"form_body-input",placeholder:"M\u1eadt kh\u1ea9u",onChange:ue,style:L?{border:"1px solid red"}:null}),Object(se.jsx)("p",{id:"error",children:L||null}),Object(se.jsx)("input",{type:"password",name:"againPassword",id:"form_body-input",placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",onChange:ue,style:V?{border:"1px solid red"}:null}),Object(se.jsx)("p",{id:"error",children:V||null}),Object(se.jsx)("p",{id:"form_body-p",children:"B\u1eb1ng c\xe1ch nh\u1ea5p v\xe0o \u0111\u0103ng k\xfd, b\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi \u0111i\u1ec1u kho\u1ea3n, ch\xednh s\xe1ch d\u1eef li\u1ec7u v\xe0 Ch\xednh s\xe1ch cookie c\u1ee7a ch\xfang t\xf4i. B\u1ea1n c\xf3 th\u1ec3 nh\u1eadn \u0111\u01b0\u1ee3c th\xf4ng b\xe1o c\u1ee7a ch\xfang t\xf4i qua SMS v\xe0 h\u1ee7y nh\u1eadn b\u1ea5t k\u1ef3 l\xfac n\xe0o."})]}),Object(se.jsx)("div",{className:"backgroundRegister_form-bottom",children:Object(se.jsx)("button",{id:"form_bottom-buttonRegister",onClick:function(){return""===r&&E("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"),""===j&&A("Username kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),""===f&&F("Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"),""===g&&M("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"),""===k&&Y("Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),void(""!==r&&""!==j&&""!==f&&""!==g&&""!==k&&(de(!0),t(r,j,f,g,i,de)))},children:"\u0110\u0103ng k\xfd"})})]})})]})})),de=n.p+"static/media/logo.8d1a8237.png";var ue=Object(b.b)((function(e){return{messageLogin:e.User.login}}),(function(e){return{loginUserRequest:function(t,n,a,i){e(function(e,t,n,a){return function(i){return I("POST","/user/signIn",{email:e,password:t}).then((function(e){console.log(e),a(!1),i(B(e,n))})).catch((function(e){console.log(e)}))}}(t,n,a,i))}}}))((function(e){var t=e.loginUserRequest,n=e.history,i=e.messageLogin,o=new u.a,c=Object(a.useState)(!1),s=Object(d.a)(c,2),r=s[0],l=s[1],b=Object(a.useState)(!1),j=Object(d.a)(b,2),m=j[0],h=j[1],v=Object(a.useState)(""),f=Object(d.a)(v,2),p=f[0],O=f[1],x=Object(a.useState)(""),g=Object(d.a)(x,2),y=g[0],N=g[1],_=Object(a.useState)(""),k=Object(d.a)(_,2),w=k[0],C=k[1],S=Object(a.useState)(""),T=Object(d.a)(S,2),E=T[0],P=T[1],R=Object(a.useState)(""),I=Object(d.a)(R,2),A=I[0],D=I[1],U=Object(a.useState)(!1),B=Object(d.a)(U,2),F=B[0],q=B[1];Object(a.useEffect)((function(){o.get("user")?(l(!0),n.push("/")):(D(i.messageIncorrect),l(!1))}),[o,n,i.messageIncorrect]);var H=function(e){var t=e.target.name,n=e.target.value;"email"===t?(D(""),O(n),""!==n?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())?C(""):C("Email ph\u1ea3i nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng!"):C("Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!")):(D(""),N(n),""!==n?n.length<8?P("M\u1eadt kh\u1ea9u ph\u1ea3i l\u1edbn h\u01a1n ho\u1eb7c b\u1eb1ng 8 k\xed t\u1ef1"):P(""):P("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"))};return Object(se.jsxs)("div",{style:r?{display:"none"}:{display:"block"},children:[F&&Object(se.jsx)(re,{}),Object(se.jsx)("div",{className:"container",children:Object(se.jsxs)("div",{className:"container_content",children:[Object(se.jsxs)("div",{className:"containerContent_left",children:[Object(se.jsx)("div",{className:"containerContent_left-logo",children:Object(se.jsx)("img",{src:de,alt:"",id:"containerContent_left-logo"})}),Object(se.jsx)("div",{className:"containerContent_left-title",children:Object(se.jsx)("h3",{id:"containerContent_left-title",children:"DTOnstagram gi\xfap b\u1ea1n k\u1ebft n\u1ed1i v\xe0 chia s\u1ebb v\u1edbi m\u1ecdi ng\u01b0\u1eddi trong cu\u1ed9c s\u1ed1ng c\u1ee7a b\u1ea1n."})})]}),Object(se.jsxs)("div",{className:"containerContent_right",children:[Object(se.jsx)("div",{className:"containerContent_right-top",children:Object(se.jsxs)("div",{className:"right_top-form",children:[Object(se.jsx)("p",{id:"error",style:{textAlign:"center"},children:A||null}),Object(se.jsx)("input",{type:"email",name:"email",id:"top_form-input",placeholder:"Email",onChange:H,style:w||A?{border:"1px solid red"}:null}),Object(se.jsx)("p",{id:"error",children:w||null}),Object(se.jsx)("input",{type:"password",name:"password",id:"top_form-input",placeholder:"M\u1eadt kh\u1ea9u",onChange:H,style:E||A?{border:"1px solid red"}:null}),Object(se.jsx)("p",{id:"error",children:E||null}),Object(se.jsx)("button",{id:"top_form-buttonLogin",onClick:function(){return""===p&&C("Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"),""===y&&P("Password kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"),void(""!==p&&""!==y&&""===w&&""===E&&(q(!0),console.log(p),console.log(y),t(p,y,n,q)))},children:"\u0110\u0103ng nh\u1eadp"}),Object(se.jsx)("div",{className:"forgotPassword",children:Object(se.jsx)("a",{href:"#",id:"top_form-forgotPassword",children:"Qu\xean m\u1eadt kh\u1ea9u?"})}),Object(se.jsx)("div",{className:"registerUser",children:Object(se.jsx)("button",{id:"top_form-buttonRegister",onClick:function(){h(!0)},children:"T\u1ea1o t\xe0i kho\u1ea3n m\u1edbi"})})]})}),Object(se.jsx)("div",{className:"containerContent_right-bottom"})]})]})}),Object(se.jsx)(le,{openUiRegister:m,closeForm:function(){h(!1)},history:n})]})}));var be=function(e){var t=e.history;return Object(se.jsx)("div",{className:"container",children:Object(se.jsx)(ue,{history:t})})};var je=function(e){return Object(se.jsx)("div",{className:"container",children:Object(se.jsx)("h1",{children:"Kh\xf4ng t\xecm th\u1ea5y trang"})})},me=(n(291),n(13)),he=n.n(me),ve=n(22),fe=n(15),pe=(n(292),n(23)),Oe=[];var xe=Object(b.b)((function(e){return{personal:e.Personal}}),(function(e){return{postNewsRequest:function(t,n,a,i,o,c,s){e(function(e,t,n,a,i,o,c){return function(s){return I("POST","/post",{id_account:e,imageSrc:t,content:n}).then((function(t){i(!1),"success"===t.data&&(o&&o(!0),c&&c({text:"Th\xeam b\xe0i vi\u1ebft th\xe0nh c\xf4ng"}),setTimeout((function(){o&&o(!1)}),6e3),s($(a,e)))}))}}(t,n,a,i,o,c,s))},updatePostRequest:function(t,n,a,i,o,c,s,d,u){e(function(e,t,n,a,i,o,c,s,d){return function(){var u=Object(l.a)(r.a.mark((function l(u){var b;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,I("PUT","/post",{id_post:e,imageSrc:t,content:n});case 3:b=r.sent,i&&i(!1),o&&o(!1),"success"===b.data&&(s&&s(!0),d&&d({text:"C\u1eadp nh\u1eadt b\xe0i vi\u1ebft th\xe0nh c\xf4ng"}),setTimeout((function(){s&&s(!1)}),6e3),u(J(a,c))),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),l,null,[[0,9]])})));return function(e){return u.apply(this,arguments)}}()}(t,n,a,i,o,c,s,d,u))}}}))((function(e){var t=e.personal,n=e.openFromAddNews,i=e.setOpenFormAddNews,o=e.dataDetailPost,c=e.setOpenUiUpdatePost,s=e.setOpenToast,b=e.setValueToast,j=new u.a,m=j.get("user"),h=Object(a.useState)([]),v=Object(d.a)(h,2),f=v[0],p=v[1],O=Object(a.useState)(""),x=Object(d.a)(O,2),g=x[0],y=x[1],N=Object(a.useState)(!0),_=Object(d.a)(N,2),k=_[0],w=_[1],C=Object(a.useState)([]),S=Object(d.a)(C,2),T=S[0],E=S[1],P=Object(a.useState)(!1),R=Object(d.a)(P,2),I=R[0],A=R[1],D=Object(a.useState)(!1),U=Object(d.a)(D,2),B=U[0],F=U[1];Object(a.useEffect)((function(){k&&(o&&(null===o||void 0===o||o.imageSrc.forEach((function(e){Oe.push(e)})),y(null===o||void 0===o?void 0:o.content)),p(Oe)),E(void 0===o?t:o),w(!1)}),[o,k,f,j,t]);var q=function(e){var t=new FormData;t.append("file",e),t.append("upload_preset","ml_default"),fetch("https://api.Cloudinary.com/v1_1/baby-dont-cry/image/upload",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){Oe.push(e.url),console.log(Oe),p(Oe)})).catch((function(e){console.log(e)}))},H=function(){var e=Object(l.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target.files).length>1)for(a=0;a<n.length;a++)q(n[a]);else q(n[0]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){var t=Object(fe.a)(Oe),n=t.findIndex((function(t){return t===e}));t.splice(n,1),p(t),Oe=t};return Object(se.jsxs)("div",{className:"backgroundAddfr",style:n?{transform:"translateY(0%)"}:{transform:"translateY(100%)",transitionDelay:".5s"},children:[B&&Object(se.jsx)(pe.Popup,{fullScreen:!0,icon:"warning",onClose:function(){F(!1)},open:!0,pressESCToClose:!0,title:"H\xecnh \u1ea3nh \u0111\u0103ng l\xean l\xe0 b\u1eaft bu\u1ed9c, y\xeau c\u1ea7u ng\u01b0\u1eddi d\xf9ng b\u1ed5 sung"}),I&&Object(se.jsx)(re,{}),Object(se.jsxs)("div",{className:"backgroundAddfr_form",style:n?{transform:"translateY(0%)",transition:"0.5s"}:{transform:"translateY(175%)",transition:"0.5s"},id:0!==f.length?"largeForm":"smallForm",children:[Object(se.jsxs)("div",{className:"backgroundAddfr_form-top",children:[o?"Ch\u1ec9nh s\u1eeda b\xe0i vi\u1ebft":"T\u1ea1o b\xe0i vi\u1ebft",Object(se.jsx)("i",{className:"fas fa-times",id:"formAddfr_top-close",onClick:function(){return e.onCloseForm(!1),p([]),y(""),void(Oe=[])}})]}),Object(se.jsxs)("div",{className:"backgroundAddfr_form-body",children:[Object(se.jsxs)("div",{className:"form_body-top",children:[Object(se.jsx)("div",{className:"body_top-img",children:Object(se.jsx)("img",{src:(null===T||void 0===T?void 0:T.accountImage)?null===T||void 0===T?void 0:T.accountImage:null===T||void 0===T?void 0:T.imageSrc,alt:"",id:"body_top-img"})}),Object(se.jsx)("div",{className:"body_top-name",children:Object(se.jsx)("p",{children:null===T||void 0===T?void 0:T.username})})]}),Object(se.jsx)("div",{className:"form_body-body",children:Object(se.jsx)("textarea",{name:"",id:"form_body-textarea",cols:"30",rows:"10",onChange:function(e){return function(e){var t=e.target.value;y(t)}(e)},placeholder:"".concat(null===T||void 0===T?void 0:T.name," \u01a1i, b\u1ea1n \u0111ang ngh\u0129 g\xec th\u1ebf ?"),value:g})}),0!==f.length?Object(se.jsx)("div",{className:"img_loading",children:(null===f||void 0===f?void 0:f.length)>1?null===f||void 0===f?void 0:f.map((function(e,t){return Object(se.jsxs)("div",{className:"img_loading-column",style:{maxWidth:"50%"},children:[Object(se.jsx)("img",{src:e,id:"img_loading",alt:""}),Object(se.jsx)("i",{className:"fas fa-times",id:"remove_image",onClick:function(){return L(e)}})]},t)})):Object(se.jsxs)("div",{className:"img_loading-column",style:{maxWidth:"100%"},children:[Object(se.jsx)("img",{src:f[0],id:"img_loading",alt:""}),Object(se.jsx)("i",{className:"fas fa-times",id:"remove_image",onClick:function(){return L(f[0])}})]})}):null]}),Object(se.jsxs)("div",{className:"backgroundAddfr_bottom",children:[Object(se.jsx)("div",{className:"form_body-bottom",children:Object(se.jsxs)("label",{htmlFor:"body_bottom-button",children:[Object(se.jsx)("input",{type:"file",id:"body_bottom-button",onChange:H,multiple:"multiple"}),Object(se.jsx)("i",{className:"fas fa-photo-video",id:"body_bottom-icon"})," Th\xeam h\xecnh \u1ea3nh"]})}),Object(se.jsx)("div",{className:"backgroundAddfr_form-bottom",children:Object(se.jsx)("button",{id:"form_bottom-button",onClick:function(){he.a.isEmpty(f)?F(!0):(A(!0),void 0===o?e.postNewsRequest(m,f,g,A,i,s,b):e.updatePostRequest(null===o||void 0===o?void 0:o.id_post,f,g,A,i,c,m,s,b),y(""),p([]),Oe=[])},children:"\u0110\u0103ng"})})]})]})]})})),ge=(n(295),n(537));var ye=Object(b.b)((function(e){return{dataUser:e.MyPersonal}}),(function(e){return{changeAvtRequest:function(t,n,a,i,o){e(X(t,n,a,i,o))}}}))((function(e){var t=e.changeAvtRequest,n=e.openChangeAvt,i=e.dataUser,o=e.getDataUrl,s=e.userHistory,r=(new u.a).get("username"),l=Object(a.useState)(!0),b=Object(d.a)(l,2),j=b[0],m=b[1],h=Object(a.useState)(!1),v=Object(d.a)(h,2),f=v[0],p=v[1],O=Object(a.useState)(!1),x=Object(d.a)(O,2),g=x[0],y=x[1],N=Object(a.useState)({text:null}),_=Object(d.a)(N,2),k=_[0],w=_[1];Object(a.useEffect)((function(){}),[i]);var C=function(e){var n=new FormData,a={id:null===i||void 0===i?void 0:i.id};n.append("file",e),n.append("upload_preset","ml_default"),fetch("https://api.Cloudinary.com/v1_1/baby-dont-cry/image/upload",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){a=Object(c.a)(Object(c.a)({},a),{},{imageSrc:null===e||void 0===e?void 0:e.url}),p(!0),t(a,p,r,w,y)})).catch((function(e){console.log(e)}))},S=function(e){var t=e.target.files;if(p(!0),t.length>1)for(var n=0;n<t.length;n++)C(t[n]);else C(t[0])};return Object(se.jsxs)("div",{children:[g&&Object(se.jsx)(ge.a,{message:null===k||void 0===k?void 0:k.text}),f&&Object(se.jsx)(re,{}),Object(se.jsx)("div",{className:"backgroundChangeAvt",onClick:j?function(){e.onCloseForm(!1)}:null,id:n?"showBackground":"hiddenBackground",children:Object(se.jsxs)("div",{className:"backgroundChangeAvt_form",onMouseEnter:function(){return m(!1)},onMouseLeave:function(){return m(!0)},id:n?"showForm":"hiddenForm",children:[Object(se.jsx)("img",{src:null===i||void 0===i?void 0:i.imageSrc,alt:"",id:"backgroundChangeAvt_form-img"}),r===o&&Object(se.jsxs)("label",{className:"backgroundChangeAvt_form-edit",children:[Object(se.jsx)("input",{type:"file",id:"form_edit-input",onChange:S,style:{opacity:0}}),Object(se.jsx)("div",{className:"form_edit-title",children:"Ch\u1ec9nh s\u1eeda"})]}),r===s&&Object(se.jsxs)("label",{className:"backgroundChangeAvt_form-edit",children:[Object(se.jsx)("input",{type:"file",id:"form_edit-input",onChange:S,style:{opacity:0}}),Object(se.jsx)("div",{className:"form_edit-title",children:"Ch\u1ec9nh s\u1eeda"})]})]})})]})})),Ne=n(55),_e=n.n(Ne);n(338);var ke=Object(b.b)((function(e){return{dataUser:e.MyPersonal}}),(function(e){return{removeFriendRequest:function(t,n,a,i,o){e(function(e,t,n,a,i){return function(o){return I("DELETE","/user/follow?myId=".concat(D,"&followingId=").concat(e)).then((function(c){n(!1),a&&a(!1),o(G(t,i===U?D:e,a))}))}}(t,n,a,i,o))}}}))((function(e){var t=e.dataUser,n=e.dataUnFollow,i=e.setOpenContentFollow,o=Object(a.useState)(!1),c=Object(d.a)(o,2),s=c[0],r=c[1],l=Object(a.useState)(null),u=Object(d.a)(l,2),b=u[0],j=u[1],m=Object(a.useState)(!0),h=Object(d.a)(m,2),v=h[0],f=h[1];return Object(a.useEffect)((function(){j(n||t)}),[n,t]),Object(se.jsxs)("div",{children:[s&&Object(se.jsx)(re,{}),Object(se.jsx)("div",{className:"backgroundFormUnfollow",style:v?{display:"block"}:{display:"none"},children:Object(se.jsxs)("div",{className:"backgroundFormUnfollow_form",children:[Object(se.jsxs)("div",{className:"backgroundFormUnfollow_form-top",children:[Object(se.jsx)("div",{className:"formUnfollow_top-top",children:Object(se.jsx)("img",{src:null===b||void 0===b?void 0:b.imageSrc,id:"imgUnfollow_top",alt:""})}),Object(se.jsxs)("div",{className:"formUnfollow_top-bottom",children:["B\u1ecf theo d\xf5i @",null===b||void 0===b?void 0:b.username,"?"]})]}),Object(se.jsx)("div",{className:"backgroundFormUnfollow_form-body",onClick:function(){return function(){var n=b.id;r(!0),e.removeFriendRequest(n,r,f,i,null===t||void 0===t?void 0:t.username)}()},children:"B\u1ecf theo d\xf5i"}),Object(se.jsx)("div",{className:"backgroundFormUnfollow_form-bottom",onClick:function(){e.onCloseForm(!1)},children:"H\u1ee7y"})]})})]})})),we=(n(339),n(340),n(26));var Ce=Object(b.b)((function(e){return{dataUser:e.MyPersonal}}),(function(e){return{changeAvtRequest:function(t,n,a,i,o,c){e(X(t,n,a,i,o,c))}}}))((function(e){var t=e.changeAvtRequest,n=e.dataUser,i=Object(we.f)(),o=Object(a.useState)(!1),s=Object(d.a)(o,2),r=s[0],l=s[1],u=Object(a.useState)({name:"",username:"",description:""}),b=Object(d.a)(u,2),j=b[0],m=b[1],h=Object(a.useState)({text:null}),v=Object(d.a)(h,2),f=v[0],p=v[1],O=Object(a.useState)(!1),x=Object(d.a)(O,2),g=x[0],y=x[1],N=Object(a.useState)(!1),_=Object(d.a)(N,2),k=_[0],w=_[1],C=Object(a.useState)(""),S=Object(d.a)(C,2),T=S[0],E=S[1],P=function(e){var a=new FormData,i={id:null===n||void 0===n?void 0:n.id};a.append("file",e),a.append("upload_preset","ml_default"),fetch("https://api.Cloudinary.com/v1_1/baby-dont-cry/image/upload",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){i=Object(c.a)(Object(c.a)({},i),{},{imageSrc:e.url}),l(!0),t(i,l,null===n||void 0===n?void 0:n.username,p,y,w)})).catch((function(e){console.log(e)}))},R=function(e){var t=e.target.value;switch(e.target.name){case"name":return void m(Object(c.a)(Object(c.a)({},j),{},{name:t}));case"username":return void m(Object(c.a)(Object(c.a)({},j),{},{username:t}));case"description":return void m(Object(c.a)(Object(c.a)({},j),{},{description:t}));default:return}},I=function(e){w(!0);var a={id:null===n||void 0===n?void 0:n.id};switch(e){case"name":return void(""!==j.name&&(E(e),a=Object(c.a)(Object(c.a)({},a),{},{name:j.name}),t(a,l,null===n||void 0===n?void 0:n.username,p,y,w),m(Object(c.a)(Object(c.a)({},j),{},{name:""}))));case"username":return void(""!==j.username&&(E(e),a=Object(c.a)(Object(c.a)({},a),{},{username:j.username}),t(a,l,null===n||void 0===n?void 0:n.username,p,y,w),m(Object(c.a)(Object(c.a)({},j),{},{username:""}))));case"description":return void(""!==j.description&&(E(e),a=Object(c.a)(Object(c.a)({},a),{},{description:j.description}),t(a,l,null===n||void 0===n?void 0:n.username,p,y,w),m(Object(c.a)(Object(c.a)({},j),{},{description:""}))));default:return}};return Object(se.jsxs)("div",{children:[r&&Object(se.jsx)(re,{}),Object(se.jsx)("div",{style:{width:150,position:"fixed",bottom:70,left:50},children:g&&Object(se.jsx)(ge.a,{message:null===f||void 0===f?void 0:f.text})}),Object(se.jsxs)("div",{className:"backgroundEditPersonal_all",children:[Object(se.jsxs)("div",{className:"form_right-avt",children:[Object(se.jsxs)("div",{className:"right_avt-top",children:[Object(se.jsx)("div",{className:"avt_top-left",children:"\u1ea2nh \u0111\u1ea1i di\u1ec7n"}),Object(se.jsxs)("label",{className:"avt_top-right",children:[Object(se.jsx)("input",{type:"file",id:"avt_top-right",onChange:function(e){var t=e.target.files;if(l(!0),t.length>1)for(var n=0;n<t.length;n++)P(t[n]);else P(t[0])},style:{opacity:0}}),Object(se.jsx)("div",{className:"avt_top-right-title",children:"Ch\u1ec9nh s\u1eeda"})]})]}),Object(se.jsx)("div",{className:"right_avt-bottom",children:Object(se.jsx)("img",{src:null===n||void 0===n?void 0:n.imageSrc,id:"avt_bottom-img",alt:""})})]}),Object(se.jsxs)("div",{className:"form_right-name",children:[Object(se.jsx)("div",{className:"right_name-top",children:Object(se.jsxs)("div",{className:"name_top-left",children:["T\xean ( ",null===n||void 0===n?void 0:n.name," ) "]})}),Object(se.jsxs)("div",{className:"right_name-bottom",children:[Object(se.jsx)("input",{type:"text",name:"name",id:"bottom_right-input",placeholder:"Nh\u1eadp t\xean c\u1ee7a b\u1ea1n...",onChange:function(e){return R(e)},value:null===j||void 0===j?void 0:j.name}),k&&"name"===T&&Object(se.jsx)(pe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{marginLeft:-50}}),Object(se.jsxs)("div",{className:"formSubmit_btn",onClick:function(){return I("name")},children:[" ","C\u1eadp nh\u1eadt"]})]})]}),Object(se.jsxs)("div",{className:"form_right-username",children:[Object(se.jsx)("div",{className:"right_username-top",children:Object(se.jsxs)("div",{className:"username_top-left",children:["T\xean ng\u01b0\u1eddi d\xf9ng ( ",null===n||void 0===n?void 0:n.username," )"]})}),Object(se.jsxs)("div",{className:"right_username-bottom",children:[Object(se.jsx)("input",{type:"text",name:"username",id:"bottom_right-input",placeholder:"Nh\u1eadp t\xean ng\u01b0\u1eddi d\xf9ng c\u1ee7a b\u1ea1n...",onChange:function(e){return R(e)},value:null===j||void 0===j?void 0:j.username}),k&&"username"===T&&Object(se.jsx)(pe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{marginLeft:-50}}),Object(se.jsxs)("div",{className:"formSubmit_btn",onClick:function(){return I("username")},children:[" ","C\u1eadp nh\u1eadt"]})]})]}),Object(se.jsxs)("div",{className:"form_right-description",children:[Object(se.jsx)("div",{className:"right_description-top",children:Object(se.jsx)("div",{className:"description_top-left",children:"Ti\u1ec3u s\u1eed"})}),Object(se.jsxs)("div",{className:"right_description-bottom",children:[Object(se.jsx)("textarea",{id:"description_bottom-textarea",name:"description",placeholder:"Nh\u1eadp ti\u1ec3u s\u1eed c\u1ee7a b\u1ea1n...",onChange:function(e){return R(e)},value:null===j||void 0===j?void 0:j.description}),k&&"description"===T&&Object(se.jsx)(pe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{marginLeft:-50}}),Object(se.jsxs)("div",{className:"formSubmit_btn",onClick:function(){return I("description")},children:[" ","C\u1eadp nh\u1eadt"]})]})]}),Object(se.jsx)("div",{className:"background_formSubmit",children:Object(se.jsx)("div",{className:"formSubmit_btn",onClick:function(){return e.onCloseForm(!1),void i.push("/personal/".concat(null===n||void 0===n?void 0:n.username))},style:{backgroundColor:"red",color:"white"},children:"H\u1ee7y b\u1ecf"})})]})]})}));n(344);var Se=Object(b.b)((function(e){return{dataPersonal:e.MyPersonal}}),(function(e){return{changeAvtRequest:function(t,n,a,i,o,c){e(X(t,n,a,i,o,c))}}}))((function(e){var t=e.dataPersonal,n=Object(a.useState)({password:"",againPassword:""}),i=Object(d.a)(n,2),o=i[0],s=i[1],r=Object(a.useState)(!1),l=Object(d.a)(r,2),u=l[0],b=l[1],j=Object(a.useState)(!1),m=Object(d.a)(j,2),h=m[0],v=m[1],f=Object(a.useState)({color:null,text:null}),p=Object(d.a)(f,2),O=p[0],x=p[1],g=Object(a.useState)(!1),y=Object(d.a)(g,2),N=(y[0],y[1]),_=Object(a.useState)(!1),k=Object(d.a)(_,2),w=k[0],C=k[1],S=function(e){var t=e.target.value;switch(e.target.name){case"password":return void s(Object(c.a)(Object(c.a)({},o),{},{password:t}));case"againPassword":return void s(Object(c.a)(Object(c.a)({},o),{},{againPassword:t}));default:return}};return Object(se.jsxs)("div",{className:"backgroundChangePassword",children:[Object(se.jsx)("div",{style:{width:150,position:"fixed",bottom:70,left:50},children:h&&Object(se.jsx)(pe.Alert,{color:null===O||void 0===O?void 0:O.color,text:null===O||void 0===O?void 0:O.text,style:{width:150,position:"fixed",bottom:70,left:50}})}),Object(se.jsxs)("div",{className:"backgroundChangePassword_top",children:[Object(se.jsx)("div",{className:"backgroundChangePassword_top-left",children:Object(se.jsx)("img",{src:null===t||void 0===t?void 0:t.imageSrc,id:"top_left-img",alt:""})}),Object(se.jsx)("div",{className:"backgroundChangePassword_top-right",children:null===t||void 0===t?void 0:t.username})]}),Object(se.jsxs)("div",{className:"backgroundChangePassword_bottom",children:[Object(se.jsxs)("div",{className:"backgroundChangePassword_bottom-item",children:[Object(se.jsx)("div",{className:"bottom_item-left",children:"M\u1eadt kh\u1ea9u m\u1edbi"}),Object(se.jsx)("div",{className:"bottom_item-right",children:Object(se.jsx)("input",{type:"password",name:"password",id:"item_right-input",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi",onChange:function(e){return S(e)}})})]}),Object(se.jsxs)("div",{className:"backgroundChangePassword_bottom-item",children:[Object(se.jsx)("div",{className:"bottom_item-left",children:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi"}),Object(se.jsxs)("div",{className:"bottom_item-right",children:[Object(se.jsx)("input",{type:"password",name:"againPassword",id:"item_right-input",placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi",onChange:function(e){return S(e)},style:u?{border:"1px solid red"}:null}),w&&Object(se.jsx)(pe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10})]})]})]}),Object(se.jsxs)("div",{className:"backgroundChangePassword_submit",onClick:function(){return function(){console.log(123);var n={id:null===t||void 0===t?void 0:t.id};(null===o||void 0===o?void 0:o.password)!==(null===o||void 0===o?void 0:o.againPassword)?(b(!0),v(!0),x({color:"danger",text:"M\u1eadt kh\u1ea9u nh\u1eadp l\u1ea1i kh\xf4ng tr\xf9ng kh\u1edbp, vui l\xf2ng th\u1eed l\u1ea1i"}),setTimeout((function(){v(!1)}),5e3)):(b(!1),n=Object(c.a)(Object(c.a)({},n),{},{password:null===o||void 0===o?void 0:o.password}),C(!0),e.changeAvtRequest(n,N,null===t||void 0===t?void 0:t.username,x,v,C),x({password:"",againPassword:""}))}()},children:[Object(se.jsx)("div",{className:"backgroundChangePassword_submit-btn",children:"\u0110\u1ed3ng \xfd"}),Object(se.jsx)("div",{className:"formSubmit_btn",onClick:function(){e.onCloseForm(!1)},children:"H\u1ee7y b\u1ecf"})]})]})}));var Te=Object(b.b)((function(e){return{dataUser:e.Personal}}),null)((function(e){var t=e.openEditPersonal,n=Object(a.useState)(1),i=Object(d.a)(n,2),o=i[0],c=i[1],s=function(t){e.onCloseForm(t)};return Object(se.jsx)("div",{style:t?{display:"block"}:{display:"none"},children:Object(se.jsx)("div",{className:"backgroundEditPersonal",children:Object(se.jsxs)("div",{className:"backgroundEditPersonal_form",children:[Object(se.jsxs)("div",{className:"backgroundEditPersonal_form-left",children:[Object(se.jsx)("div",{className:"form_left-about",children:"Gi\u1edbi thi\u1ec7u"}),[{id:1,name:"Ch\u1ec9nh s\u1eeda th\xf4ng tin c\xe1 nh\xe2n"},{id:2,name:"Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u"}].map((function(e,t){return Object(se.jsx)("div",{className:"form_left-title",onClick:function(){return t=e.id,void c(t);var t},style:o===t+1?{backgroundColor:"#e7f3ff",color:"#188af5"}:{backgroundColor:"rgb(228 230 235 / 35%)",color:"#050505"},children:e.name},t)}))]}),Object(se.jsx)("div",{className:"backgroundEditPersonal_form-right",children:function(){switch(o){case 1:return Object(se.jsx)(Ce,{onCloseForm:s});case 2:return Object(se.jsx)(Se,{onCloseForm:s});default:return Object(se.jsx)(Ce,{onCloseForm:s})}}()})]})})})}));n(345);var Ee=Object(b.b)((function(e){return{dataUser:e.MyPersonal}}),(function(e){return{getPersonalByMeRequest:function(t,n){e(L(t,n))},followFriendRequest:function(t,n,a){e(W(t,n,a))}}}))((function(e){var t=e.name,n=e.dataFollow,i=e.setOpenContentFollow,o=e.dataUser,c=(new u.a).get("username"),s=Object(a.useState)(null),r=Object(d.a)(s,2),l=r[0],b=r[1],j=Object(a.useState)(null),m=Object(d.a)(j,2),h=m[0],v=m[1],f=Object(a.useState)(!1),p=Object(d.a)(f,2),O=p[0],x=p[1],g=Object(a.useState)(""),y=Object(d.a)(g,2),N=y[0],_=y[1],k=function(t){b(!0),e.getPersonalByMeRequest(b,null===t||void 0===t?void 0:t.username)};return Object(se.jsx)("div",{children:Object(se.jsxs)("div",{className:"backgroundContentFollow",children:[O&&Object(se.jsx)(ke,{setOpenContentFollow:i,dataUnFollow:{id:null===h||void 0===h?void 0:h.id_account,name:null===h||void 0===h?void 0:h.name,username:null===h||void 0===h?void 0:h.username,imageSrc:null===h||void 0===h?void 0:h.imageSrc},onCloseForm:function(e){x(e)}}),Object(se.jsxs)("div",{className:"backgroundContentFollow_form",children:[Object(se.jsxs)("div",{className:"backgroundContentFollow_form-top",children:[t,Object(se.jsx)("i",{className:"fas fa-times",id:"form_top-icon",onClick:function(){e.onCloseForm(!1)}})]}),Object(se.jsx)("div",{className:"backgroundContentFollow_form-bottom",children:null===n||void 0===n?void 0:n.map((function(t,a){var i,s,r=null===o||void 0===o||null===(i=o.following)||void 0===i?void 0:i.findIndex((function(e){return(null===e||void 0===e?void 0:e.id_account)===t.id_account}));return Object(se.jsxs)("div",{className:"form_bottom-all",children:[Object(se.jsxs)("div",{className:"form_bottom-left",children:[Object(se.jsx)("div",{className:"bottom_left-avt",children:Object(se.jsx)("img",{src:null===t||void 0===t?void 0:t.imageSrc,alt:"",id:"bottom_left-avt",onClick:function(){return k(t)}})}),Object(se.jsxs)("div",{className:"bottom_left-title",children:[Object(se.jsx)(ve.b,{to:{pathname:"/personal/".concat(null===(s=n[a])||void 0===s?void 0:s.username),state:t},className:"link_custom",onClick:function(){return e.onCloseForm(!1)},children:Object(se.jsx)("div",{className:"left_title-top",onClick:function(){return k(t)},children:Object(se.jsx)("p",{children:null===t||void 0===t?void 0:t.username})})}),Object(se.jsx)("div",{className:"left_title-bottom",children:Object(se.jsx)("p",{children:null===t||void 0===t?void 0:t.name})}),l&&N===(null===t||void 0===t?void 0:t.id_account)&&Object(se.jsx)(pe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{position:"absolute",top:15,right:0,fontSize:10,zIndex:1e4}})]})]}),Object(se.jsx)("div",{className:"form_bottom-right",children:-1!==r?Object(se.jsx)("p",{id:"bottom_right-delete",onClick:l?null:function(){return function(e){v(e),x(!0)}(t)},children:"\u0110ang theo d\xf5i"}):t.username!==c&&Object(se.jsx)("p",{id:"bottom_right-delete",onClick:l?null:function(){return function(t){b(!0),_(null===t||void 0===t?void 0:t.id_account),e.followFriendRequest(null===t||void 0===t?void 0:t.id_account,b,null===o||void 0===o?void 0:o.username)}(t)},style:{backgroundColor:"rgb(0, 149, 246)",color:"white",border:"none",fontWeight:"bold"},children:"Theo d\xf5i"})})]},a)}))})]})]})})})),Pe=(n(346),n(243)),Re=(n(347),n(41)),Ie=n.n(Re),Ae=function(e){var t=Ie()(Date.now()),n=Ie()(e),a=t.diff(n,"seconds"),i=t.diff(n,"minutes"),o=t.diff(n,"hours"),c=t.diff(n,"days"),s=t.format("D [Th\xe1ng] M [l\xfac] HH:mm");return a<=60?a+" gi\xe2y tr\u01b0\u1edbc":i<=60?i+" ph\xfat tr\u01b0\u1edbc":o<=24?o+" ti\u1ebfng tr\u01b0\u1edbc":c<=6?c+" ng\xe0y tr\u01b0\u1edbc":s},De=n(70);n(348),n(173);var Ue=Object(b.b)(null,(function(e){return{deletePostRequest:function(t,n,a,i,o,c,s){e(function(e,t,n,a,i,o,c){return function(){var s=Object(l.a)(r.a.mark((function s(l){var d;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,I("DELETE","/post",{id_post:e,id_account:t});case 3:d=s.sent,i&&i(!1),200===(null===d||void 0===d?void 0:d.status)?(n&&n(!1),a&&a(!1),o&&o(!0),c&&c({text:"X\xf3a b\xe0i vi\u1ebft th\xe0nh c\xf4ng"}),setTimeout((function(){o&&o(!1)}),6e3),l($(i,t))):setTimeout((function(){c&&c({text:"X\xf3a b\xe0i vi\u1ebft th\u1ea5t b\u1ea1i"})}),6e3),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})));return function(e){return s.apply(this,arguments)}}()}(t,n,a,i,o,c,s))}}}))((function(e){var t=e.dataDetailPost,n=e.setOpenUiUpdatePost,i=e.setOpenDetailsPost,o=e.setOpenToast,c=e.setValueToast,s=Object(a.useState)(!1),r=Object(d.a)(s,2),l=r[0],u=r[1],b=Object(a.useState)(!1),j=Object(d.a)(b,2),m=j[0],h=j[1],v=function(){e.onCloseForm(!1),h(!1)};return Object(se.jsxs)("div",{children:[Object(se.jsx)(xe,{openFromAddNews:m,onCloseForm:v,dataDetailPost:t,setOpenFormAddNews:h,setOpenUiUpdatePost:n}),l&&Object(se.jsx)(re,{}),Object(se.jsx)("div",{className:"backgroundUpdatePost",children:Object(se.jsxs)("div",{className:"backgroundUpdatePost_form",children:[Object(se.jsx)("div",{className:"backgroundUpdatePost_form-item",style:{fontWeight:"bold",color:"red"},onClick:function(){return u(!0),console.log(t),void e.deletePostRequest(null===t||void 0===t?void 0:t.id_post,null===t||void 0===t?void 0:t.id_account,n,i,u,o,c)},children:"X\xf3a"}),Object(se.jsx)("div",{className:"backgroundUpdatePost_form-item",onClick:function(){h(!0)},children:"Ch\u1ec9nh s\u1eeda b\xe0i vi\u1ebft"}),Object(se.jsx)("div",{className:"backgroundUpdatePost_form-item",onClick:function(){return v()},children:"H\u1ee7y"})]})})]})})),Be=(n(349),n(536));var Fe=function(e){switch(e.actionTypes){case"post":return Object(se.jsxs)(Be.a,{fluid:!0,style:{border:"20px solid white",borderRadius:10,width:620,marginLeft:40},children:[Object(se.jsxs)(Be.a.Header,{image:!0,style:{backgroundColor:"rgb(236 236 236)",border:"none",zIndex:1},children:[Object(se.jsx)(Be.a.Line,{length:"very short"}),Object(se.jsx)(Be.a.Line,{}),Object(se.jsx)(Be.a.Line,{length:"very short"})]}),Object(se.jsx)(Be.a.Paragraph,{style:{width:"100%",height:467}}),Object(se.jsx)(Be.a.Line,{}),Object(se.jsx)(Be.a.Line,{}),Object(se.jsx)(Be.a.Line,{}),Object(se.jsx)(Be.a.Line,{})]});case"detailsPost":return Object(se.jsxs)(Be.a,{fluid:!0,style:{border:"20px solid white",borderRadius:10,position:"absolute",width:800,height:600,top:"0",left:"0",right:"0",bottom:"0",margin:"auto",display:"flex"},children:[Object(se.jsx)(Be.a.Paragraph,{style:{width:"60%",height:"100%",borderRight:"10px solid white",borderTop:"5px solid white"}}),Object(se.jsxs)(Be.a.Paragraph,{style:{width:"40%",height:"104%",marginTop:"-19px"},children:[Object(se.jsx)(Be.a.Paragraph,{style:{width:"100%",height:"15%",border:"5px solid white"}}),Object(se.jsx)(Be.a.Paragraph,{style:{width:"100%",height:"60%",border:"5px solid white"}}),Object(se.jsx)(Be.a.Paragraph,{style:{width:"100%",height:"25%",border:"5px solid white"}})]})]});default:return Object(se.jsxs)(Be.a,{fluid:!0,style:{border:"20px solid white",borderRadius:10},children:[Object(se.jsxs)(Be.a.Header,{image:!0,style:{backgroundColor:"rgb(236 236 236)",border:"none",zIndex:1},children:[Object(se.jsx)(Be.a.Line,{length:"very short"}),Object(se.jsx)(Be.a.Line,{}),Object(se.jsx)(Be.a.Line,{length:"very short"})]}),Object(se.jsx)(Be.a.Paragraph,{style:{width:"100%",height:467}}),Object(se.jsx)(Be.a.Line,{}),Object(se.jsx)(Be.a.Line,{}),Object(se.jsx)(Be.a.Line,{}),Object(se.jsx)(Be.a.Line,{})]})}},qe=n(109);n(351),n(352);qe.a.initializeApp({apiKey:"AIzaSyDpmA6bZfQPfLpqcThyXQwG3SbHJnnpyow",authDomain:"api-social-network-4c66d.firebaseapp.com",databaseURL:"https://api-social-network-4c66d-default-rtdb.asia-southeast1.firebasedatabase.app"});qe.a.auth;var He=qe.a.database();var Le=Object(b.b)(null,(function(e){return{removeCommentRequest:function(t,n,a,i,o,c,s,d){e(function(e,t,n,a,i,o,c,s){return Object(l.a)(r.a.mark((function l(){var d;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,I("DELETE","/post/comment",{id_post:e,id_account:t,id_comment:n,id_reply:a});case 2:d=r.sent,console.log(d),200===(null===d||void 0===d?void 0:d.status)?(o&&o(!1),i&&i(!1),c&&c(!0),s&&s({text:"X\xf3a b\xecnh lu\u1eadn th\xe0nh c\xf4ng"}),setTimeout((function(){c&&c(!1)}),6e3)):(c&&c(!0),s&&s({text:"X\xf3a b\xecnh lu\u1eadn th\u1ea5t b\u1ea1i"}),setTimeout((function(){c&&c(!1)}),6e3));case 6:case"end":return r.stop()}}),l)})))}(t,n,a,i,o,c,s,d))}}}))((function(e){var t=e.dataDetailPost,n=e.setOpenUiUpdatePost,i=e.dataCommentPost,o=e.setOpenUpdateCmt,c=e.setOpenToastDetails,s=e.setValueToastDetails,r=Object(a.useState)(!1),l=Object(d.a)(r,2),u=l[0],b=l[1],j=Object(a.useState)(!1),m=Object(d.a)(j,2),h=m[0],v=m[1],f=function(){e.onCloseForm(!1),v(!1)};return Object(se.jsxs)("div",{children:[Object(se.jsx)(xe,{openFromAddNews:h,onCloseForm:f,dataDetailPost:t,setOpenFormAddNews:v,setOpenUiUpdatePost:n}),u&&Object(se.jsx)(re,{}),Object(se.jsx)("div",{className:"backgroundUpdatePost",children:Object(se.jsxs)("div",{className:"backgroundUpdatePost_form",children:[Object(se.jsx)("div",{className:"backgroundUpdatePost_form-item",style:{fontWeight:"bold",color:"red"},onClick:function(){return b(!0),void e.removeCommentRequest(null===t||void 0===t?void 0:t.id_post,null===i||void 0===i?void 0:i.id_account,null===i||void 0===i?void 0:i.id_comment,null===i||void 0===i?void 0:i.id_reply,o,b,c,s)},children:"X\xf3a"}),Object(se.jsx)("div",{className:"backgroundUpdatePost_form-item",onClick:function(){v(!0)},children:"Ch\u1ec9nh s\u1eeda b\xecnh lu\u1eadn"}),Object(se.jsx)("div",{className:"backgroundUpdatePost_form-item",onClick:function(){return f()},children:"H\u1ee7y"})]})})]})}));var Me=Object(b.b)((function(e){return{getDetailPost:e.DetailsPost}}),(function(e){return{getPostRequestByIdPost:function(t,n,a){e(function(e,t,n){return function(){var e=Object(l.a)(r.a.mark((function e(a){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","/post/byId?postId=".concat(t),null);case 3:i=e.sent,n&&n(!1),a(te(null===i||void 0===i?void 0:i.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(0,n,a))},likePostRequest:function(t,n,a,i){e(ie(t,n,a,i))},commentPostRequest:function(t,n,a,i,o,c){e(ae(t,n,a,i,o,c))},commentReplyPostRequest:function(t,n,a,i,o,c,s){e(function(e,t,n,a,i,o,c){return function(){var s=Object(l.a)(r.a.mark((function s(l){var d;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,I("POST","/post/replyComment",{id_post:e,id_owner:t,id_comment:n,id_account:a,contentHtml:i,mentionList:o});case 3:(null===(d=s.sent)||void 0===d?void 0:d.status)>=200&&(null===d||void 0===d?void 0:d.status)<300&&c&&c(!1),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(e){return s.apply(this,arguments)}}()}(t,n,a,i,o,c,s))}}}))((function(e){var t,n,i=e.dataDetailsPost,o=e.getDetailPost,s=e.typePost,b=e.setOpenDetailsPost,j=e.setOpenToast,m=e.setValueToast,h=(new u.a).get("user"),v=Object(a.useState)([]),f=Object(d.a)(v,2),p=f[0],O=f[1],x=Object(a.useState)(!0),g=Object(d.a)(x,2),y=g[0],N=g[1],_=Object(a.useState)(!0),k=Object(d.a)(_,2),w=k[0],C=k[1],S=Object(a.useState)(""),T=Object(d.a)(S,2),E=T[0],P=T[1],R=Object(a.useState)(null),I=Object(d.a)(R,2),A=I[0],D=I[1],U=Object(a.useState)(!1),B=Object(d.a)(U,2),F=B[0],q=B[1],H=Object(a.useState)(!1),L=Object(d.a)(H,2),M=L[0],G=L[1],z=Object(a.useState)({id:"",idComment:"",username:""}),V=Object(d.a)(z,2),Y=V[0],X=V[1],W=Object(a.useState)([]),Q=Object(d.a)(W,2),Z=Q[0],J=Q[1],K=Object(a.useState)([]),$=Object(d.a)(K,2),ee=$[0],te=$[1],ne=Object(a.useState)(!1),ae=Object(d.a)(ne,2),ie=ae[0],oe=ae[1],ce=Object(a.useState)([]),re=Object(d.a)(ce,2),le=re[0],de=re[1],ue=Object(a.useState)(null),be=Object(d.a)(ue,2),je=be[0],me=be[1],ve=Object(a.useState)(!1),Oe=Object(d.a)(ve,2),xe=Oe[0],ye=Oe[1],Ne=Object(a.useState)({text:null}),ke=Object(d.a)(Ne,2),we=ke[0],Ce=ke[1];Object(a.useEffect)((function(){var t,n=null===i||void 0===i?void 0:i.id_post;y&&e.getPostRequestByIdPost(C,n,G),N(!1),D(o[0]);var a=[];if(null===(t=o[0])||void 0===t?void 0:t.likes){for(var s=0,u=Object.entries(null===(b=o[0])||void 0===b?void 0:b.likes);s<u.length;s++){var b;Object(d.a)(u[s],1)[0]===h&&a.push(null===i||void 0===i?void 0:i.id_post)}O(he.a.uniqWith(a,he.a.isEqual))}try{var j=He.ref("/social_network"),m=j.child("users"),v=j.child("posts"),f=function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},void 0!==t){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,m.child(t).once("value",(function(e){if(null!==e.val()){var t=e.val(),a=t.username,i=t.imageSrc;n={username:a,accountImage:i}}}));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},void 0!==t&&void 0!==n){e.next=3;break}return e.abrupt("return",a);case 3:return e.next=5,v.child("".concat(t,"/comments")).child(n).once("value",(function(e){a={id_comment:e.key}}));case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(function(){var e=Object(l.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,v.child("".concat(n)).on("value",function(){var e=Object(l.a)(r.a.mark((function e(i){var o,s,l,u,b,j,m,h,v,O,x,g,y,N,_,k,w,S,T,E,P,R,I,A,D,U;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=[],u=[],b=[],te(i.val()),null===(o=i.val())||void 0===o?void 0:o.likes)for(j=0,m=Object.entries(null===(h=i.val())||void 0===h?void 0:h.likes);j<m.length;j++)v=Object(d.a)(m[j],1),O=v[0],b.push(O);if(!(null===(s=i.val())||void 0===s?void 0:s.comments)){e.next=36;break}x=0,g=Object.entries(null===(y=i.val())||void 0===y?void 0:y.comments);case 7:if(!(x<g.length)){e.next=36;break}return _=Object(d.a)(g[x],2),k=_[0],w=_[1],e.next=11,p(n,k);case 11:return S=e.sent,e.next=14,f(null===w||void 0===w?void 0:w.id_account);case 14:return T=e.sent,e.next=17,Object(c.a)(Object(c.a)(Object(c.a)({},w),T),S);case 17:if(t=e.sent,l.push(t),!(null===(N=t)||void 0===N?void 0:N.reply)){e.next=33;break}E=0,P=Object.entries(null===(R=t)||void 0===R?void 0:R.reply);case 21:if(!(E<P.length)){e.next=33;break}return I=Object(d.a)(P[E],2),A=I[0],D=I[1],e.next=25,f(null===D||void 0===D?void 0:D.id_account);case 25:return U=e.sent,e.next=28,Object(c.a)(Object(c.a)(Object(c.a)({id_reply:A},D),U),S);case 28:a=e.sent,u.push(a);case 30:E++,e.next=21;break;case 33:x++,e.next=7;break;case 36:J(l),de(u),C(!1);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(x){console.log(x)}}),[y,i,h,e,o]);var Se=function(e,t){X({id:null===e||void 0===e?void 0:e.id_account,idComment:t||(null===e||void 0===e?void 0:e.id),username:null===e||void 0===e?void 0:e.username})},Te=function(e){q(e),oe(e)},Ee=function(e){oe(!0),me(e)};return Object(se.jsxs)("div",{children:[F&&Object(se.jsx)(Ue,{onCloseForm:Te,dataDetailPost:A,setOpenUiUpdatePost:q,setOpenDetailsPost:b,setOpenToast:j,setValueToast:m}),ie&&Object(se.jsx)(Le,{onCloseForm:Te,dataDetailPost:A,dataCommentPost:je,setOpenUpdateCmt:oe,setOpenToastDetails:ye,setValueToastDetails:Ce}),Object(se.jsx)("div",{style:{width:150,position:"fixed",bottom:70,left:50,zIndex:9999},children:xe&&Object(se.jsx)(ge.a,{message:null===we||void 0===we?void 0:we.text})}),Object(se.jsxs)("div",{className:"backgroundPost",children:[Object(se.jsx)("i",{className:"fas fa-times",id:"iconClosePost",onClick:function(){e.onCloseForm()}}),w&&Object(se.jsx)(Fe,{actionTypes:"detailsPost"}),!w&&Object(se.jsxs)("div",{className:"backgroundPost_form",children:[Object(se.jsx)("div",{className:"backgroundPost_form-left",children:Object(se.jsx)(De.Slide,{autoplay:!1,style:{width:"100%",height:"100%"},transitionDuration:300,arrows:1!==(null===A||void 0===A||null===(t=A.imageSrc)||void 0===t?void 0:t.lenght),children:null===ee||void 0===ee||null===(n=ee.imageSrc)||void 0===n?void 0:n.map((function(e,t){return Object(se.jsx)("img",{src:e,alt:"",id:"backgroundPost_form-left"},t)}))})}),Object(se.jsxs)("div",{className:"backgroundPost_form-right",children:[Object(se.jsxs)("div",{className:"form_right-top",children:[Object(se.jsx)("div",{className:"right_top-avt",children:Object(se.jsx)("img",{src:null===A||void 0===A?void 0:A.accountImage,alt:"",id:"right_top-avt"})}),Object(se.jsx)("div",{className:"right_top-title",children:null===A||void 0===A?void 0:A.username}),(null===A||void 0===A?void 0:A.id_account)===h&&Object(se.jsx)("div",{className:"right_top-function",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-v",id:"right_top-function",onClick:function(){q(!0)}})})]}),Object(se.jsxs)("div",{className:""!==Y.id?"form_right-body-reply":"form_right-body",children:[Object(se.jsxs)("div",{className:"right_body-item",children:[Object(se.jsx)("div",{className:"body_item-left",children:Object(se.jsx)("img",{src:null===A||void 0===A?void 0:A.accountImage,alt:"",id:"body_item-left"})}),Object(se.jsx)("div",{className:"body_item-right",children:Object(se.jsxs)("div",{className:"item_right-name",children:[Object(se.jsx)("a",{href:"#",id:"right_name-a",children:null===A||void 0===A?void 0:A.username}),Object(se.jsx)("p",{id:"right_name-p",children:null===ee||void 0===ee?void 0:ee.content}),Object(se.jsxs)("span",{id:"right_name-span",children:[" ",Ae(null===A||void 0===A?void 0:A.timestamp)," "]})]})})]}),null===Z||void 0===Z?void 0:Z.map((function(e,t){return Object(se.jsxs)("div",{className:"right_body-comment",children:[Object(se.jsxs)("div",{className:"body_comment-user",children:[Object(se.jsx)("div",{className:"comment_user-left",children:Object(se.jsx)("img",{src:null===e||void 0===e?void 0:e.accountImage,alt:"",id:"user_left-img"})}),Object(se.jsxs)("div",{className:"comment_user-right",children:[Object(se.jsxs)("div",{className:"user_right-comment",children:[Object(se.jsxs)("div",{className:"right_comment-top",children:[Object(se.jsx)("a",{href:"#",id:"user_right-a",children:null===e||void 0===e?void 0:e.username}),Object(se.jsx)("p",{id:"user_right-p",children:_e()(null===e||void 0===e?void 0:e.content)})]}),Object(se.jsxs)("div",{className:"right_comment-bottom",children:[Object(se.jsx)("p",{id:"comment_bottom-time",children:Ae(null===e||void 0===e?void 0:e.timestamp)}),Object(se.jsx)("span",{id:"comment_bottom-heart",children:"1 l\u01b0\u1ee3t th\xedch"}),Object(se.jsx)("span",{id:"comment_bottom-reply",onClick:function(){return Se(e,null===e||void 0===e?void 0:e.id_comment)},children:"Tr\u1ea3 l\u1eddi"})]})]}),Object(se.jsx)("div",{className:"user_right-heart",children:(null===e||void 0===e?void 0:e.id_account)===h&&Object(se.jsx)("i",{className:"fas fa-ellipsis-v",id:"right_heart-icon",onClick:function(){return Ee(e)}})})]})]}),le&&Object(se.jsxs)("div",{className:"reply_comment",children:[Object(se.jsx)("div",{className:"reply_comment-left"}),Object(se.jsx)("div",{className:"reply_comment-right",children:void 0!==le&&Object.values(le).map((function(t,n){return Object(se.jsx)("div",{children:(null===t||void 0===t?void 0:t.id_comment)===(null===e||void 0===e?void 0:e.id_comment)&&Object(se.jsxs)("div",{style:{marginTop:"15px"},children:[Object(se.jsxs)("div",{className:"comment_right-all",children:[Object(se.jsx)("div",{className:"right_all-left",children:Object(se.jsx)("img",{src:null===t||void 0===t?void 0:t.accountImage,alt:"",id:"all_left-img"})}),Object(se.jsxs)("div",{className:"right_all-right",children:[Object(se.jsx)("div",{className:"all_right-comment",children:Object(se.jsxs)("p",{id:"all_right-content",children:[Object(se.jsx)("b",{children:null===t||void 0===t?void 0:t.username}),Object(se.jsx)("br",{}),_e()(null===t||void 0===t?void 0:t.content)]})}),Object(se.jsx)("div",{className:"all_right-heart",children:(null===t||void 0===t?void 0:t.id_account)===h&&Object(se.jsx)("i",{className:"fas fa-ellipsis-v",id:"right_heart-icon",onClick:function(){return Ee(t)}})})]})]}),Object(se.jsxs)("div",{className:"right_comment-bottom-reply",style:{marginLeft:43},children:[Object(se.jsxs)("p",{id:"comment_bottom-time",children:[" ",Ae(null===t||void 0===t?void 0:t.timestamp)]}),Object(se.jsx)("span",{id:"comment_bottom-heart",children:"1 l\u01b0\u1ee3t th\xedch"}),Object(se.jsx)("span",{id:"comment_bottom-reply",onClick:function(){return Se(t,null===e||void 0===e?void 0:e.id_comment)},children:"Tr\u1ea3 l\u1eddi"})]})]})},n)}))})]})]},t)}))]}),Object(se.jsxs)("div",{className:""!==Y.id?"form_right-bottom-reply":"form_right-bottom",children:[Object(se.jsxs)("div",{className:"right_bottom-top",style:""!==Y.id?{height:"50%"}:{height:" 70%"},children:[Object(se.jsxs)("div",{className:"bottom_top-top",children:[Object(se.jsxs)("div",{className:"top_top-itemLeft",children:[Object(se.jsx)("i",{className:"far fa-heart",id:"top_top-item",onClick:function(){return function(){var t=[];t=[].concat(Object(fe.a)(p),[null===i||void 0===i?void 0:i.id_post]),p.includes(null===i||void 0===i?void 0:i.id_post)&&(t=p.filter((function(e){return e!==(null===i||void 0===i?void 0:i.id_post)}))),O(t),i&&e.likePostRequest(null===i||void 0===i?void 0:i.id_post,null===i||void 0===i?void 0:i.id_account,h,s)}()},style:p.includes(null===i||void 0===i?void 0:i.id_post)?{fontWeight:"bold",color:"rgb(237, 73, 86)"}:null}),Object(se.jsx)("i",{className:"far fa-comment",id:"top_top-item"}),Object(se.jsx)("i",{className:"far fa-paper-plane",id:"top_top-item"})]}),Object(se.jsx)("div",{className:"top_top-itemRight",children:Object(se.jsx)("i",{className:"far fa-calendar-check",id:"top_top-item"})})]}),Object(se.jsx)("div",{className:"bottom_top-body",children:Object(se.jsxs)("p",{id:"top_body-heart",children:[he.a.size(null===A||void 0===A?void 0:A.likes)," l\u01b0\u1ee3t th\xedch"]})}),Object(se.jsx)("div",{className:"bottom_top-bottom",children:Object(se.jsx)("p",{id:"top_body-time",children:Ae(null===A||void 0===A?void 0:A.timestamp)})})]}),""!==Y.id?Object(se.jsxs)("div",{className:"bottom_bottom-showUser",children:[Object(se.jsx)("i",{className:"fas fa-times",id:"bottom_showUser-close",onClick:function(){X({id:"",idComment:"",username:""})}}),"\u0110ang tr\u1ea3 l\u1eddi: ",Object(se.jsx)("b",{children:null===Y||void 0===Y?void 0:Y.username})]}):Object(se.jsx)("div",{}),Object(se.jsxs)("div",{className:"right_bottom-bottom",style:Y?{height:"25%"}:{height:"30%"},children:[Object(se.jsxs)("div",{className:"bottom_bottom-left",children:[M&&Object(se.jsx)(pe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{position:"absolute",top:0,right:0,fontSize:10,zIndex:1e4}}),Object(se.jsx)("textarea",{name:"",cols:"30",rows:"10",id:"bottom_left-input",placeholder:"Nh\u1eadp b\xecnh lu\u1eadn...",onChange:function(e){return function(e){var t=e.target.value;P(t)}(e)},value:E})]}),Object(se.jsx)("div",{className:"bottom_bottom-right",onClick:function(){return G(!0),""===Y.id?e.commentPostRequest(null===i||void 0===i?void 0:i.id_post,null===i||void 0===i?void 0:i.id_account,h,E,[null===i||void 0===i?void 0:i.id_account],G):e.commentReplyPostRequest(null===A||void 0===A?void 0:A.id_post,null===Y||void 0===Y?void 0:Y.id,null===Y||void 0===Y?void 0:Y.idComment,h,'@<a href="personal/'.concat(null===Y||void 0===Y?void 0:Y.username,'">').concat(null===Y||void 0===Y?void 0:Y.username,"</a> ").concat(E),[null===Y||void 0===Y?void 0:Y.id],G),P(""),void X({id:"",idComment:"",username:""})},children:"\u0110\u0103ng"})]})]})]})]})]})]})}));var Ge=Object(Pe.a)(Object(b.b)((function(e){return{dataPost:e.PostById}}),(function(e){return{getPostRequestById:function(t,n){e($(t,n))}}}))((function(e){var t,n=e.dataPost,i=Object(a.useState)(!1),o=Object(d.a)(i,2),c=o[0],s=o[1],r=Object(a.useState)(null),l=Object(d.a)(r,2),u=l[0],b=l[1],j=Object(a.useState)(!1),m=Object(d.a)(j,2),h=m[0],v=m[1],f=Object(a.useState)({text:null}),p=Object(d.a)(f,2),O=p[0],x=p[1];return Object(se.jsxs)("div",{children:[c&&Object(se.jsx)(Me,{dataDetailsPost:u,onCloseForm:function(e){s(e)},typePost:"postById",setOpenDetailsPost:s,setOpenToast:v,setValueToast:x}),Object(se.jsx)("div",{style:{width:150,position:"fixed",bottom:70,left:50},children:h&&Object(se.jsx)(ge.a,{message:null===O||void 0===O?void 0:O.text})}),Object(se.jsx)("div",{className:"bodyContainer_bottom",children:null===(t=he.a.orderBy(n,["timestamp"],["desc"]))||void 0===t?void 0:t.map((function(e,t){return Object(se.jsx)("div",{children:Object(se.jsx)("div",{className:"bodyContainer_bottom-item",children:Object(se.jsx)("img",{src:null===e||void 0===e?void 0:e.imageSrc[0],alt:"",id:"bottom_item-img",onClick:function(){return t=e,s(!0),void b(t);var t}})})},t)}))})]})})));var ze=Object(b.b)((function(e){return{dataUserApi:e.MyPersonal,dataPost:e.PostById,dataUser:e.User}}),(function(e){return{getPersonalByMeRequest:function(t,n){e(L(t,n))},followFriendRequest:function(t,n,a){e(W(t,n,a))}}}))((function(e){var t,n,i=e.history,o=e.dataUserApi,c=e.dataPost,s=new u.a,b=s.get("user"),j=s.get("username"),m=Object(a.useState)(!0),h=Object(d.a)(m,2),v=h[0],f=h[1],p=Object(a.useState)(null),O=Object(d.a)(p,2),x=O[0],g=O[1],y=Object(a.useState)(0),N=Object(d.a)(y,2),_=N[0],k=N[1],w=window.location.href.slice(31),C=Object(a.useState)(!0),S=Object(d.a)(C,2),T=S[0],E=S[1],P=null===i||void 0===i||null===(t=i.location)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.username,R=Object(a.useState)(0),I=Object(d.a)(R,2),A=I[0],D=I[1],U=Object(a.useState)(!1),B=Object(d.a)(U,2),F=B[0],q=B[1],H=Object(a.useState)(null),L=Object(d.a)(H,2),M=L[0],G=L[1],z=Object(a.useState)(!1),V=Object(d.a)(z,2),Y=V[0],X=V[1],W=Object(a.useState)(!1),Q=Object(d.a)(W,2),Z=Q[0],J=Q[1],K=Object(a.useState)(!1),$=Object(d.a)(K,2),ee=$[0],te=$[1],ne=Object(a.useState)(!1),ae=Object(d.a)(ne,2),ie=ae[0],oe=ae[1],ce=Object(a.useState)(!1),re=Object(d.a)(ce,2),le=re[0],de=re[1],ue=Object(a.useState)({text:null}),be=Object(d.a)(ue,2),je=be[0],me=be[1];Object(a.useEffect)((function(){if(b)try{console.log(i),function(){var t=Object(l.a)(r.a.mark((function t(){var n,a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.location.state){t.next=8;break}if(t.t0=v,!t.t0){t.next=5;break}return t.next=5,e.getPersonalByMeRequest(E,i.location.pathname.slice(10));case 5:f(!1),t.next=14;break;case 8:if(!v){t.next=14;break}if(t.t1=w,!t.t1){t.next=13;break}return t.next=13,e.getPersonalByMeRequest(E,w);case 13:f(!1);case 14:if(n=0,null===c||void 0===c||c.forEach((function(e){(null===e||void 0===e?void 0:e.id_account)===(null===o||void 0===o?void 0:o.id)&&(n+=1)})),k(n),g(o),he.a.isEmpty(o)||(null===o||void 0===o?void 0:o.username)===j){t.next=34;break}if(he.a.isEmpty(null===o||void 0===o?void 0:o.followers)){t.next=33;break}a=0;case 21:if(!(a<he.a.size(null===o||void 0===o?void 0:o.followers))){t.next=31;break}if((null===o||void 0===o||null===(s=o.followers[a])||void 0===s?void 0:s.username)!==j){t.next=27;break}return G(1),t.abrupt("return");case 27:G(-1);case 28:a++,t.next=21;break;case 31:t.next=34;break;case 33:G(-1);case 34:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}catch(t){console.log(t)}else i.push("/")}),[o,w,i,b,v,e,j,c]);var fe=[{id:1,name1:"",name2:"ng\u01b0\u1eddi theo d\xf5i ",follow:he.a.size(null===x||void 0===x?void 0:x.followers)},{id:2,name1:"\u0110ang theo d\xf5i ",name2:" ng\u01b0\u1eddi d\xf9ng",follow:he.a.size(null===x||void 0===x?void 0:x.following)}],Oe=function(e){X(e),q(e),oe(e),te(e),J(e)};return Object(se.jsxs)("div",{children:[Object(se.jsx)(Te,{openEditPersonal:ee,onCloseForm:Oe}),Object(se.jsx)(ye,{dataUser:x,openChangeAvt:F,onCloseForm:Oe,history:i,getDataUrl:w,userHistory:P}),Object(se.jsx)(xe,{openFromAddNews:Y,setOpenFormAddNews:X,onCloseForm:Oe,setOpenToast:de,setValueToast:me}),T&&Object(se.jsx)(pe.LinearProgress,{color:"#d82b7d",duration:1,height:3,percent:75,showValue:!0,valuePosition:"top",style:{position:"fixed",top:0,left:0,zIndex:1e4}}),Z&&Object(se.jsx)(ke,{onCloseForm:Oe}),Object(se.jsx)("div",{style:{width:150,position:"fixed",bottom:70,left:50,zIndex:9999},children:le&&Object(se.jsx)(ge.a,{message:null===je||void 0===je?void 0:je.text})}),function(e){switch(A){case 1:return ie&&Object(se.jsx)(Ee,{onCloseForm:Oe,name:fe[0].name2,dataFollow:null===x||void 0===x?void 0:x.followers,setOpenContentFollow:oe});case 2:return ie&&Object(se.jsx)(Ee,{onCloseForm:Oe,name:fe[1].name1,dataFollow:null===x||void 0===x?void 0:x.following,setOpenContentFollow:oe});default:return ie&&Object(se.jsx)(Ee,{})}}(),Object(se.jsx)("div",{className:"bodyContainer",children:Object(se.jsxs)("div",{className:"bodyContainer_top",children:[Object(se.jsx)("div",{className:"bodyContainer_top-left",children:Object(se.jsx)("div",{className:"bodyContainer_top_left-top",children:Object(se.jsx)("img",{src:null===x||void 0===x?void 0:x.imageSrc,alt:"",id:"avt_main",onClick:function(){q(!0)}})})}),Object(se.jsxs)("div",{className:"bodyContainer_top-right",children:[Object(se.jsxs)("div",{className:"bodyContainerTop_right-top",children:[Object(se.jsx)("div",{className:"right_top-left",children:Object(se.jsx)("h2",{id:"top_left-h2",children:null===x||void 0===x?void 0:x.username})}),Object(se.jsx)("div",{className:"right_top-right",children:b===o.id?Object(se.jsxs)("div",{className:"personal_edit",children:[Object(se.jsx)("div",{onClick:function(){X(!0)},children:Object(se.jsxs)("button",{id:"top_right-message",children:[Object(se.jsx)("i",{className:"fas fa-plus"})," Th\xeam b\xe0i vi\u1ebft"]})}),Object(se.jsx)("div",{className:"right_top-edit",children:Object(se.jsx)("div",{onClick:function(){te(!0)},children:Object(se.jsxs)("button",{id:"top_right-message",children:[Object(se.jsx)("i",{className:"fas fa-user-edit"})," Ch\u1ec9nh s\u1eeda trang c\xe1 nh\xe2n"]})})})]}):-1===M?Object(se.jsx)("div",{className:"addfr",children:Object(se.jsx)("button",{id:"top_right-message",onClick:function(){return E(!0),void e.followFriendRequest(o.id,E,null===o||void 0===o?void 0:o.username)},children:"Theo d\xf5i"})}):Object(se.jsxs)("div",{className:"addfr",children:[Object(se.jsx)(ve.b,{to:{pathname:"/chat",state:{id:o.id,name:o.name,username:o.username,imageSrc:o.imageSrc},id:1},id:"top_right-message",style:{textDecoration:"none",padding:"5px 10px",fontSize:15},children:"Nh\u1eafn tin"}),Object(se.jsxs)("button",{id:"top_right-message",onClick:function(){J(!0)},children:[Object(se.jsx)("i",{className:"fas fa-user"})," \u0110ang theo d\xf5i"]})]})})]}),Object(se.jsxs)("div",{className:"bodyContainerTop_right-body",children:[Object(se.jsxs)("p",{id:"right_body-p",children:[Object(se.jsx)("span",{id:"right_body-bold",children:_})," b\xe0i vi\u1ebft"]}),fe.map((function(e,t){return Object(se.jsxs)("p",{id:"right_body-p",onClick:function(){return t=e.id,oe(!0),void D(t);var t},children:[e.name1,Object(se.jsx)("span",{id:"right_body-bold",children:e.follow})," ",e.name2]},t)}))]}),Object(se.jsxs)("div",{className:"bodyContainerTop_right-bottom",children:[Object(se.jsx)("p",{id:"right_body-bold",children:null===x||void 0===x?void 0:x.name}),_e()(null===x||void 0===x?void 0:x.description)]})]})]})}),Object(se.jsx)(Ge,{idDataUserApi:null===o||void 0===o?void 0:o.id})]})}));var Ve=function(e){var t=e.history;return Object(se.jsx)("div",{children:Object(se.jsx)(ze,{history:t})})};n(353),n(354);var Ye=Object(b.b)((function(e){return{dataPost:e.Post}}),(function(e){return{getPostRequest:function(t,n){e(J(t,n))},likePostRequest:function(t,n,a,i){e(ie(t,n,a,i))},commentPostRequest:function(t,n,a,i,o,c){e(ae(t,n,a,i,o,c))}}}))((function(e){var t,n=e.dataPost,i=(new u.a).get("user"),o=Object(a.useState)(""),c=Object(d.a)(o,2),s=c[0],r=c[1],l=Object(a.useState)(""),b=Object(d.a)(l,2),j=b[0],m=b[1],h=Object(a.useState)([]),v=Object(d.a)(h,2),f=v[0],p=v[1],O=Object(a.useState)(!0),x=Object(d.a)(O,2),g=x[0],y=x[1],N=Object(a.useState)(!0),_=Object(d.a)(N,2),k=_[0],w=_[1],C=Object(a.useState)(null),S=Object(d.a)(C,2),T=(S[0],S[1]),E=Object(a.useState)(null),P=Object(d.a)(E,2),R=P[0],I=P[1],A=Object(a.useState)(!1),D=Object(d.a)(A,2),U=D[0],B=D[1],F=Object(a.useState)(!1),q=Object(d.a)(F,2),H=q[0],L=q[1];return Object(a.useEffect)((function(){i&&g&&e.getPostRequest(w,i),y(!1),T(n);var t=[];null===n||void 0===n||n.forEach((function(e){if(null===e||void 0===e?void 0:e.likes)for(var n=0,a=Object.entries(e.likes);n<a.length;n++){Object(d.a)(a[n],1)[0]===i&&t.push(null===e||void 0===e?void 0:e.id_post)}})),p(he.a.uniqWith(t,he.a.isEqual))}),[e,i,g,null===n||void 0===n?void 0:n.id_account,n,s]),Object(se.jsxs)("div",{children:[U&&Object(se.jsx)(Me,{dataDetailsPost:R,onCloseForm:function(e){B(e)},typePost:"allPost",setOpenDetailsPost:B}),k&&Object(se.jsx)(pe.LinearProgress,{color:"#d82b7d",duration:1,height:3,percent:75,showValue:!0,valuePosition:"top",style:{position:"fixed",top:0,left:0,zIndex:1e4}}),k&&Object(se.jsx)(Fe,{actionTypes:"post"}),Object(se.jsx)("div",{id:"scrollableDiv",className:"backgroundItem",children:!k&&(null===(t=he.a.orderBy(n,"timestamp","desc"))||void 0===t?void 0:t.map((function(t,n){var a,o;return Object(se.jsxs)("div",{className:"backgroundItem_form",children:[Object(se.jsxs)("div",{className:"backgroundItem_form-top",children:[Object(se.jsx)("div",{className:"formItem_top-left",children:Object(se.jsx)(ve.b,{to:{pathname:"/personal/".concat(null===t||void 0===t?void 0:t.username),state:t},children:Object(se.jsx)("img",{src:null===t||void 0===t?void 0:t.accountImage,id:"formItem_top-left",alt:""})})}),Object(se.jsx)("div",{className:"formItem_top-body",children:Object(se.jsx)(ve.b,{to:{pathname:"/personal/".concat(null===t||void 0===t?void 0:t.username),state:t},style:{textDecoration:"none",color:"black"},children:null===t||void 0===t?void 0:t.username})}),Object(se.jsx)("div",{className:"formItem_top-right",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-h",id:"formItem_top-right"})})]}),Object(se.jsx)("div",{className:"backgroundItem_form-body",children:Object(se.jsx)(De.Slide,{autoplay:!1,style:{width:"100%",height:"100%"},transitionDuration:300,arrows:1!==(null===t||void 0===t||null===(a=t.imageSrc)||void 0===a?void 0:a.length),children:!he.a.isEmpty(null===t||void 0===t?void 0:t.imageSrc)&&(null===t||void 0===t||null===(o=t.imageSrc)||void 0===o?void 0:o.map((function(e,t){return Object(se.jsx)("img",{src:e,id:"backgroundItem_form-body",alt:""},t)})))})}),Object(se.jsxs)("div",{className:"backgroundItem_form-bottom",children:[Object(se.jsxs)("div",{className:"formItem_bottom-top",children:[Object(se.jsxs)("div",{className:"bottomItem_top-top",children:[Object(se.jsx)("i",{className:"far fa-heart",id:"topItem_top-left",onClick:function(){return function(t,n){var a=[];a=[].concat(Object(fe.a)(f),[t]),f.includes(t)&&(a=f.filter((function(e){return e!==t}))),p(a),e.likePostRequest(t,n,i,L)}(null===t||void 0===t?void 0:t.id_post,null===t||void 0===t?void 0:t.id_account)},style:f.includes(t.id_post)?{fontWeight:"bold",color:"rgb(237, 73, 86)"}:null}),Object(se.jsx)("i",{className:"far fa-comment",id:"topItem_top-left"}),Object(se.jsx)("i",{className:"far fa-paper-plane",id:"topItem_top-left"})]}),0!==he.a.size(null===t||void 0===t?void 0:t.likes)&&Object(se.jsx)("div",{className:"topItem_bottom-bottom",style:{marginBottom:-5},children:Object(se.jsxs)("b",{children:[he.a.size(null===t||void 0===t?void 0:t.likes)," l\u01b0\u1ee3t th\xedch"]})}),Object(se.jsx)("div",{className:"bottomItem_top-body",children:Object(se.jsxs)("p",{id:"bottomItem_top-body",children:[Object(se.jsx)("b",{children:null===t||void 0===t?void 0:t.username}),_e()(null===t||void 0===t?void 0:t.content)]})}),Object(se.jsxs)("div",{className:"bottomItem_top-bottom",children:[0!==(null===t||void 0===t?void 0:t.comments.length)&&Object(se.jsxs)("div",{className:"topItem_bottom-top",onClick:function(){return I(t),void B(!0)},children:["Xem t\u1ea5t c\u1ea3 ",null===t||void 0===t?void 0:t.comments," b\xecnh lu\u1eadn"]}),Object(se.jsx)("div",{className:"topItem_bottom-bottom",children:Object(se.jsx)("p",{id:"topItem_bottom-bottom",children:Ae(null===t||void 0===t?void 0:t.timestamp)})})]})]}),Object(se.jsxs)("div",{className:"formItem_bottom-bottom",children:[Object(se.jsxs)("div",{className:"bottomItem_bottom-left",children:[s===(null===t||void 0===t?void 0:t.id_post)?H&&Object(se.jsx)(pe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{position:"absolute",top:15,right:28,fontSize:10,zIndex:1e4}}):null,Object(se.jsx)("textarea",{name:"comment",id:"bottomItem_bottom-left",placeholder:"Nh\u1eadp b\xecnh lu\u1eadn...",onChange:function(e){return function(e,t){r(t);var n=e.target.value;m(n)}(e,null===t||void 0===t?void 0:t.id_post)},value:s===(null===t||void 0===t?void 0:t.id_post)?j:""})]}),Object(se.jsx)("div",{className:"bottomItem_bottom-right",style:s===(null===t||void 0===t?void 0:t.id_post)?""===j?{color:"#a7dafb"}:{color:"rgba(var(--d69,0,149,246),1)"}:{color:"#a7dafb"},onClick:s===(null===t||void 0===t?void 0:t.id_post)?function(){return function(t){""!==j&&(L(!0),e.commentPostRequest(null===t||void 0===t?void 0:t.id_post,null===t||void 0===t?void 0:t.id_account,i,j,[null===t||void 0===t?void 0:t.id_account],L),m(""))}(t)}:null,children:"\u0110\u0103ng"})]})]})]},n)})))})]})}));n(355);var Xe=Object(b.b)((function(e){return{dataSuggested:e.Home,dataPersonal:e.MyPersonal}}),(function(e){return{suggestedAccountRequest:function(t){e(Q(t))},followFriendRequest:function(t,n){e(W(t,n))}}}))((function(e){var t=e.dataSuggested,n=e.dataPersonal,i=Object(a.useState)(""),o=Object(d.a)(i,2),c=o[0],s=o[1],r=Object(a.useState)(!1),l=Object(d.a)(r,2),u=l[0],b=l[1];return Object(a.useEffect)((function(){var e;null===n||void 0===n||null===(e=n.following)||void 0===e||e.findIndex((function(e){return console.log(e)}))})),Object(se.jsx)("div",{children:t.map((function(t,n){return Object(se.jsxs)("div",{className:"right-bottom-bottom",children:[Object(se.jsx)("div",{className:"avt-sugges",children:Object(se.jsx)("img",{src:t.imageSrc,alt:"",id:"avt-sugges"})}),Object(se.jsx)("div",{className:"name-sugges",children:Object(se.jsx)(ve.b,{to:{pathname:"/personal/".concat(null===t||void 0===t?void 0:t.username),state:t},id:"name-sugges",children:Object(se.jsx)("p",{children:t.username})})}),Object(se.jsxs)("div",{className:"follow-sugges",children:[Object(se.jsx)("p",{id:"follow-sugges",onClick:function(){return n=t,b(!0),s(n.id),void e.followFriendRequest(n.id,b);var n},children:"Theo d\xf5i"}),u&&c===(null===t||void 0===t?void 0:t.id)&&Object(se.jsx)(pe.CircularProgress,{color:"#f26e41",direction:"bottom",percent:100,percentColor:"#0095ff",size:"extraSmall",strokeWidth:10,style:{position:"absolute",top:-4,right:-30,fontSize:10,zIndex:1e4}})]})]},n)}))})}));var We=Object(b.b)((function(e){return{isLogin:e.User.dataUser,dataAllUser:e.User.dataAllUser,dataUser:e.Personal}}),(function(e){return{personalRequest:function(t,n){e(V(t,n))}}}))((function(e){var t=e.history,n=e.dataUser,i=new u.a,o=i.get("username"),c=i.get("imageSrc"),s=Object(a.useState)(!0),r=Object(d.a)(s,2),l=r[0],b=r[1],j=Object(a.useState)(!1),m=Object(d.a)(j,2),h=(m[0],m[1]);return Object(a.useEffect)((function(){i.get("user")||t.push("/login"),l&&e.personalRequest(h,o),b(!1)}),[i,t,e,o,l]),Object(se.jsx)("div",{children:Object(se.jsx)("div",{className:"body-content",children:Object(se.jsxs)("div",{className:"body-container",children:[Object(se.jsx)(Ye,{}),Object(se.jsx)("div",{className:"content-right",children:Object(se.jsxs)("div",{className:"item-right",children:[Object(se.jsxs)("div",{className:"right-top",children:[Object(se.jsx)("div",{className:"avt-right",children:Object(se.jsx)(ve.b,{to:{pathname:"/personal/".concat(o),state:n},children:Object(se.jsx)("img",{src:c,alt:"",id:"avt-right"})})}),Object(se.jsx)("div",{className:"p-avt-right",children:Object(se.jsx)(ve.b,{to:{pathname:"/personal/".concat(o),state:n},id:"p-avt-right",children:Object(se.jsx)("p",{children:o})})})]}),Object(se.jsxs)("div",{className:"right-bottom",children:[Object(se.jsxs)("div",{className:"right-bottom-top",children:[Object(se.jsx)("div",{className:"suggestion",children:Object(se.jsx)("span",{id:"suggestion",children:"G\u1ee3i \xfd cho b\u1ea1n"})}),Object(se.jsx)("div",{className:"watch-all",children:Object(se.jsxs)("a",{href:"#",id:"watch-all",style:{display:"none"},children:[" ",Object(se.jsx)("p",{children:"Xem t\u1ea5t c\u1ea3"})]})})]}),Object(se.jsx)(Xe,{})]})]})})]})})})}));var Qe=function(e){var t=e.history;return Object(se.jsx)("div",{children:Object(se.jsx)(We,{history:t})})},Ze=(n(356),n(357),n.p+"static/media/duc.56b931d0.jpg");var Je=function(e){var t=e.isOpenEditChat,n=Object(a.useState)(!1),i=Object(d.a)(n,2),o=i[0],c=i[1];return Object(se.jsxs)("div",{style:t?{display:"block"}:{display:"none"},children:[Object(se.jsx)("div",{className:"backgroundEditName",style:o?{display:"block"}:{display:"none"},children:Object(se.jsxs)("div",{className:"backgroundEditName_form",children:[Object(se.jsx)("input",{type:"text",name:"name",id:"editName_input",placeholder:"Nh\u1eadp t\xean...."}),Object(se.jsx)("i",{className:"fas fa-times",id:"formChageName_close",onClick:function(){c(!1)}})]})}),Object(se.jsx)("div",{className:"backgroundEditChat",children:Object(se.jsxs)("div",{className:"backgroundEditChat_form",children:[Object(se.jsx)("div",{className:"backgroundEditChat_form-top",children:"Th\xf4ng tin chi ti\u1ebft"}),Object(se.jsxs)("div",{className:"backgroundEditChat_form-body",children:[Object(se.jsx)("div",{className:"formEditChat_body-top",children:"Th\xe0nh vi\xean"}),Object(se.jsx)("div",{className:"formEditChat_body-bottom",children:Object(se.jsx)("div",{className:"fromEditChat_wrapper",children:Object(se.jsxs)("div",{className:"bodyEditChat_bottom-item",children:[Object(se.jsx)("div",{className:"bottomEditChat_item-left",children:Object(se.jsx)("img",{src:Ze,id:"itemLeft_img",alt:""})}),Object(se.jsxs)("div",{className:"bottomEditChat_item-right",children:[Object(se.jsx)("div",{className:"itemEditChat_right-top",children:"aaaa"}),Object(se.jsx)("div",{className:"itemEditChat_right-bottom",children:"aaaa"})]}),Object(se.jsx)("i",{className:"far fa-edit",id:"bottomEditChat_item-edit"})]})})})]}),Object(se.jsxs)("div",{className:"backgroundEditChat_form-bottom",children:[Object(se.jsx)("div",{className:"formEditChat_bottom-item",onClick:function(){c(!0)},children:"S\u1eeda t\xean \u0111o\u1ea1n chat"}),Object(se.jsx)("div",{className:"formEditChat_bottom-item",style:{fontWeight:"bold",color:"red"},children:"R\u1eddi kh\u1ecfi nh\xf3m"}),Object(se.jsx)("div",{className:"formEditChat_bottom-item",onClick:function(){e.onCloseForm(!1)},children:"H\u1ee7y"})]})]})})]})},Ke=n(242);n(504);var $e=function(e){var t,n=e.openGroupChat,i=e.dataUser,o=Object(a.useState)([]),c=Object(d.a)(o,2),s=c[0],u=c[1],b=Object(a.useState)([]),j=Object(d.a)(b,2),m=j[0],h=j[1];Object(a.useEffect)((function(){!he.a.isEmpty(m)&&1===m.length&&e.arrDataItemChoose({id:m[0].id_account,name:m[0].name,username:m[0].username,imageSrc:m[0].imageSrc})}),[m,e]);var v=function(){var t=Object(l.a)(r.a.mark((function t(){var n,a,o,c,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],null===i||void 0===i||i.following.forEach((function(e){1===s.length?e.id_account===s[0]&&n.push(e):s.forEach((function(t){t===e.id_account&&n.push(e)}))})),h(n),e.onCloseForm(),a={},o={},c=[],n.forEach((function(e){a={name:e.name,id:e.id_account,username:e.username,imageSrc:e.imageSrc},o[a.id]=a,c.push(e.username)})),o[i.id]={name:i.name,id:i.id,username:i.username,imageSrc:i.imageSrc},c.push(i.username),t.next=12,He.ref("chat_info").push();case 12:return l=t.sent.getKey(),t.next=15,He.ref("chat_info/".concat(l)).set({containId:o,idRoom:l,imageSrc:"https://images.vexels.com/media/users/3/132363/isolated/preview/a31cc22b4b43c6dacdf885948f886f7c-support-blue-circle-icon-by-vexels.png",username:c.toString(),name:"Nh\u1eafn tin tr\xf2 chuy\u1ec7n c\xf9ng b\u1ea1n b\xe8 nh\xe9"});case 15:return t.next=17,He.ref("chat_messages/".concat(l)).push({content:"",idUser:null===i||void 0===i?void 0:i.id,name:null===i||void 0===i?void 0:i.name,username:null===i||void 0===i?void 0:i.username,time:Date.now()});case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(se.jsx)("div",{style:n?{display:"block"}:{display:"none"},children:Object(se.jsx)("div",{className:"backgroundGroupChat",children:Object(se.jsxs)("div",{className:"backgroundGroupChat_form",children:[Object(se.jsxs)("div",{className:"backgroundGroupChat_form-top",children:[Object(se.jsx)("div",{className:"formGroupChat_top-left",onClick:function(){e.onCloseForm()},children:Object(se.jsx)("i",{className:"fas fa-times"})}),Object(se.jsx)("div",{className:"formGroupChat_top-body",children:"Tin nh\u1eafn m\u1edbi"}),Object(se.jsx)("div",{className:"formGroupChat_top-right",onClick:he.a.isEmpty(s)?null:function(){return v()},style:he.a.isEmpty(s)?{color:"#b7e1fd"}:{color:"#1ea1f7"},children:"Ti\u1ebfp"})]}),Object(se.jsx)("div",{className:"backgroundGroupChat_form-bottom",children:Object(se.jsx)("div",{className:"formGroupChat_wrapper",children:null===i||void 0===i||null===(t=i.following)||void 0===t?void 0:t.map((function(e,t){return Object(se.jsxs)("div",{className:"formGroupChat_bottom-item",onClick:function(){return function(e){var t=[];t=[].concat(Object(fe.a)(s),[e.id_account]),s.includes(e.id_account)&&(t=s.filter((function(t){return t!==e.id_account}))),u(t)}(e)},children:[Object(se.jsx)("div",{className:"bottomGroupChat_item-left",children:Object(se.jsx)("img",{src:e.imageSrc,alt:"",id:"bottomGroupChat_item-img"})}),Object(se.jsxs)("div",{className:"bottomGroupChat_item-body",children:[Object(se.jsx)("div",{className:"itemGroupChat_body-top",children:e.username}),Object(se.jsx)("div",{className:"itemGroupChat_body-bottom",children:e.name})]}),Object(se.jsx)("div",{className:"bottomGroupChat_item-right",children:Object(se.jsx)("i",{className:"fas fa-check-circle",id:"bottomGroupChat_item-icon",style:{fontWeight:s.includes(e.id_account)?"bold":"300"}})})]},t)}))})})]})})})},et=(n(505),n(33)),tt=n(34),nt="https://api.stringee.com/v1/room2",at=new(function(){function e(t,n){Object(et.a)(this,e),this.projectId=t,this.projectSecret=n,this.restToken=""}return Object(tt.a)(e,[{key:"createRoom",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.random().toFixed(4),e.next=3,R.a.post("".concat(nt,"/create"),{name:t,uniqueName:t},{headers:this._authHeader()});case 3:return n=e.sent,a=n.data,console.log({room:a}),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listRoom",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("".concat(nt,"/list"),{headers:this._authHeader()});case 2:return t=e.sent,n=t.data.list,console.log({rooms:n}),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRoom",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.put("".concat(nt,"/delete"),{roomId:t},{headers:this._authHeader()});case 2:return n=e.sent,console.log({response:n}),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearAllRooms",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t,n,a=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listRoom();case 2:return t=e.sent,e.next=5,Promise.all(t.map((function(e){return a.deleteRoom(e.roomId)})));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setRestToken",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getToken({rest:!0});case 2:return t=e.sent,n=t.rest_access_token,this.restToken=n,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserToken",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getToken({userId:t});case 2:return n=e.sent,e.abrupt("return",n.access_token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRoomToken",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getToken({roomId:t});case 2:return n=e.sent,e.abrupt("return",n.room_token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getToken",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var n,a,i,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,a=t.roomId,i=t.rest,e.next=3,R.a.get("https://v2.stringee.com/web-sdk-conference-samples/php/token_helper.php",{params:{keySid:this.projectId,keySecret:this.projectSecret,userId:n,roomId:a,rest:i}});case 3:return o=e.sent,c=o.data,console.log({tokens:c}),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isSafari",value:function(){var e=navigator.userAgent.toLowerCase();return!e.includes("chrome")&&e.includes("safari")}},{key:"_authHeader",value:function(){return{"X-STRINGEE-AUTH":this.restToken}}}]),e}())("SKlS4RX8A62Wm4X6iJ5FEevuPGmuabInjK","MVFsRUIzelg0MFVuSVlUcmFPVXNSZDBONWpBVDZjcg==");var it=function(e){var t=e.dataCall,n=Object(a.useState)(""),i=Object(d.a)(n,2),o=i[0],c=i[1],s=Object(a.useState)(""),u=Object(d.a)(s,2),b=u[0],j=u[1],m=Object(a.useRef)(void 0),h=Object(a.useRef)(void 0),v=Object(a.useRef)(void 0),f=Object(a.useRef)("");Object(a.useEffect)((function(){(function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,at.setRestToken();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(l.a)(r.a.mark((function e(n){var a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at.getUserToken(null===t||void 0===t?void 0:t.id);case 2:a=e.sent,f.current=a,m.current||((i=new StringeeClient).on("authen",(function(e){console.log("on authen: ",e),n(e)})),m.current=i),m.current.connect(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(r.a.mark((function e(){var t,n,a,i,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,StringeeVideo.createLocalVideoTrack(m.current,{video:!0,audio:!0,videoDimensions:{width:640,height:360}});case 2:return n=e.sent,a=n.attach(),null===(t=document.querySelector("#videosHehe"))||void 0===t||t.appendChild(a),e.next=7,StringeeVideo.joinRoom(m.current,h.current);case 7:return i=e.sent,o=i.room,v.current||(v.current=o,o.clearAllOnMethos(),o.on("addtrack",function(){var e=Object(l.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.info.track).serverId!==n.serverId){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,x(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.on("removetrack",function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.track){e.next=2;break}return e.abrupt("return");case 2:t.track.detach().forEach((function(e){return e.remove()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log(i),null===i||void 0===i||null===(c=i.listTrackInfo)||void 0===c||c.forEach(function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=12,o.publish(n);case 12:console.log("room publish successful");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,null===(n=v.current)||void 0===n?void 0:n.subscribe(null===t||void 0===t?void 0:t.serverId);case 3:null===(a=e.sent)||void 0===a||a.on("ready",Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.attach(),document.querySelector("#videosHehe").appendChild(t);case 2:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at.createRoom();case 2:return t=e.sent,e.next=5,at.getRoomToken(t.roomId);case 5:return n=e.sent,j(t.roomId),c(n),h.current=n,e.next=11,p();case 11:return e.next=13,O();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=prompt("D\xe1n room v\xe0o \u0111\xe2y")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,at.getRoomToken(t);case 5:return n=e.sent,j(t),c(n),h.current=n,e.next=11,p();case 11:return e.next=13,O();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(se.jsx)("div",{children:Object(se.jsxs)("div",{className:"backgroundFaceTime",children:[Object(se.jsx)("h1",{children:b}),Object(se.jsx)("h1",{children:o}),Object(se.jsx)("button",{onClick:function(){return g()},children:"Create room"}),Object(se.jsx)("button",{onClick:function(){return y()},children:"Join room"}),Object(se.jsx)("div",{id:"videosHehe"})]})})},ot=[];var ct=Object(b.b)((function(e){return{dataUser:e.Personal,dataUserApi:e.User}}),(function(e){return{personalRequest:function(t,n){e(V(t,n))}}}))((function(e){var t,n,i,o=e.history,s=e.personalRequest,b=e.dataUser,j=e.dataUserApi,m=Object(a.useRef)([]),h=new u.a,v=Object(a.useState)([]),f=Object(d.a)(v,2),p=f[0],O=f[1],x=h.get("user"),g=Object(a.useState)(""),y=Object(d.a)(g,2),N=y[0],_=y[1],k=h.get("username"),w=Object(a.useState)(""),C=Object(d.a)(w,2),S=C[0],T=C[1],E=Object(a.useState)(!0),P=Object(d.a)(E,2),R=P[0],I=P[1],A=Object(a.useState)(null),D=Object(d.a)(A,2),U=D[0],B=D[1],F=Object(a.useState)([]),q=Object(d.a)(F,2),H=q[0],L=q[1],M=Object(a.useState)(!0),G=Object(d.a)(M,2),z=G[0],V=G[1],Y=Object(a.useState)(null),X=Object(d.a)(Y,2),W=X[0],Q=X[1],Z=Object(a.useState)([]),J=Object(d.a)(Z,2),K=J[0],$=J[1],ee=Object(a.useState)(null),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],ie=Object(a.useState)(null),oe=Object(d.a)(ie,2),ce=oe[0],le=oe[1],de=Object(a.useState)(!1),ue=Object(d.a)(de,2),be=ue[0],je=ue[1],me=Object(a.useState)(null),ve=Object(d.a)(me,2),fe=ve[0],pe=ve[1],Oe=Object(a.useState)(!1),xe=Object(d.a)(Oe,2),ge=xe[0],ye=xe[1],Ne=Object(a.useRef)([]),_e=Object(a.useState)(null),ke=Object(d.a)(_e,2),we=ke[0],Ce=ke[1],Se=Object(a.useState)(!1),Te=Object(d.a)(Se,2),Ee=Te[0],Pe=Te[1];Object(a.useEffect)((function(){if(he.a.isEmpty(null===j||void 0===j?void 0:j.dataAllUser))o.push("/login");else{var e,t="",n=null===o||void 0===o||null===(e=o.location)||void 0===e?void 0:e.state;void 0!==n&&(""!==ne&&ae(n),""!==ce&&le(n.id),ne&&pe(ne),ce&&Q(ce));var a={name:null===b||void 0===b?void 0:b.name,imageSrc:null===b||void 0===b?void 0:b.imageSrc,id:null===b||void 0===b?void 0:b.id,username:null===b||void 0===b?void 0:b.username},i={name:null===fe||void 0===fe?void 0:fe.name,imageSrc:null===fe||void 0===fe?void 0:fe.imageSrc,id:null===fe||void 0===fe?void 0:fe.id,username:null===fe||void 0===fe?void 0:fe.username},u={};u[x]=a,u[null===fe||void 0===fe?void 0:fe.id]=i,$(u);var h=null===m||void 0===m?void 0:m.current.concat(n);L(n?h:null===m||void 0===m?void 0:m.current);try{R&&s(V,k),I(!1),function(){var e=Object(l.a)(r.a.mark((function e(){var a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},i=[],e.next=4,He.ref().child("chat_info").orderByChild("containId/".concat(x,"/id")).equalTo(x).on("value",(function(e){if(null!==e.val())for(var o=0,s=Object.entries(e.val());o<s.length;o++){var r=Object(d.a)(s[o],2),l=r[0],u=r[1];if(2===he.a.size(null===u||void 0===u?void 0:u.containId))for(var b=0,j=Object.entries(null===u||void 0===u?void 0:u.containId);b<j.length;b++){var m=Object(d.a)(j[b],2),h=(m[0],m[1]);(null===h||void 0===h?void 0:h.id)!==x&&(a=Object(c.a)(Object(c.a)({},h),{},{idRoom:l,lastTime:null===u||void 0===u?void 0:u.lastTime}),i.push(a),void 0!==n&&(null===n||void 0===n?void 0:n.id)!==(null===h||void 0===h?void 0:h.id)&&i.push(n),null!==fe&&(null===fe||void 0===fe?void 0:fe.id)===(null===h||void 0===h?void 0:h.id)&&(t=u.idRoom,_(t))),L(he.a.uniqWith(he.a.sortBy(i,["lastTime"],["desc"]),he.a.isEqual))}else i.push(u),L(he.a.uniqWith(i,he.a.isEqual)),null!==fe&&fe.idRoom===u.idRoom&&(t=u.idRoom,_(t))}""!==t?He.ref("chat_messages/"+t).on("value",(function(e){var t=[];if(null!==e.val())for(var n=0,a=Object.entries(e.val());n<a.length;n++){var i=Object(d.a)(a[n],2),o=(i[0],i[1]);t.push(o)}O(t)})):(O([]),_(""))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}catch(v){console.log(v)}}}),[ce,ne,fe,null===o||void 0===o||null===(t=o.location)||void 0===t?void 0:t.state,x,R,s,k,null===b||void 0===b?void 0:b.id,null===b||void 0===b?void 0:b.imageSrc,null===b||void 0===b?void 0:b.name,null===b||void 0===b?void 0:b.username,Ne,null===j||void 0===j?void 0:j.dataAllUser,o]);var Re=function(e){var t=new FormData;t.append("file",e),t.append("upload_preset","ml_default"),fetch("https://api.Cloudinary.com/v1_1/baby-dont-cry/image/upload",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){ot.push(e.url),V(!1),B(ot)})).catch((function(e){console.log(e)}))},Ie=function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,""===N){e.next=13;break}if(e.t0=""!==S,!e.t0){e.next=7;break}return e.next=7,He.ref("chat_messages/".concat(N)).push({content:S,idUser:null===b||void 0===b?void 0:b.id,name:null===b||void 0===b?void 0:b.name,image:U,username:null===b||void 0===b?void 0:b.username,imageSender:null===b||void 0===b?void 0:b.imageSrc,time:Date.now()});case 7:if(e.t1=""!==S,!e.t1){e.next=11;break}return e.next=11,He.ref("chat_info/".concat(N,"/lastTime")).set(Date.now());case 11:e.next=27;break;case 13:if(e.t2=""!==S,!e.t2){e.next=18;break}return e.next=17,He.ref("chat_info").push();case 17:e.t2=e.sent.getKey();case 18:if(n=e.t2,e.t3=""!==S,!e.t3){e.next=23;break}return e.next=23,He.ref("chat_info/".concat(n)).set({containId:K,idRoom:n,imageSrc:"",name:"",username:"",lastTime:Date.now()});case 23:if(e.t4=""!==S,!e.t4){e.next=27;break}return e.next=27,He.ref("chat_messages/".concat(n)).push({content:S,idUser:null===b||void 0===b?void 0:b.id,name:null===b||void 0===b?void 0:b.name,username:null===b||void 0===b?void 0:b.username,image:U,imageSender:null===b||void 0===b?void 0:b.imageSrc,time:Date.now()});case 27:""!==S&&(T(""),B(null),ot=[]),e.next=33;break;case 30:e.prev=30,e.t5=e.catch(1),console.log(e.t5);case 33:case"end":return e.stop()}}),e,null,[[1,30]])})));return function(t){return e.apply(this,arguments)}}(),De=function(e){je(e),ye(e)},Ue=function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)("div",{children:[Ee&&Object(se.jsx)(it,{dataCall:we}),z&&Object(se.jsx)(re,{}),Object(se.jsx)($e,{openGroupChat:be,onCloseForm:De,arrDataItemChoose:Ue,dataUser:b}),Object(se.jsx)(Je,{isOpenEditChat:ge,onCloseForm:De}),Object(se.jsx)("div",{className:"contentChat",children:Object(se.jsxs)("div",{className:"container-contentChat",children:[Object(se.jsxs)("div",{className:"contentChat-left",children:[Object(se.jsxs)("div",{className:"contentChat-top-left",children:[Object(se.jsx)("div",{className:"contentChat-top-name",children:Object(se.jsx)("p",{id:"p-contentChat-top-name",children:k})}),Object(se.jsx)("i",{className:"far fa-comments",id:"iconcontentChatTopLeft",onClick:function(){je(!0)}})]}),Object(se.jsx)("div",{className:"contentChat-bottom-left",children:null===(n=he.a.orderBy(null===(i=he.a.uniqBy(H,"idRoom"))||void 0===i?void 0:i.filter((function(e){return void 0!==(null===e||void 0===e?void 0:e.idRoom)})),["lastTime"],["desc"]))||void 0===n?void 0:n.map((function(e,t){return Object(se.jsxs)("div",{className:"item-leftChat",onClick:function(){return function(e){pe(e),Q(e.idRoom),ae(""),le("")}(e)},style:W===(null===e||void 0===e?void 0:e.idRoom)?{backgroundColor:"#efefef"}:null,children:[Object(se.jsx)("div",{className:"item-leftChat-left",children:Object(se.jsx)("img",{src:null===e||void 0===e?void 0:e.imageSrc,alt:"",id:"img-chat"})}),Object(se.jsxs)("div",{className:"item-leftChat-right",children:[Object(se.jsx)("div",{className:"p-item-leftChat-right",children:Object(se.jsx)("p",{id:"p-item-leftChat-right",children:null===e||void 0===e?void 0:e.username})}),Object(se.jsx)("span",{id:"span-item-leftChat-right",children:null===e||void 0===e?void 0:e.name})]})]},t)}))})]}),fe&&0!==H.length||ne&&0!==H.length?Object(se.jsxs)("div",{className:"contentChat-right",children:[Object(se.jsxs)("div",{className:"contentChat_right-top",children:[Object(se.jsxs)("div",{className:"rightChat_top-left",children:[Object(se.jsx)("div",{className:"topChat_left-avt",children:Object(se.jsx)("img",{src:null===fe||void 0===fe?void 0:fe.imageSrc,id:"topChat_left-avt",alt:""})}),Object(se.jsxs)("div",{className:"topChat_left-name",children:[Object(se.jsx)("div",{className:"leftChat_name-top",children:null===fe||void 0===fe?void 0:fe.username}),Object(se.jsx)("div",{className:"leftChat_name-bottom",children:null===fe||void 0===fe?void 0:fe.name})]})]}),Object(se.jsxs)("div",{className:"rightChat_top-right",children:[Object(se.jsx)("i",{className:"fas fa-video",id:"rightChat_top-right",style:{marginRight:10},onClick:function(){return Ce(fe),void Pe(!0)}}),Object(se.jsx)("i",{className:"fas fa-info-circle",id:"rightChat_top-right",onClick:function(){ye(!0)}})]})]}),Object(se.jsxs)("div",{className:"contentChat_right-bottom",children:[Object(se.jsx)(Ke.a,{className:U?"rightChat_bottom-showImgChoose":"rightChat_bottom-top",children:null===p||void 0===p?void 0:p.map((function(e,t){var n,a;return Object(se.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.idUser)!==x&&""!==(null===e||void 0===e?void 0:e.content)&&Object(se.jsxs)("div",{className:"content-message-left",children:[Object(se.jsxs)("div",{className:"content-wrapper",children:[Object(se.jsx)("div",{className:"avt-content",children:Object(se.jsx)("img",{src:null===e||void 0===e?void 0:e.imageSender,id:"avt-content",alt:""})}),Object(se.jsxs)("div",{className:"content-wrapperLeft",children:[Object(se.jsxs)("div",{className:"username-content",children:[null===e||void 0===e?void 0:e.name," - ",Ae(null===e||void 0===e?void 0:e.time)]}),Object(se.jsx)("div",{className:"p-content",children:null===e||void 0===e?void 0:e.content})]})]}),null===e||void 0===e||null===(n=e.image)||void 0===n?void 0:n.map((function(t,n){return Object(se.jsxs)("div",{className:"img_content-left",children:[Object(se.jsx)("div",{className:"avt-content",children:Object(se.jsx)("img",{src:null===e||void 0===e?void 0:e.imageSender,id:"avt-content",alt:""})}),Object(se.jsxs)("div",{className:"image_Content-wrapper",children:[Object(se.jsx)("div",{className:"username-content",children:null===e||void 0===e?void 0:e.name}),Object(se.jsx)("div",{className:"img_content_left",children:Object(se.jsx)("img",{src:t,alt:"",id:"img_content-left"})})]})]},n)}))]}),(null===e||void 0===e?void 0:e.idUser)===x&&""!==(null===e||void 0===e?void 0:e.content)&&Object(se.jsxs)("div",{children:[Object(se.jsx)("div",{className:"wrapper_content",children:Object(se.jsx)("div",{className:"p-content",children:null===e||void 0===e?void 0:e.content})}),null===e||void 0===e||null===(a=e.image)||void 0===a?void 0:a.map((function(e,t){return Object(se.jsx)("div",{className:"img_content-right",children:Object(se.jsx)("img",{src:e,alt:"",id:"img_content-right"})},t)}))]})]},t)}))}),Object(se.jsxs)("div",{className:U?"showImgChoose":"hiddenImgChoose",children:[Object(se.jsx)("div",{className:"showImgChoose_wrapper-close",children:Object(se.jsx)("i",{className:"fas fa-times",id:"wrapper_close",onClick:function(){return B(null),void(ot=[])}})}),Object(se.jsx)("div",{className:"showImgChoose_wrapper",children:null===U||void 0===U?void 0:U.map((function(e,t){return Object(se.jsx)("div",{className:"showImgChoose_img",children:Object(se.jsx)("img",{src:e,id:"showImgChoose_img",alt:""})},t)}))})]}),Object(se.jsx)("div",{className:"rightChat_bottom-bottom",children:Object(se.jsx)("form",{onSubmit:Ie,children:Object(se.jsxs)("div",{className:"bottomChat_bottom-wrap",children:[Object(se.jsx)("div",{className:"bottomChat_wrap-left",children:Object(se.jsx)("i",{className:"far fa-smile",id:"bottomChat_wrap-left"})}),Object(se.jsx)("div",{className:"bottomChat_wrap-body",children:Object(se.jsx)("textarea",{name:"",id:"textarea-chat",placeholder:"Nh\u1eafn tin....",onChange:function(e){return function(e){var t=e.target.value;T(t)}(e)},value:S,onKeyDown:function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),""!==S&&Ie(e))}})}),Object(se.jsxs)("div",{className:"bottomChat_wrap-right",children:[Object(se.jsxs)("label",{className:"lblImageChat",children:[Object(se.jsx)("input",{type:"file",style:{opacity:0},multiple:!0,onChange:function(e){var t=e.target.files;if(V(!0),t.length>1)for(var n=0;n<t.length;n++)Re(t[n]);else Re(t[0])}}),Object(se.jsx)("i",{className:"fas fa-images",id:"icon-chat-right"})]}),Object(se.jsx)("button",{type:"submit",id:"btn_submitChat",children:Object(se.jsx)("i",{className:"fas fa-paper-plane",id:"icon-chat-right"})})]})]})})})]})]}):Object(se.jsx)("div",{className:"contentChat-right",children:Object(se.jsxs)("div",{className:"contentChat_right-item",children:[Object(se.jsx)("i",{className:"far fa-paper-plane"}),"Tin nh\u1eafn c\u1ee7a b\u1ea1n"]})})]})})]})}));var st=function(e){var t=e.history;return Object(se.jsx)("div",{children:Object(se.jsx)(ct,{history:t})})},rt=(n(506),n(507),n(28)),lt=(new u.a).get("user");console.log(lt);var dt=function(e){return{type:C,data:e}},ut=function(e){return{type:S,data:e}},bt=function(e){return{type:T,data:e}},jt=function(e){return{type:E,data:e}};var mt=Object(b.b)((function(e){return{dataBill:e.Apartment.bill,dataPayment:e.CreatePayment}}),(function(e){return{getBillRequest:function(){e(function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","/apt/getBill?id=".concat(lt),null);case 3:n=e.sent,console.log(n),t(dt(null===n||void 0===n?void 0:n.data)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},getCostRequest:function(){e(function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","/apt/getCost",null);case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())},createPaymentRequest:function(t,n){e(function(e,t){return function(){var n=Object(l.a)(r.a.mark((function n(a){var i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I("POST","/create_payment_url",{id:e,orderType:"billpayment",amount:t,bankCode:"",language:"vn"});case 3:200===(null===(i=n.sent)||void 0===i?void 0:i.status)&&a(bt(null===i||void 0===i?void 0:i.data)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.dataBill,n=e.dataPayment,i=(e.isShowNoti,Object(a.useState)([])),o=Object(d.a)(i,2),c=o[0],s=o[1],r=Object(we.f)(),l=Object(a.useState)(!0),u=Object(d.a)(l,2),b=u[0],j=u[1];Object(a.useEffect)((function(){b&&e.getBillRequest(),b&&e.getCostRequest(),j(!1),s(t),!he.a.isEmpty(n)&&window.location.replace(n)}),[e,b,t,n,r]);var m=function(t){e.createPaymentRequest(null===t||void 0===t?void 0:t._id,null===t||void 0===t?void 0:t.tongTien)};return Object(se.jsx)("div",{children:Object(se.jsx)("div",{className:"backgroundBill",children:null===c||void 0===c?void 0:c.map((function(e,t){var n=Date.now(),a=null===e||void 0===e?void 0:e.noiDung;return Object(se.jsxs)("div",{children:["service_fee"===(null===e||void 0===e?void 0:e.loai_phieuThu)&&Object(se.jsxs)("div",{className:"backgroundBill_form",children:[Object(se.jsxs)("div",{className:"backgroundBill_form-top",children:["Chi ph\xed qu\u1ea3n l\xfd c\u0103n h\u1ed9",n-(null===e||void 0===e?void 0:e.hanThanhToan)>0&&Object(se.jsx)("div",{className:"titleExpired",children:"\u0110\xe3 qu\xe1 h\u1ea1n"})]}),Object(se.jsxs)("div",{className:"backgroundBill_form-bottom",children:[Object(se.jsxs)("div",{className:"formBill_bottom-top",children:[Object(se.jsx)("div",{className:"bottomBill_top-left",children:" C\u0103n h\u1ed9"}),Object(se.jsxs)("div",{className:"bottomBill_top-right",children:[" ",null===e||void 0===e?void 0:e.maCanHo]})]}),Object(se.jsxs)("div",{className:"formBill_bottom-top",children:[Object(se.jsx)("div",{className:"bottomBill_top-left",children:" Ng\xe0y l\u1eadp phi\u1ebfu"}),Object(se.jsxs)("div",{className:"bottomBill_top-right",children:[" ",Ie()(null===e||void 0===e?void 0:e.ngayLapPhieu).format("DD [Th\xe1ng] MM [l\xfac] HH:mm")]})]}),Object(se.jsx)("div",{className:"formBill_bottom-bottom",children:Object(se.jsxs)("table",{style:{width:"100%",height:"100%",backgroundColor:"white",borderRadius:10,border:"1px solid #dbdbdb"},children:[Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Di\u1ec7n t\xedch"}),Object(se.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"DVT"}),Object(se.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"\u0110\u01a1n gi\xe1"}),Object(se.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Th\xe0nh ti\u1ec1n"})]}),Object(se.jsx)("tbody",{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:a.dienTich}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"m2"}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(se.jsx)(rt.a,{value:(null===e||void 0===e?void 0:e.tongTien)/a.dienTich,thousandSeparator:!0,displayType:"text",suffix:" VND"})}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(se.jsx)(rt.a,{value:null===e||void 0===e?void 0:e.tongTien,thousandSeparator:!0,displayType:"text",suffix:" VND"})})]})})]})}),Object(se.jsxs)("div",{className:"totalPrice",children:["T\u1ed5ng ti\u1ec1n:"," ",Object(se.jsx)(rt.a,{value:null===e||void 0===e?void 0:e.tongTien,thousandSeparator:!0,displayType:"text",suffix:" VND"})]})]}),Object(se.jsx)("div",{className:"totalPay",children:Object(se.jsxs)("p",{id:"totalPay",onClick:function(){return m(e)},children:[" ","Thanh to\xe1n"]})})]}),"water_fee"===(null===e||void 0===e?void 0:e.loai_phieuThu)&&Object(se.jsxs)("div",{className:"backgroundBill_form",children:[Object(se.jsxs)("div",{className:"backgroundBill_form-top",children:["Chi ti\u1ebft phi\u1ebfu thu ti\u1ec1n n\u01b0\u1edbc",n-(null===e||void 0===e?void 0:e.hanThanhToan)>0&&Object(se.jsx)("div",{className:"titleExpired",children:"\u0110\xe3 qu\xe1 h\u1ea1n"})]}),Object(se.jsxs)("div",{className:"backgroundBill_form-bottom",children:[Object(se.jsxs)("div",{className:"formBill_bottom-top",children:[Object(se.jsx)("div",{className:"bottomBill_top-left",children:" C\u0103n h\u1ed9"}),Object(se.jsxs)("div",{className:"bottomBill_top-right",children:[" ",null===e||void 0===e?void 0:e.maCanHo]})]}),Object(se.jsxs)("div",{className:"formBill_bottom-top",children:[Object(se.jsx)("div",{className:"bottomBill_top-left",children:" Ng\xe0y l\u1eadp phi\u1ebfu"}),Object(se.jsxs)("div",{className:"bottomBill_top-right",children:[" ",Ie()(null===e||void 0===e?void 0:e.ngayLapPhieu).format("DD [Th\xe1ng] MM [l\xfac] HH:mm")]})]}),Object(se.jsx)("div",{className:"formBill_bottom-bottom",children:Object(se.jsxs)("table",{style:{width:"100%",height:"100%",backgroundColor:"white",borderRadius:10,border:"1px solid #dbdbdb"},children:[Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Ch\u1ec9 s\u1ed1 m\u1edbi"}),Object(se.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Ch\u1ec9 s\u1ed1 c\u0169"}),Object(se.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Ti\xeau th\u1ee5"})]}),Object(se.jsxs)("tbody",{children:[Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===a||void 0===a?void 0:a.chiSoMoi}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===a||void 0===a?void 0:a.chiSoCu}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===a||void 0===a?void 0:a.tieuThu})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"\u0110\u1ecbnh m\u1ee9c 1"}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===a||void 0===a?void 0:a.dinhMuc1}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(se.jsx)(rt.a,{value:null===a||void 0===a?void 0:a.tienDinhMuc1,thousandSeparator:!0,displayType:"text",suffix:" VND"})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"\u0110\u1ecbnh m\u1ee9c 2"}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===a||void 0===a?void 0:a.dinhMuc2}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(se.jsx)(rt.a,{value:null===a||void 0===a?void 0:a.tienDinhMuc2,thousandSeparator:!0,displayType:"text",suffix:" VND"})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"\u0110\u1ecbnh m\u1ee9c 3"}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===a||void 0===a?void 0:a.dinhMuc3}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(se.jsx)(rt.a,{value:null===a||void 0===a?void 0:a.tienDinhMuc3,thousandSeparator:!0,displayType:"text",suffix:" VND"})})]})]})]})}),Object(se.jsxs)("div",{className:"totalPrice",children:["T\u1ed5ng ti\u1ec1n:"," ",Object(se.jsx)(rt.a,{value:null===e||void 0===e?void 0:e.tongTien,thousandSeparator:!0,displayType:"text",suffix:" VND"})]})]}),Object(se.jsx)("div",{className:"totalPay",children:Object(se.jsxs)("p",{id:"totalPay",onClick:function(){return m(e)},children:[" ","Thanh to\xe1n"]})})]})," ","parking_fee"===(null===e||void 0===e?void 0:e.loai_phieuThu)&&Object(se.jsxs)("div",{className:"backgroundBill_form",children:[Object(se.jsxs)("div",{className:"backgroundBill_form-top",children:["Chi ti\u1ebft phi\u1ebfu thu ti\u1ec1n gi\u1eef xe",n-(null===e||void 0===e?void 0:e.hanThanhToan)>0&&Object(se.jsx)("div",{className:"titleExpired",children:"\u0110\xe3 qu\xe1 h\u1ea1n"})]}),Object(se.jsxs)("div",{className:"backgroundBill_form-bottom",children:[Object(se.jsxs)("div",{className:"formBill_bottom-top",children:[Object(se.jsx)("div",{className:"bottomBill_top-left",children:" C\u0103n h\u1ed9"}),Object(se.jsxs)("div",{className:"bottomBill_top-right",children:[" ",null===e||void 0===e?void 0:e.maCanHo]})]}),Object(se.jsxs)("div",{className:"formBill_bottom-top",children:[Object(se.jsx)("div",{className:"bottomBill_top-left",children:" Ng\xe0y l\u1eadp phi\u1ebfu"}),Object(se.jsxs)("div",{className:"bottomBill_top-right",children:[" ",Ie()(null===e||void 0===e?void 0:e.ngayLapPhieu).format("DD [Th\xe1ng] MM [l\xfac] HH:mm")]})]}),Object(se.jsx)("div",{className:"formBill_bottom-bottom",children:Object(se.jsxs)("table",{style:{width:"100%",height:"100%",backgroundColor:"white",borderRadius:10,border:"1px solid #dbdbdb"},children:[Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Lo\u1ea1i xe"}),Object(se.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"S\u1ed1 l\u01b0\u1ee3ng"}),Object(se.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"\u0110\u01a1n gi\xe1"}),Object(se.jsx)("th",{className:"bottomBill_bottom-tableTh",children:"Th\xe0nh ti\u1ec1n"})]}),Object(se.jsxs)("tbody",{children:[Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"Xe \xf4 t\xf4"}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===a||void 0===a?void 0:a.oto}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(se.jsx)(rt.a,{value:null===a||void 0===a?void 0:a.tienOto,thousandSeparator:!0,displayType:"text",suffix:" VND"})}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(se.jsx)(rt.a,{value:(null===a||void 0===a?void 0:a.tienOto)*(null===a||void 0===a?void 0:a.oto),thousandSeparator:!0,displayType:"text",suffix:" VND"})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"Xe m\xe1y"}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===a||void 0===a?void 0:a.xeMay}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(se.jsx)(rt.a,{value:null===a||void 0===a?void 0:a.tienXeMay,thousandSeparator:!0,displayType:"text",suffix:" VND"})}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(se.jsx)(rt.a,{value:(null===a||void 0===a?void 0:a.tienXeMay)*(null===a||void 0===a?void 0:a.xeMay),thousandSeparator:!0,displayType:"text",suffix:" VND"})})]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:"Xe \u0111\u1ea1p"}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:null===a||void 0===a?void 0:a.xeDap}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(se.jsx)(rt.a,{value:null===a||void 0===a?void 0:a.tienXeDap,thousandSeparator:!0,displayType:"text",suffix:" VND"})}),Object(se.jsx)("td",{className:"bottomBill_bottom-tableTd",children:Object(se.jsx)(rt.a,{value:(null===a||void 0===a?void 0:a.tienOto)*(null===a||void 0===a?void 0:a.xeDap),thousandSeparator:!0,displayType:"text",suffix:" VND"})})]})]})]})}),Object(se.jsxs)("div",{className:"totalPrice",children:["T\u1ed5ng ti\u1ec1n:"," ",Object(se.jsx)(rt.a,{value:null===e||void 0===e?void 0:e.tongTien,thousandSeparator:!0,displayType:"text",suffix:" VND"})]}),Object(se.jsx)("div",{className:"totalPay",children:Object(se.jsxs)("p",{id:"totalPay",onClick:function(){return m(e)},children:[" ","Thanh to\xe1n"]})})]})]})]},t)}))})})}));n(508);var ht=Object(b.b)((function(e){return{dataPostApt:e.Apartment.post}}),(function(e){return{getPostApartmentRequest:function(){e(function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","/apt/getPost",null);case 3:200===(null===(n=e.sent)||void 0===n?void 0:n.status)&&t(ut(null===n||void 0===n?void 0:n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.dataPostApt,n=Object(a.useState)(!0),i=Object(d.a)(n,2),o=i[0],c=i[1],s=Object(a.useState)([]),r=Object(d.a)(s,2),l=r[0],u=r[1],b=Object(a.useState)(!1),j=Object(d.a)(b,2),m=j[0];return j[1],Object(a.useEffect)((function(){o&&e.getPostApartmentRequest(),c(!1),u(t)}),[e,o,t]),Object(se.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgb(240, 242, 245)"},children:Object(se.jsxs)("div",{className:"backgroundItem",children:[m&&Object(se.jsx)(Fe,{actionTypes:"post"}),!m&&(null===l||void 0===l?void 0:l.map((function(e,t){var n,a;return Object(se.jsxs)("div",{className:"backgroundItem_form",style:{paddingBottom:10},children:[Object(se.jsxs)("div",{className:"backgroundItem_form-top",children:[Object(se.jsx)("div",{className:"formItem_top-left",children:Object(se.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAP2ElEQVR4Xu3ce3SUZX4H8O/3mZlwC4h4v1SwVWRRMgPGilgPUpFEJqyiBm8Hq1axq7Jckuxuu60p9rJWMuDqejxGt2ptvQS2Is4gEe/24A0hCcIqW5XF67brDUICmZn31z/mwmRkkhAStO73c07Oybzvc5n35f3O87zPvAEQERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERER+e5gdwX6wirvl4f5YdcANgbgp0bfY2W8uqm7eiLftH4PyNNe/UQYV9LxsOxGsySAhee66+7osrLIN6xfA/K0d/9EItEIctje9nvm/ajMzVm8t30i3wb9FpDuwpGhkMi3meuuQG+sid97NpF4JjccZrYV5p1kZityyzq62xq9+pq9NvQHptYm++dtKBtVW1vbL/8usu/6fARZE7/3bPgQBTkks83z7DdG3znl7poP1tk9gc/NNZC8ILdef44kC5vD85xxOOg11QVXPdFd+b5U3VRRDWBI0tkbS0tiqwqVq62tda0z31xPImhmayKh2LRCZf8QVDdXXA7DiTD7uG587N7uyvcXf3cF9sVTds9UGFbkh4Pk2WXumo8BoJTXx9fZPbPyQ5IeSdDTkCxsrnjEGY7sqoxHfLokGL2MwHwQo8z4AID9DkhVU/hxgsO7KpPpG0QNgMMdcBeAggFpnbl2EDlgLACQCBYqdyD8qHnGRM/zrjWHiQQPg6EdtBbPw2NDV5Q+smjRIq+7NvrA5SDCAN4A8P8/IE979WUwrgA5MLPNzDaTPHeau/bj3LJ9ERLCJoIc1U2ZrV3t7y2SkwAc3mWZfew7Elqzc2HTjAsdrAyOD3dXvl8YuLCpYnHSbCEdmZ1eEAA40jnM2Dlz3dVzryi/8M7Rq7d32dZ3RJ8E5GmvvgzgCuaEA2ZvGeLnlLkb/mdvdfY3JI64EbAhAGDG8QD+Or3rZ6RtQOrfdWd+vQar9L3avLvEmXdYErZp6fjYR7n7qzeW/4kRA3xJbL8tuPrDzPaaX3//aC/ZMdx1+OJJ2HU+YgD2se9am+xv3VgctIQ3wug25/ftfPFfG/GeL4mvXXwL3644lLtY4pwlE60dG5dOevrz3P0168MnekXJQNwLfHbwuO2fbW8qnkDi4LiXXH/nhNX/CwBz1s0JFA/48DRLYACTbuOS0ujvc9uobpr+N3CoAgAYfmvEz81sM4GDSVYCuNADdxW1JZOZOrU22d/aXDyGsGOTxs89+Lf8fPwTX+a2W9U043j444Ocr+jLxd9b+XFVU/gU+H1e5JSVmzNl5m0oGxWgb0zS+PkZocFvvt7SjkJ+0BI+eLD5xhm8QDyZaMkcX0amv2S7fXF7aeOnCzaES3wBHmFJ/iYSevL9gg3vxX7fg6zx6s8H3GNIXzAAYIaNho6pueGotcn+tqYhZ+1OunfvKI1uy2zvi3uSmpbwdDPGAIC08OK8uX5Vc/h9gqPM7FWSIwCMRup9GmAPem2Dblg6aXl7uuxbBE82w7JIKDor20ZT+H6SVxlsayQYO76nfVc3V/wOwOEGexHg0QROzPZN3F9csuP6RXwxUajvuVvKhxW1+5cSmA0gAAAGiwO8b0cc1fWl0bbcYwTQCMMYECNTZZEg7RZL2no6/ivAwzNt0PhPdaHoIgD4yeYLDknE4x8AHGRm77Q5nHF3SeyL3GNZ2BQua00c81x9aX0cAKo2TK+hczUAst9xmVkHwLt3JI6uyZSrbgq/DvI0M6wiMBzEJKPdFSmJ3VT92vQjMdA9AKAsp413QO4mUAKzN+pCsT8FgAVrLx7kG9J+qxnnkBiYPT7gMV98143/UvrMV7n9gfaUeTyKRCin7Sc6Biev7OkIuF+rJWu8+vPN3LLO4bD13nY7Ozccc7eUD9vZUvy8OfdcwI93qptnnJ/ZV8rr4yPozToQq1skJwIYbYZPzayDBEle5Ya039xd3f1FcDKBEzv1DVyzs3no/EJ1KhsqfUU7ff9J4BoYPM+w3GC/SrWHHwzzo34v1crS4fgIsCQBP4y30PGJdDg+Sl1UDID4++qNFdMAIB6PVwAclGqbP80PBwAsCcUaMxc9AIA8yAyHArYZQKPBtpIsIjFvWOCjv82vT2I6iEmZ13PWzQnYAMYy4TCzbWbWAnA0gZL8+m7I7vsB/hCEH2YrYHgEhgSAKxKBgY/ll4fxPBIhM/sdYO1IXQPnF7X5b/la2QJ6HZA18fsuMnPL6FKfasiGA+eWD78uO/zP3VI+rKjNtxrgnyF1kgYavGX5IQnwhEoYHsntox9CEjfjOZFQ9KgBRUWjDPgEAGic2l3F/WWwuGc4KxKKHuWSvuMzfRvsokJ1Ro1pK6PjOQBg9KYtCUUrI8HYxUmPFQAA4oqqpvApuXUMFvecd2ZdMHpsApiSGiUz+9zkumD0WM+zMwFLTZOS3uVIjWgnZMo5Jl5DnvlvlB1V0xKurGkJV87dUj4AADp2JW/zPBtfF4ydXBeMlheXtJ5oZuvSrWRH3zw/292eOChSErupOPDReSQnAIDneZHix0uPj4RiQUvaBbnvGwCq1lecRtglAICkXVYXis2sC0Uv98wmm5lHoKx6w4wz8zsz8pJIKHbkTuIYg21CaqS/ML9cIb0KSKN336Xmw6N54Xilg/GpueH48bqpBxW1+VaTPCO3PsGAwVtWvbEie3FM4ZTEFxw2uz9DYmbPR0JPPgcA/zz28U9IiwEAiGO6q7v/uGZJKPpfALD41JUfE7YaqU+0kYVqeIYp6V/jMHdTVVNFQ1VTRYOPuBZA6pPcuewnMgDA7MUl41atBYDbg7GXCWxDairySiS48iUAWDo+9roZNgEA6A5FakRqyzSRMA5GnsAA/3gzNpixAa0YBgAjnjq9lT6MrGoOR6qbKh5obR76MID06p4dnd+GGbbWlUR/eufE1PSGQPq6sOTQpLs5szq25NTYSsDWdqpLm4LM1NSHSzPnwpHVJFM3LM7LC4htjpQ82QAA6RFxeaoNHlv7VmURemCfA9Lo3XcpgYfIPTf4ZvZKAgPLK3hDdlhesHbaiIR/wHP54cggGDAPj1Y1hS/NbJvFWcl+Dkmn1TQDdqd/9e3ZyMwSZqcTaGAx9s9vc18Ysxfknr7zmFl60cMcaGNzfwy2xWCbkPAyx5AqCXS68Tdaa/qXT3K3c8+xpwtay559ruColqt15puPOvAJGBcYMQm0sWQmIHs5LtoWsNPIUITURR/f/N6gzu+HbM196Zie/qWmpt/LOxdb06NDR6c2rPM5h8edmTawq71HC1T7FJBGu++qvYTj5QQGlk93s7M3PQvWThvhBgfWZIZPpJNvhnmWc/ET8IN86ACHpGtMXWCETchMJea9f/5wApO7q9ol2j5/d+CIN5H6xHNePHltJBg7JfMTIM6KBGOnRCbEHsytQ7DT1KSnikM7G83wIVIX0N9l7k0Kmf96+I9JVCJ1aFdGgtHRkWDsFDP+e6E6BOPI5eEdpEbRgSNHt2cXaX64ruI4wDqPjGT26W+a+3HuuWhLn4u6YOz2vDr7fM7z9ShFSC3lXkbDL8E9oTLDC4YvK6a7muySZlXTzMOBjqc6h8M8z/BXS8fH7m2wyrtea24HicuQDomlQoJIKPYo0iFpsIbZB9t2IF0O6ZCs9u5tL3fX/QL9xDl72TyWg/yjojbfG9VNFeuxPfHnYM7TyAdI8uDBj/m+aL+Z5PEu4Hu6akP4AaNtIzg+bpixsLli5pJg9Nnu2umJRXwxUdU8/QoDnyE4CB4aq5sr1nqGt0g7yDyem7vmOXAgkEhH0YhT57eE1/rNxhlsdk8XR9t8WDbE8A/pVb6Hq5vDDxnwFcyuIDg0t+z2+FGrhhV9tBHGcR5sWVVz+EEz+29HjoWHyoUbKmYvGR/ttNDTF3o8ghDuts7hsOcNX1SU5YWDjD+bHw4Yr12aflxgFpclTw8Omt3bkcQH3NpgDQWnJfvrq928HZb65CY5DsRfmOEIM1vfXd2+tvS45e0eOd1gLQSH0nGuo1tM8nICgwE7vbs29kUkuOqlJHCOt2dqMskRcwheAmJEagkXv9jtHfflrSWx92D4DwAg3Xy/8V3ArYBxr9977c3dJbEv6LeLzewzkkUA/5LgQpCHmOG93LL1pfXxjg5WpJbqMZDg9Y5uMcCrDRziaBML99R7PR5BDPiEwLFIrTisLnKBmVNYsyuzPxMOADmrKpaE8brI+Oj9uW3N4rJkg1XO3ttIUt0ULqoLxf4NhUeSzysxq9PQ6cVtE/y8EQAsnlqp6MR4sxFDAfd25+3WYOBmeMh+K1VfGm2rtckTW5uGXUhnIRh2+8wtT5oNNh9Og3FHbhPd9W0efgKHQTB7q/OOr/cNwz8aMcJg72Y2LSmJvt1glRNebW6bSsfTkbRDjbYNCRddUhrdczwFj/HrbSL1vm6DD4fD8zrN028Pxl6utckn7GwZFjZ4E2E4EoYdRjTFveSTuV/KDXn81CvbLlzX4BnPpDNLAi/54XvXg3cOYdnpVKG+AGDxybGXF6ydNto3KHARHE+CYUfSuNxHHGGwMfCQDdwdpdFttbW1Z7Zd8MZkc5gEc0d6Zh+QWFUXimXPb6H+LO6ewQDvRgDAjh2d71cK6NlYCGCN3XOcZ26h8/Bp3LUtne7mZW+qat78/tGeL/ksyTGZbQYkYDY7M23amwar9L3W3P4Qc6ZRmREnN1QN1uAbbttvAnBSEt5d57k5Xw+BSD/ocUAKSYXDe4FMfUOMHoYjo6chEfkm7FdAFmwIH+PI5zuHw+J0vKxuXPRXXdfeQyGRb6teB6Rq0/SRSLgXCGSfqDVYnHCVdcEn9/mRcoVEvo16vIqVq9Ym+xFnY1+FA4VWt0gH2n3VG8Izu64t0j96FZC2DcXHkzwp89oMu8wwo7fhyCgUEnOY03VNkf7Rq4B4RclAzksQuHVJKNZYuEbPZUMCyz4aQcv5OxORA6hXAclntudBt74wi8uSyH9WSOQb0CcBEfmuUkBEutDjR026QtrN1c0V1d2V2zd2SHclRPpbnwQEZDGA/f17iTy9/opGpM/0boqVGPT77J9sHgC2j/+Fjkhf6fXHdPWG8HVGzmJfjUIFmLNNAX+g9taxKz7rrqyIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiBT2f8BIN1zJ8NsvAAAAAElFTkSuQmCC",id:"formItem_top-left",alt:""})}),Object(se.jsx)("div",{className:"formItem_top-body",children:null===e||void 0===e?void 0:e.username}),Object(se.jsx)("div",{className:"formItem_top-right",children:Object(se.jsx)("i",{className:"fas fa-ellipsis-h",id:"formItem_top-right"})})]}),Object(se.jsx)("div",{className:"backgroundItem_form-body",children:Object(se.jsx)(De.Slide,{autoplay:!1,style:{width:"100%",height:"100%"},transitionDuration:300,arrows:1!==(null===e||void 0===e||null===(n=e.hinhAnh)||void 0===n?void 0:n.length),children:!he.a.isEmpty(null===e||void 0===e?void 0:e.hinhAnh)&&(null===e||void 0===e||null===(a=e.hinhAnh)||void 0===a?void 0:a.map((function(e,t){return Object(se.jsx)("img",{src:e,id:"backgroundItem_form-body",alt:""},t)})))})}),Object(se.jsx)("div",{className:"backgroundItem_form-bottom",children:Object(se.jsxs)("div",{className:"formItem_bottom-top",children:[Object(se.jsx)("div",{className:"bottomItem_top-top",style:{minHeight:"30px"},children:Ie()(null===e||void 0===e?void 0:e.ngayDang).format("DD [Th\xe1ng] MM [l\xfac] HH:mm")}),Object(se.jsx)("div",{className:"bottomItem_top-body",children:Object(se.jsxs)("p",{id:"bottomItem_top-body",children:[Object(se.jsx)("b",{children:null===e||void 0===e?void 0:e.username}),_e()(null===e||void 0===e?void 0:e.noiDung)]})})]})})]},t)})))]})})}));n(509);var vt=Object(b.b)((function(e){return{dataHistory:e.Apartment.history}}),(function(e){return{paymentHistoryRequest:function(t){e(function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","/apt/getHistoryPay?id=".concat(lt),null);case 3:200===(n=e.sent).status&&t(jt(null===n||void 0===n?void 0:n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t,n=e.dataHistory,i=(new u.a).get("user"),o=Object(a.useState)(!0),c=Object(d.a)(o,2),s=c[0],r=c[1],l=Object(a.useState)([]),b=Object(d.a)(l,2),j=b[0],m=b[1];return Object(a.useEffect)((function(){s&&e.paymentHistoryRequest(i),r(!1),m(n)}),[e,i,s,n]),Object(se.jsx)("div",{children:Object(se.jsxs)("div",{className:"backgroundPaymentHistory",children:[Object(se.jsx)("div",{className:"backgroundPaymentHistory_title",children:"L\u1ecbch s\u1eed thanh to\xe1n"}),null===(t=he.a.orderBy(j,["ngayThanhToan"],["desc"]))||void 0===t?void 0:t.map((function(e,t){return Object(se.jsxs)("div",{className:"backgroundPaymentHistory_form",children:[Object(se.jsxs)("p",{children:[Object(se.jsx)("b",{children:"M\xe3 c\u0103n h\u1ed9"}),": ",null===e||void 0===e?void 0:e.maCanHo]}),Object(se.jsxs)("p",{children:[Object(se.jsx)("b",{children:"Lo\u1ea1i phi\u1ebfu thu:"})," ",null===e||void 0===e?void 0:e.loai_phieuThu]}),Object(se.jsxs)("p",{children:[Object(se.jsx)("b",{children:"T\u1ed5ng ti\u1ec1n thanh to\xe1n:"}),Object(se.jsx)(rt.a,{value:null===e||void 0===e?void 0:e.tongTien,thousandSeparator:!0,displayType:"text",suffix:" VND"})]}),Object(se.jsxs)("p",{children:[Object(se.jsx)("b",{children:"Ng\xe0y thanh to\xe1n: "}),Ie()(null===e||void 0===e?void 0:e.ngayThanhToan).format("DD [Th\xe1ng] MM [l\xfac] HH:mm")]}),Object(se.jsxs)("p",{children:[Object(se.jsx)("b",{children:"Tr\u1ea1ng th\xe1i"}),":"," ",(null===e||void 0===e?void 0:e.tinhTrang)?"\u0110\xe3 thanh to\xe1n":"Ch\u01b0a thanh to\xe1n"]})]},t)}))]})})}));var ft=Object(b.b)((function(e){return{dataBill:e.Apartment.bill}}),null)((function(e){var t=e.dataBill,n=Object(a.useState)(1),i=Object(d.a)(n,2),o=i[0],c=i[1],s=Object(a.useState)(!1),r=Object(d.a)(s,2),l=r[0],u=r[1],b=Object(a.useState)([]),j=Object(d.a)(b,2),m=j[0],h=j[1];Object(a.useEffect)((function(){var e=[],n=Date.now();t.forEach((function(t){n-(null===t||void 0===t?void 0:t.hanThanhToan)>0&&(u(!0),"service_fee"===(null===t||void 0===t?void 0:t.loai_phieuThu)?e.push("phi\u1ebfu thu ti\u1ec1n c\u0103n h\u1ed9"):"water_fee"===(null===t||void 0===t?void 0:t.loai_phieuThu)?e.push("phi\u1ebfu thu ti\u1ec1n n\u01b0\u1edbc"):e.push("phi\u1ebfu thu ti\u1ec1n gi\u1eef xe"))})),h(e)}),[t]);var v=[{id:1,name:"H\xf3a \u0111\u01a1n thanh to\xe1n"},{id:2,name:"L\u1ecbch s\u1eed thanh to\xe1n"},{id:3,name:"Th\xf4ng b\xe1o"}];return Object(se.jsxs)("div",{children:[l&&Object(se.jsx)(pe.Popup,{fullScreen:!0,icon:"warning",onClose:function(){return u(!1)},open:!0,pressESCToClose:!0,title:"Th\xf4ng b\xe1o: Hi\u1ec7n b\u1ea1n \u0111ang c\xf3 <b>".concat(he.a.size(m),"</b> phi\u1ebfu \u0111\xe3 qu\xe1 h\u1ea1n thanh to\xe1n")}),Object(se.jsx)("div",{className:"backgroundApartment",children:Object(se.jsxs)("div",{className:"backgroundApartment_form",children:[Object(se.jsxs)("div",{className:"backgroundApartment_form-left",children:[Object(se.jsx)("div",{className:"formApartment_left-top",children:"Th\xf4ng tin"}),Object(se.jsx)("div",{className:"formApartment_left-bottom",children:null===v||void 0===v?void 0:v.map((function(e,t){return Object(se.jsx)("div",{className:"leftApartment_bottom-item",onClick:function(){return t=null===e||void 0===e?void 0:e.id,void c(t);var t},children:Object(se.jsx)("div",{className:"bottomApartment_item-item",style:o===(null===e||void 0===e?void 0:e.id)?{backgroundColor:"rgb(231, 243, 255)",color:"rgb(24, 138, 245)"}:{backgroundColor:"rgba(228, 230, 235, 0.35)",color:"rgb(5, 5, 5)"},children:null===e||void 0===e?void 0:e.name})},t)}))})]}),Object(se.jsx)("div",{className:"backgroundApartment_form-right",children:Object(se.jsx)("div",{className:"formApartment_right-wrapper",children:function(){switch(o){case 1:return Object(se.jsx)(mt,{});case 2:return Object(se.jsx)(vt,{});case 3:return Object(se.jsx)(ht,{});default:return Object(se.jsx)(mt,{})}}()})})]})})]})}));var pt=function(e){var t=e.history;return Object(se.jsx)("div",{children:Object(se.jsx)(ft,{history:t})})};n(510);var Ot=function(e){var t=window.location.href.slice(35),n=Object(a.useState)(!1),i=Object(d.a)(n,2),o=(i[0],i[1]),c=Object(a.useState)([]),s=Object(d.a)(c,2),u=s[0],b=s[1],j=Object(we.f)();return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(r.a.mark((function e(){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","/vnpay_return?".concat(t),null);case 3:a=e.sent,console.log(a),"00"===(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.code)?(b(null===a||void 0===a?void 0:a.data),o(!0)):o(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[e,t,j]),Object(se.jsx)("div",{children:Object(se.jsx)("div",{className:"backgroundVnpayReturn",children:Object(se.jsxs)("div",{className:"backgroundVnpayReturn_form",children:[Object(se.jsxs)("div",{className:"backgroundVnpayReturn_form-top",children:[Object(se.jsx)("div",{className:"formVnpayReturn_top-top",children:Object(se.jsx)("i",{className:"fas fa-check-circle"})}),Object(se.jsx)("div",{className:"formVnpayReturn_top-bottom",children:"Thanh to\xe1n th\xe0nh c\xf4ng"})]}),Object(se.jsxs)("div",{className:"backgroundVnpayReturn_form-body",children:[Object(se.jsxs)("div",{className:"formVnpayReturn_body-item",children:[Object(se.jsx)("p",{children:"Lo\u1ea1i giao d\u1ecbch: "})," ",Object(se.jsx)("p",{children:u.paymentType})]}),Object(se.jsxs)("div",{className:"formVnpayReturn_body-item",children:[Object(se.jsx)("p",{children:"Ng\xe2n h\xe0ng: "})," ",Object(se.jsx)("p",{children:u.bank})]}),Object(se.jsxs)("div",{className:"formVnpayReturn_body-item",children:[Object(se.jsx)("p",{children:"S\u1ed1 ti\u1ec1n: "})," ",Object(se.jsx)("p",{children:Object(se.jsx)(rt.a,{value:u.amount,thousandSeparator:!0,displayType:"text",suffix:" VND"})})]}),Object(se.jsxs)("div",{className:"formVnpayReturn_body-item",children:[Object(se.jsx)("p",{children:"Ng\xe0y giao d\u1ecbch: "})," ",Object(se.jsx)("p",{children:Ie()(u.payDate).format("DD [Th\xe1ng] MM [l\xfac] HH:mm")})]}),Object(se.jsxs)("div",{className:"formVnpayReturn_body-item",children:[Object(se.jsx)("p",{children:"M\xe3 giao d\u1ecbch: "})," ",Object(se.jsx)("p",{children:u.transactionId})]})]}),Object(se.jsx)("div",{className:"backgroundVnpayReturn_form-bottom",children:Object(se.jsx)("button",{id:"backgroundVnpayReturn_form-bottom",onClick:function(){return j.push("/")},children:"Quay v\u1ec1 trang ch\u1ee7"})})]})})})},xt=[{path:"/",exact:!0,main:function(e){var t=e.history;return Object(se.jsx)(Qe,{history:t})}},{path:"/login",exact:!0,main:function(e){var t=e.history;return Object(se.jsx)(be,{history:t})}},{path:"/chat",exact:!0,main:function(e){var t=e.history;return Object(se.jsx)(st,{history:t})}},{path:"/personal/:username",exact:!0,main:function(e){var t=e.history;return Object(se.jsx)(Ve,{history:t})}},{path:"/apartment",exact:!0,main:function(e){var t=e.history;return Object(se.jsx)(pt,{history:t})}},{path:"/vnpay_return",exact:!0,main:function(e){var t=e.history;return Object(se.jsx)(Ot,{history:t})}},{path:"",exact:!1,main:function(){return Object(se.jsx)(je,{})}}],gt=(n(511),n(512),n(238));var yt=function(e){var t,n=e.data,i=Object(we.f)(),o=Object(a.useState)(null),c=Object(d.a)(o,2),s=c[0],r=c[1],l=Object(a.useState)(!0),u=Object(d.a)(l,2),b=u[0],j=u[1],m=Object(a.useState)(!1),h=Object(d.a)(m,2),v=h[0],f=h[1],p=Object(a.useRef)(0),O=Object(a.useRef)(10),x=Object(a.useState)([]),g=Object(d.a)(x,2),y=g[0],N=g[1],_=Object(a.useState)(!0),k=Object(d.a)(_,2),w=k[0],C=k[1],S=Object(a.useState)(0),T=Object(d.a)(S,2),E=T[0],P=T[1];Object(a.useEffect)((function(){P(n.length),N(he.a.orderBy(n,["timestamp"],["desc"]).slice(p.current,O.current))}),[n]);var R=function(t){e.onCloseForm(!1),f(t)};return Object(se.jsxs)("div",{children:[v&&Object(se.jsx)(Me,{dataDetailsPost:s,onCloseForm:R,setOpenDetailsPost:f}),Object(se.jsx)("div",{className:"backgroundNotiWrapper",onClick:b?function(){return R()}:null,children:Object(se.jsx)("div",{className:"backgroundNoti",onMouseEnter:function(){return j(!1)},onMouseLeave:function(){return j(!0)},style:{overflow:"auto"},id:"scrollableDiv",children:Object(se.jsx)(gt.a,{dataLength:y.length,next:function(){return y.length===E&&C(!1),void setTimeout((function(){p.current=O.current,O.current+=10,N(y.concat(he.a.orderBy(n,["timestamp"],["desc"]).slice(p.current,O.current)))}),500)},hasMore:w,loader:Object(se.jsx)("h4",{children:"Loading..."}),scrollableTarget:"scrollableDiv",endMessage:Object(se.jsx)("p",{style:{textAlign:"center"},children:Object(se.jsx)("b",{children:"Yay! You have seen it all"})}),children:!he.a.isEmpty(y)&&(null===(t=he.a.orderBy(y,["timestamp"],["desc"]))||void 0===t?void 0:t.map((function(e,t){return Object(se.jsxs)("div",{className:"backgroundNoti_form",onClick:"follow"!==(null===e||void 0===e?void 0:e.type)?function(){return function(e){f(!0),r(e)}(e)}:function(){return function(e){i.push("/personal/".concat(null===e||void 0===e?void 0:e.username))}(e)},children:[Object(se.jsx)("div",{className:"backgroundNoti_form-left",children:Object(se.jsx)("img",{src:null===e||void 0===e?void 0:e.imageSrc,id:"backgroundNoti_form-left",alt:""})}),Object(se.jsxs)("div",{className:"backgroundNoti_form-body",style:"follow"===(null===e||void 0===e?void 0:e.type)?{width:"60%"}:{width:"83%"},children:[Object(se.jsxs)("div",{className:"formNoti_body-top",style:(null===e||void 0===e?void 0:e.hasSeen)?null:{fontWeight:"bold"},children:[null===e||void 0===e?void 0:e.username," ",null===e||void 0===e?void 0:e.message]}),Object(se.jsx)("div",{className:"formBody_body-bottom",style:(null===e||void 0===e?void 0:e.hasSeen)?null:{fontWeight:"bold",color:"hsl(214deg 89% 57%)"},children:Ae(null===e||void 0===e?void 0:e.timestamp)})]}),"follow"===(null===e||void 0===e?void 0:e.type)&&Object(se.jsx)("div",{className:"backgroundNoti_form-right",children:Object(se.jsx)("div",{className:"form_right-follow",children:"theo d\xf5i"})})]},t)})))})})})]})},Nt=n(239);var _t=Object(b.b)((function(e){return{dataUser:e.Post,dataAllUser:e.User.dataAllUser,dataPersonal:e.Personal}}),(function(e){return{logoutUser:function(){e(q())},personalRequest:function(t,n){e(V(t,n))},logOutRequest:function(t,n){e(F(t,n))},getAllUserRequest:function(){e(function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","/user/getAll",null);case 3:(null===(n=e.sent)||void 0===n?void 0:n.status)>=200&&(null===n||void 0===n?void 0:n.status)<300&&t(ce(null===n||void 0===n?void 0:n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.data,n=e.idNotification,i=e.dataUser,o=e.dataAllUser,c=e.dataPersonal,s=new u.a,b=Object(we.f)(),j=null===s||void 0===s?void 0:s.get("username"),m=s.get("imageSrc"),h=Object(a.useState)(!1),v=Object(d.a)(h,2),f=v[0],p=v[1],O=Object(a.useState)(!1),x=Object(d.a)(O,2),g=x[0],y=x[1],N=Object(a.useState)(!1),_=Object(d.a)(N,2),k=_[0],w=_[1],C=Object(a.useState)(!1),S=Object(d.a)(C,2),T=S[0],E=S[1],P=Object(a.useState)([]),R=Object(d.a)(P,2),I=R[0],A=R[1];return Object(a.useEffect)((function(){if(s.get("user")){var n=[];E(!0),null===t||void 0===t||t.forEach((function(e){!(null===e||void 0===e?void 0:e.hasSeen)&&n.push(e)})),A(n),e.getAllUserRequest()}else E(!1),b.push("/login")}),[t,i]),Object(se.jsxs)("div",{children:[k&&Object(se.jsx)(re,{}),Object(se.jsxs)("div",{className:"header",style:T?{display:"block"}:{display:"none"},children:[f&&Object(se.jsx)(yt,{data:t,onCloseForm:function(e){p(e)}}),Object(se.jsxs)("div",{className:"container",children:[Object(se.jsx)("div",{className:"logo",children:Object(se.jsx)(ve.b,{to:"/",children:Object(se.jsx)("img",{src:de,id:"logo",alt:""})})}),Object(se.jsx)("div",{className:"search-nav",children:Object(se.jsx)("div",{className:"search_nav-wrapper",children:Object(se.jsx)(Nt.ReactSearchAutocomplete,{items:o,onSelect:function(e){window.location.replace("/personal/".concat(null===e||void 0===e?void 0:e.username))},fuseOptions:{keys:["username"]},resultStringKeyName:"username",placeholder:"T\xecm ki\u1ebfm...",styling:{height:"34px",marginTop:"10px",zIndex:10}})})}),Object(se.jsxs)("div",{className:"function-nav",children:[Object(se.jsx)(ve.b,{to:"/apartment",children:Object(se.jsx)("i",{className:"fas fa-hotel"})}),Object(se.jsx)(ve.b,{to:"/",children:Object(se.jsx)("i",{className:"fas fa-home"})}),Object(se.jsx)(ve.b,{to:"/chat",children:Object(se.jsx)("i",{className:"far fa-paper-plane"})}),Object(se.jsxs)("a",{href:"#",children:[Object(se.jsx)("i",{className:"far fa-compass",style:{position:"relative"},onClick:function(){return function(){p(!f);try{var e=He.ref("social_network").child("notifications"),t=function(){var t=Object(l.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.child("".concat(n,"/notification/").concat(a,"/hasSeen")).set(!0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();!function(){var a=Object(l.a)(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.child("".concat(n,"/notification")).once("value",function(){var e=Object(l.a)(r.a.mark((function e(n){var a,i,o,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n.val()){e.next=2;break}return e.abrupt("return");case 2:a=0,i=Object.entries(n.val());case 3:if(!(a<i.length)){e.next=11;break}if(o=Object(d.a)(i[a],2),c=o[0],(null===(s=o[1])||void 0===s?void 0:s.hasSeen)||f){e.next=8;break}return e.next=8,t(c);case 8:a++,e.next=3;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()()}catch(a){console.log(a)}}()}}),!he.a.isEmpty(I)&&Object(se.jsx)("div",{className:"countNotification",children:he.a.size(I)})]}),Object(se.jsxs)("div",{className:"dropdown-avt",onClick:function(){y(!g)},children:[Object(se.jsx)("img",{src:m,alt:"",id:"avt"}),Object(se.jsx)("div",{className:"backgrounDropdown",style:g?{display:"block"}:{display:"none"},children:Object(se.jsxs)("div",{className:"dropdown-content-avt",children:[Object(se.jsxs)(ve.b,{to:{pathname:"/personal/".concat(j),state:c},id:"content-dropdown",onClick:function(){return w(!0),void e.personalRequest(w,j)},children:[Object(se.jsx)("i",{className:"far fa-user-circle",id:"icon-avt"}),"Trang c\xe1 nh\xe2n"]}),Object(se.jsxs)("a",{href:"#",id:"content-dropdown",children:[Object(se.jsx)("i",{className:"far fa-calendar",id:"icon-avt"}),"\u0110\xe3 l\u01b0u"]}),Object(se.jsxs)("a",{href:"#",id:"content-dropdown",children:[Object(se.jsx)("i",{className:"fas fa-wrench",id:"icon-avt"}),"C\xe0i \u0111\u1eb7t"]}),Object(se.jsxs)("a",{id:"content-dropdown",onClick:function(){e.logOutRequest(null===s||void 0===s?void 0:s.get("user"),E)},children:[Object(se.jsx)("i",{className:"fas fa-sign-out-alt",id:"icon-avt"}),"\u0110\u0103ng xu\u1ea5t"]})]})})]})]})]})]})]})}));n(520);var kt=function(e){var t=e.data,n=e.idNotification,i=Object(a.useState)(null),o=Object(d.a)(i,2),c=o[0],s=o[1],u=Object(a.useState)(!1),b=Object(d.a)(u,2),j=b[0],m=b[1];Object(a.useEffect)((function(){var e=He.ref("/social_network").child("notifications"),t=function(){var t=Object(l.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.child("".concat(n,"/notification/").concat(a,"/isShow")).set(!0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(function(){var a=Object(l.a)(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.child("".concat(n,"/notification")).on("value",function(){var e=Object(l.a)(r.a.mark((function e(n){var a,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.val())for(a=function(){var e=Object(d.a)(o[i],1)[0];setTimeout(Object(l.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(e);case 2:n.sent;case 3:case"end":return n.stop()}}),n)}))),5e3)},i=0,o=Object.entries(n.val());i<o.length;i++)a();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[n]);var h=function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t),m(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)("div",{children:[j&&Object(se.jsx)(Me,{dataDetailsPost:c,onCloseForm:function(e){m(e)},setOpenDetailsPost:m}),Object(se.jsx)("div",{className:"backgroundNotiToast",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(se.jsx)("div",{children:!(null===e||void 0===e?void 0:e.isShow)&&Object(se.jsx)("div",{className:"animationToast",style:{animation:"show_toast ease 1s, hide_toast ease 1s 3s forwards"},children:Object(se.jsxs)("div",{className:"backgroundNotiToast_form",onClick:function(){return h(e)},children:[Object(se.jsxs)("div",{className:"backgroundNotiToast_top",children:[Object(se.jsx)("i",{className:"fas fa-times",id:"backgroundNotiToast_top"}),Object(se.jsx)("b",{children:"Th\xf4ng b\xe1o m\u1edbi"})]}),Object(se.jsxs)("div",{className:"backgroundNotiToast_bottom",children:[Object(se.jsx)("div",{className:"backgroundNotiToast_left",children:Object(se.jsx)("img",{src:null===e||void 0===e?void 0:e.imageSrc,id:"backgroundNotiToast_left",alt:""})}),Object(se.jsx)("div",{className:"backgroundNotiToast_right",children:Object(se.jsxs)("div",{className:"backgroundNotiToast_right-bottom",children:[null===e||void 0===e?void 0:e.username," ",null===e||void 0===e?void 0:e.message]})})]})]})})},t)}))})]})};var wt=Object(b.b)(null,(function(e){return{logOutRequest:function(t){e(F(t))}}}))((function(e){var t=(new u.a).get("user"),n=Object(a.useState)(""),i=Object(d.a)(n,2),o=i[0],s=i[1],b=Object(a.useState)([]),j=Object(d.a)(b,2),m=j[0],h=j[1];return Object(a.useEffect)((function(){try{var e=He.ref("/social_network"),n=e.child("notifications"),a=e.child("users"),i=function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",n);case 2:return e.next=4,a.child(t).once("value",(function(e){var t=e.val(),a=t.imageSrc,i=t.username;n={imageSrc:a,username:i}}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(function(){var e=Object(l.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,n.on("value",function(){var e=Object(l.a)(r.a.mark((function e(n){var o,l,u,b,j,m,v,f,p,O,x,g;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=[],l=[],u=0,b=Object.entries(n.val());u<b.length;u++)j=Object(d.a)(b[u],2),m=j[0],(null===(v=j[1])||void 0===v?void 0:v.key)===t&&(s(m),(null===v||void 0===v?void 0:v.notification)&&o.push(null===v||void 0===v?void 0:v.notification));if(!o[0]){e.next=18;break}f=0,p=Object.entries(o[0]);case 5:if(!(f<p.length)){e.next=17;break}return O=Object(d.a)(p[f],2),O[0],x=O[1],e.next=9,i(null===x||void 0===x?void 0:x.id_account);case 9:return g=e.sent,e.next=12,Object(c.a)(Object(c.a)({},x),g);case 12:a=e.sent,l.push(a);case 14:f++,e.next=5;break;case 17:h(l);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(o){console.log(o)}}),[]),Object(se.jsxs)(ve.a,{children:[Object(se.jsx)(_t,{data:m,idNotification:o}),Object(se.jsx)(kt,{data:m,idNotification:o}),Object(se.jsx)("div",{className:"clearfix"}),Object(se.jsx)("div",{style:{width:"100%",height:"10000%",backgroundColor:"#f0f2f5"},children:Object(se.jsx)("div",{className:"container",children:function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return Object(se.jsx)(we.a,{path:e.path,exact:e.exact,component:e.main},t)}))),Object(se.jsx)(we.c,{children:t})}(xt)})})]})})),Ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,538)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),o(e),c(e)}))},St=n(74),Tt={dataUser:{data:null},login:{messageIncorrect:""},register:{messageUsernameAlready:"",messageEmailAlready:"",messageEmailUsernameAlready:""},dataAllUser:[]},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0,n=new u.a,a=t.history;switch(t.type){case m:var i=t.data.data;return i.error&&(e.login.messageIncorrect="Sai th\xf4ng tin t\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u!"),i.id&&(n.set("imageSrc",null===i||void 0===i?void 0:i.imageSrc),n.set("user",null===i||void 0===i?void 0:i.id),n.set("username",null===i||void 0===i?void 0:i.username),e.dataUser.data=i),e;case h:var o=t.data.data;if(o.error){if(1===o.error.length&&"Username"===o.error[0])return e.register.messageUsernameAlready="T\xean ng\u01b0\u1eddi d\xf9ng \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng k\xfd!",e;if(1===o.error.length&&"Email"===o.error[0])return e.register.messageEmailAlready="Email \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng k\xfd!",e;if(2===o.error.length)return e.register.messageEmailUsernameAlready="Email v\xe0 t\xean ng\u01b0\u1eddi d\xf9ng \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng k\xfd!",e}return alert("Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 \u0111\u0103ng k\xfd th\xe0nh c\xf4ng! Quay l\u1ea1i \u0111\u0103ng nh\u1eadp ngay!"),a.push("/login"),e;case p:return n.remove("user"),n.remove("username"),n.remove("imageSrc"),t.setIsOpenHeader(!1),e={dataUser:{data:null},login:{messageIncorrect:""},register:{messageUsernameAlready:"",messageEmailAlready:"",messageEmailUsernameAlready:""},dataAllUser:[]};case k:var c=t.data;return e.dataAllUser=c,e;default:return e}},Pt=new u.a,Rt=[],It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var n=t.data.data;return n.id===Pt.get("user")&&(Pt.set("data",n),Pt.set("username",null===n||void 0===n?void 0:n.username)),e=n,t.setShowLoading(!1),e;default:return e}},At=[],Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var n=t.data.data;return e=n;default:return e}},Ut=[],Bt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case x:var a=n.data;return t=a;case y:var i=n.data,o=n.typePost;if("postById"===o);else{var c,s=t.findIndex((function(e){var t;return(null===e||void 0===e?void 0:e.id_post)===(null===(t=i[0])||void 0===t?void 0:t.id_post)}));t[s].likes=null===(c=i[0])||void 0===c?void 0:c.likes}return Object(fe.a)(t);case N:var r=n.data,l=t.findIndex((function(e){var t;return e.id_post===(null===(t=r[0])||void 0===t?void 0:t.id_post)}));return t[l].comments=null===(e=r[0])||void 0===e?void 0:e.comments,Object(fe.a)(t);default:return t}},Ft=[],qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var n=t.data;return e=n;default:return e}},Ht=[],Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:var n=t.data;return e=n;default:return e}},Mt={bill:[],post:[],history:[]},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var n=t.data;return e.bill=n,Object(c.a)({},e);case S:var a=t.data;return e.post=a,Object(c.a)({},e);case E:return e.history=t.data,Object(c.a)({},e);default:return Object(c.a)({},e)}},zt=[],Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return e=t.data;default:return e}},Yt=new u.a,Xt=[],Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:var n=t.data;return n.id===Yt.get("user")&&(Yt.set("data",n),Yt.set("username",null===n||void 0===n?void 0:n.username)),e=n;case f:var a=t.data.data;return e=a;default:return e}},Qt=Object(St.b)({User:Et,Personal:It,Home:Dt,Post:Bt,PostById:qt,DetailsPost:Lt,Apartment:Gt,CreatePayment:Vt,MyPersonal:Wt}),Zt=n(241),Jt=Object(St.d)(Qt,Object(St.c)(Object(St.a)(Zt.a)));o.a.render(Object(se.jsx)(b.a,{store:Jt,children:Object(se.jsx)(wt,{})}),document.getElementById("root")),Ct()}},[[521,1,2]]]);
//# sourceMappingURL=main.3048a78e.chunk.js.map